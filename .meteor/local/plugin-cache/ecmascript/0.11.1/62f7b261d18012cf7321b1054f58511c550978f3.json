{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":true}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$4","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$5","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$6","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$7","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$9","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/farid/Documents/Projects/Meteor/justadit/client/templates/recipe.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"client/templates/recipe.js","filename":"/Users/farid/Documents/Projects/Meteor/justadit/client/templates/recipe.js","passPerPreset":false,"envName":"development","cwd":"/Users/farid/Documents/Projects/Meteor/justadit","root":"/Users/farid/Documents/Projects/Meteor/justadit","generatorOpts":{"filename":"/Users/farid/Documents/Projects/Meteor/justadit/client/templates/recipe.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/templates/recipe.js"}},"code":"var TAB_KEY = 'recipeShowTab';\nTemplate.recipe.onCreated(function () {\n  if (Router.current().params.activityId) Template.recipe.setTab('feed');else Template.recipe.setTab('recipe');\n});\nTemplate.recipe.onRendered(function () {\n  this.$('.recipe').touchwipe({\n    wipeDown: function () {\n      if (Session.equals(TAB_KEY, 'recipe')) Template.recipe.setTab('make');\n    },\n    preventDefaultEvents: false\n  });\n  this.$('.attribution-recipe').touchwipe({\n    wipeUp: function () {\n      if (!Session.equals(TAB_KEY, 'recipe')) Template.recipe.setTab('recipe');\n    },\n    preventDefaultEvents: false\n  });\n}); // CSS transitions can't tell the difference between e.g. reaching\n//   the \"make\" tab from the expanded state or the \"feed\" tab\n//   so we need to help the transition out by attaching another\n//   class that indicates if the feed tab should slide out of the\n//   way smoothly, right away, or after the transition is over\n\nTemplate.recipe.setTab = function (tab) {\n  var lastTab = Session.get(TAB_KEY);\n  Session.set(TAB_KEY, tab);\n  var fromRecipe = lastTab === 'recipe' && tab !== 'recipe';\n  $('.feed-scrollable').toggleClass('instant', fromRecipe);\n  var toRecipe = lastTab !== 'recipe' && tab === 'recipe';\n  $('.feed-scrollable').toggleClass('delayed', toRecipe);\n};\n\nTemplate.recipe.helpers({\n  isActiveTab: function (name) {\n    return Session.equals(TAB_KEY, name);\n  },\n  activeTabClass: function () {\n    return Session.get(TAB_KEY);\n  },\n  bookmarked: function () {\n    return Meteor.user() && _.include(Meteor.user().bookmarkedRecipeNames, this.name);\n  },\n  activities: function () {\n    return Activities.find({\n      recipeName: this.name\n    }, {\n      sort: {\n        date: -1\n      }\n    });\n  }\n});\nTemplate.recipe.events({\n  'click .js-add-bookmark': function (event) {\n    event.preventDefault();\n    if (!Meteor.userId()) return Overlay.open('authOverlay');\n    Meteor.call('bookmarkRecipe', this.name);\n  },\n  'click .js-remove-bookmark': function (event) {\n    event.preventDefault();\n    Meteor.call('unbookmarkRecipe', this.name);\n  },\n  'click .js-show-recipe': function (event) {\n    event.stopPropagation();\n    Template.recipe.setTab('make');\n  },\n  'click .js-show-feed': function (event) {\n    event.stopPropagation();\n    Template.recipe.setTab('feed');\n  },\n  'click .js-uncollapse': function () {\n    Template.recipe.setTab('recipe');\n  },\n  'click .js-share': function () {\n    Overlay.open('shareOverlay', this);\n  }\n});","map":{"version":3,"sources":["client/templates/recipe.js"],"names":["TAB_KEY","Template","recipe","onCreated","Router","current","params","activityId","setTab","onRendered","$","touchwipe","wipeDown","Session","equals","preventDefaultEvents","wipeUp","tab","lastTab","get","set","fromRecipe","toggleClass","toRecipe","helpers","isActiveTab","name","activeTabClass","bookmarked","Meteor","user","_","include","bookmarkedRecipeNames","activities","Activities","find","recipeName","sort","date","events","event","preventDefault","userId","Overlay","open","call","stopPropagation"],"mappings":"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","sourcesContent":["var TAB_KEY = 'recipeShowTab';\n\nTemplate.recipe.onCreated(function() {\n  if (Router.current().params.activityId)\n    Template.recipe.setTab('feed');\n  else\n    Template.recipe.setTab('recipe');\n});\n\nTemplate.recipe.onRendered(function () {\n  this.$('.recipe').touchwipe({\n    wipeDown: function () {\n      if (Session.equals(TAB_KEY, 'recipe'))\n        Template.recipe.setTab('make')\n    },\n    preventDefaultEvents: false\n  });\n  this.$('.attribution-recipe').touchwipe({\n    wipeUp: function () {\n      if (! Session.equals(TAB_KEY, 'recipe'))\n        Template.recipe.setTab('recipe')\n    },\n    preventDefaultEvents: false\n  });\n});\n\n// CSS transitions can't tell the difference between e.g. reaching\n//   the \"make\" tab from the expanded state or the \"feed\" tab\n//   so we need to help the transition out by attaching another\n//   class that indicates if the feed tab should slide out of the\n//   way smoothly, right away, or after the transition is over\nTemplate.recipe.setTab = function(tab) {\n  var lastTab = Session.get(TAB_KEY);\n  Session.set(TAB_KEY, tab);\n  \n  var fromRecipe = (lastTab === 'recipe') && (tab !== 'recipe');\n  $('.feed-scrollable').toggleClass('instant', fromRecipe);\n\n  var toRecipe = (lastTab !== 'recipe') && (tab === 'recipe');\n  $('.feed-scrollable').toggleClass('delayed', toRecipe);\n}\n\nTemplate.recipe.helpers({\n  isActiveTab: function(name) {\n    return Session.equals(TAB_KEY, name);\n  },\n  activeTabClass: function() {\n    return Session.get(TAB_KEY);\n  },\n  bookmarked: function() {\n    return Meteor.user() && _.include(Meteor.user().bookmarkedRecipeNames, this.name);\n  },\n  activities: function() {\n    return Activities.find({recipeName: this.name}, {sort: {date: -1}});\n  }\n});\n\nTemplate.recipe.events({\n  'click .js-add-bookmark': function(event) {\n    event.preventDefault();\n\n    if (! Meteor.userId())\n      return Overlay.open('authOverlay');\n    \n    Meteor.call('bookmarkRecipe', this.name);\n  },\n\n  'click .js-remove-bookmark': function(event) {\n    event.preventDefault();\n\n    Meteor.call('unbookmarkRecipe', this.name);\n  },\n  \n  'click .js-show-recipe': function(event) {\n    event.stopPropagation();\n    Template.recipe.setTab('make')\n  },\n  \n  'click .js-show-feed': function(event) {\n    event.stopPropagation();\n    Template.recipe.setTab('feed')\n  },\n  \n  'click .js-uncollapse': function() {\n    Template.recipe.setTab('recipe')\n  },\n\n  'click .js-share': function() {\n    Overlay.open('shareOverlay', this);\n  }\n});\n"]},"sourceType":"script","hash":"62f7b261d18012cf7321b1054f58511c550978f3"}
