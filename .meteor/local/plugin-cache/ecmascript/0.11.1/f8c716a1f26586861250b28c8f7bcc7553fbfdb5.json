{"metadata":{},"options":{"plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$2","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":true}},{"key":"base$0$3","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$4","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$0$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$2","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$3","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"base$0$0$4","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$5","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$6","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]}},"options":{}},{"key":"base$0$0$7","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"base$0$0$8","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$0$9","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0$10","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/farid/Documents/Projects/Meteor/justadit/client/templates/products.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"client/templates/products.js","filename":"/Users/farid/Documents/Projects/Meteor/justadit/client/templates/products.js","passPerPreset":false,"envName":"development","cwd":"/Users/farid/Documents/Projects/Meteor/justadit","root":"/Users/farid/Documents/Projects/Meteor/justadit","generatorOpts":{"filename":"/Users/farid/Documents/Projects/Meteor/justadit/client/templates/products.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/templates/products.js"}},"code":"var TAB_KEY = 'productShowTab';\nTemplate.product.onCreated(function () {\n  debugger;\n  if (Router.current().params._searchTerm) Template.product.setTab('feed');else Template.product.setTab('product');\n});\nTemplate.product.onRendered(function () {// this.$('.product').touchwipe({\n  //   wipeDown: function () {\n  //     if (Session.equals(TAB_KEY, 'product'))\n  //       Template.product.setTab('show')\n  //   },\n  //   preventDefaultEvents: false\n  // });\n  // this.$('.attribution-product').touchwipe({\n  //   wipeUp: function () {\n  //     if (! Session.equals(TAB_KEY, 'product'))\n  //       Template.product.setTab('product')\n  //   },\n  //   preventDefaultEvents: false\n  // });\n}); // CSS transitions can't tell the difference between e.g. reaching\n//   the \"make\" tab from the expanded state or the \"feed\" tab\n//   so we need to help the transition out by attaching another\n//   class that indicates if the feed tab should slide out of the\n//   way smoothly, right away, or after the transition is over\n\nTemplate.product.setTab = function (tab) {\n  var lastTab = Session.get(TAB_KEY);\n  Session.set(TAB_KEY, tab);\n  var fromProduct = lastTab === 'product' && tab !== 'product';\n  $('.feed-scrollable').toggleClass('instant', fromProduct);\n  var toProduct = lastTab !== 'product' && tab === 'product';\n  $('.feed-scrollable').toggleClass('delayed', toProduct);\n};\n\nTemplate.product.helpers({\n  isActiveTab: function (name) {\n    return Session.equals(TAB_KEY, name);\n  },\n  activeTabClass: function () {\n    return Session.get(TAB_KEY);\n  },\n  bookmarked: function () {\n    return true; //Meteor.user() && _.include(Meteor.user().bookmarkedRecipeNames, this.name);\n  },\n  activities: function () {\n    return Activities.find({\n      recipeName: this.name\n    }, {\n      sort: {\n        date: -1\n      }\n    });\n  }\n});\nTemplate.product.events({\n  'click .js-add-bookmark': function (event) {\n    event.preventDefault();\n    if (!Meteor.userId()) return Overlay.open('authOverlay');\n    Meteor.call('bookmarkRecipe', this.name);\n  },\n  'click .js-remove-bookmark': function (event) {\n    event.preventDefault();\n    Meteor.call('unbookmarkRecipe', this.name);\n  },\n  'click .js-show-product': function (event) {\n    event.stopPropagation();\n    Template.product.setTab('show');\n  },\n  'click .js-show-feed': function (event) {\n    event.stopPropagation();\n    Template.product.setTab('feed');\n  },\n  'click .js-uncollapse': function () {\n    Template.product.setTab('product');\n  },\n  'click .js-share': function () {\n    Overlay.open('shareOverlay', this);\n  }\n});\nTemplate.products.helpers({\n  firstName: function () {\n    return this.userName.split(' ')[0];\n  },\n  latestProducts: function () {\n    //({done: false},{order: {status: 1}, limit: 5});\n    //return Products.find({},{sort:{createdAt:-1}});\n    Loading.start();\n    var query = false;\n\n    if (Router.current().params.searchTerm) {\n      query = RegExp.escape(Router.current().params.searchTerm);\n    }\n\n    var result = {};\n\n    if (query && query != \"\") {\n      result = Products.find({\n        $or: [{\n          producttitle: {\n            $regex: query,\n            $options: 'i'\n          },\n          productDescription: {\n            $regex: query,\n            $options: 'i'\n          }\n        }]\n      }, {\n        sort: {\n          createdAt: -1\n        }\n      });\n    } else {\n      result = Products.find({}, {\n        sort: {\n          createdAt: -1\n        }\n      });\n    }\n\n    Loading.stop();\n    return result;\n  },\n  homeProducts: function () {\n    return Products.find({}, {\n      sort: {\n        createdAt: -1\n      },\n      limit: 4\n    });\n  },\n  productTitle: function () {\n    return \"\"; //RecipesData[this.recipeName].title;\n  },\n  path: function () {\n    return Router.path('product', {\n      id: this._id\n    }, {\n      query: {\n        _id: this._id\n      }\n    });\n  }\n});","map":{"version":3,"sources":["client/templates/products.js"],"names":["TAB_KEY","Template","product","onCreated","Router","current","params","_searchTerm","setTab","onRendered","tab","lastTab","Session","get","set","fromProduct","$","toggleClass","toProduct","helpers","isActiveTab","name","equals","activeTabClass","bookmarked","activities","Activities","find","recipeName","sort","date","events","event","preventDefault","Meteor","userId","Overlay","open","call","stopPropagation","products","firstName","userName","split","latestProducts","Loading","start","query","searchTerm","RegExp","escape","result","Products","$or","producttitle","$regex","$options","productDescription","createdAt","stop","homeProducts","limit","productTitle","path","id","_id"],"mappings":"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","sourcesContent":["var TAB_KEY = 'productShowTab';\n\nTemplate.product.onCreated(function() {\n  debugger;\n  if (Router.current().params._searchTerm)\n\n    Template.product.setTab('feed');\n  else\n    Template.product.setTab('product');\n});\n\nTemplate.product.onRendered(function () {\n  // this.$('.product').touchwipe({\n  //   wipeDown: function () {\n  //     if (Session.equals(TAB_KEY, 'product'))\n  //       Template.product.setTab('show')\n  //   },\n  //   preventDefaultEvents: false\n  // });\n  // this.$('.attribution-product').touchwipe({\n  //   wipeUp: function () {\n  //     if (! Session.equals(TAB_KEY, 'product'))\n  //       Template.product.setTab('product')\n  //   },\n  //   preventDefaultEvents: false\n  // });\n});\n\n// CSS transitions can't tell the difference between e.g. reaching\n//   the \"make\" tab from the expanded state or the \"feed\" tab\n//   so we need to help the transition out by attaching another\n//   class that indicates if the feed tab should slide out of the\n//   way smoothly, right away, or after the transition is over\nTemplate.product.setTab = function(tab) {\n  var lastTab = Session.get(TAB_KEY);\n  Session.set(TAB_KEY, tab);\n  \n  var fromProduct = (lastTab === 'product') && (tab !== 'product');\n  $('.feed-scrollable').toggleClass('instant', fromProduct);\n\n  var toProduct = (lastTab !== 'product') && (tab === 'product');\n  $('.feed-scrollable').toggleClass('delayed', toProduct);\n}\n\nTemplate.product.helpers({\n  isActiveTab: function(name) {\n    return Session.equals(TAB_KEY, name);\n  },\n  activeTabClass: function() {\n    return Session.get(TAB_KEY);\n  },\n  bookmarked: function() {\n    return true;//Meteor.user() && _.include(Meteor.user().bookmarkedRecipeNames, this.name);\n  },\n  activities: function() {\n    return Activities.find({recipeName: this.name}, {sort: {date: -1}});\n  }\n});\n\nTemplate.product.events({\n  'click .js-add-bookmark': function(event) {\n    event.preventDefault();\n\n    if (! Meteor.userId())\n      return Overlay.open('authOverlay');\n    \n    Meteor.call('bookmarkRecipe', this.name);\n  },\n\n  'click .js-remove-bookmark': function(event) {\n    event.preventDefault();\n\n    Meteor.call('unbookmarkRecipe', this.name);\n  },\n  \n  'click .js-show-product': function(event) {\n    event.stopPropagation();\n    Template.product.setTab('show')\n  },\n  \n  'click .js-show-feed': function(event) {\n    event.stopPropagation();\n    Template.product.setTab('feed')\n  },\n  \n  'click .js-uncollapse': function() {\n    Template.product.setTab('product')\n  },\n\n  'click .js-share': function() {\n    Overlay.open('shareOverlay', this);\n  }\n});\n\n\n\n\n\n \n  \n  Template.products.helpers({\n    firstName: function() {\n      return this.userName.split(' ')[0];\n    },\n    latestProducts : function()\n    {//({done: false},{order: {status: 1}, limit: 5});\n      //return Products.find({},{sort:{createdAt:-1}});\n      Loading.start();\n      var query =false;\n      if(Router.current().params.searchTerm)\n      {\n       query = RegExp.escape(Router.current().params.searchTerm)  ;\n      }\n      var result ={};\n      if (query && query != \"\")\n      {\n        result = Products.find({$or:[{producttitle:{ $regex: query, $options: 'i' },productDescription:{ $regex: query, $options: 'i' }}]},{sort:{createdAt:-1}});    \n  \n\n      }\n      else\n      {\n        result = Products.find({},{sort:{createdAt:-1}});\n    \n      }\n      Loading.stop();\n      return result;\n    },\n    homeProducts : function()\n    {\n      return Products.find({},{sort:{createdAt:-1},limit:4});\n    },\n    productTitle: function() {\n      return \"\";//RecipesData[this.recipeName].title;\n    },\n    path: function() {\n      return Router.path('product', { id: this._id },\n        { query: { _id: this._id } })\n    }\n  })\n\n  \n"]},"sourceType":"script","hash":"f8c716a1f26586861250b28c8f7bcc7553fbfdb5"}
