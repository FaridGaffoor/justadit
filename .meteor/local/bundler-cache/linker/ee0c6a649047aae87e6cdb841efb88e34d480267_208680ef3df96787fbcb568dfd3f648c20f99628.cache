[{"type":"js","data":"/* Imports for global scope */\n\nReactiveVar = Package['reactive-var'].ReactiveVar;\nHTTP = Package.http.HTTP;\nFastClick = Package.fastclick.FastClick;\nServiceConfiguration = Package['service-configuration'].ServiceConfiguration;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nCounts = Package['tmeasday:publish-counts'].Counts;\nRouteController = Package['iron:router'].RouteController;\nRoute = Package['iron:router'].Route;\nRouter = Package['iron:router'].Router;\nIronLocation = Package['iron:router'].IronLocation;\nMeteorCamera = Package['mdg:camera'].MeteorCamera;\nGeolocation = Package['mdg:geolocation'].Geolocation;\nMongo = Package.mongo.Mongo;\nSession = Package.session.Session;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nReload = Package.reload.Reload;\nRandom = Package.random.Random;\nEJSON = Package.ejson.EJSON;\nSpacebars = Package.spacebars.Spacebars;\ncheck = Package.check.check;\nMatch = Package.check.Match;\nLoading = Package['xyz:loading'].Loading;\n_ = Package.underscore._;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nTwitter = Package['twitter-oauth'].Twitter;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nTemplate = Package['templating-runtime'].Template;\nFS = Package['cfs:base-package'].FS;\nAutoupdate = Package.autoupdate.Autoupdate;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"templates\":{\"template.Maintain_Product.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.Maintain_Product.js                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"tmp_product_maintain\");\nTemplate[\"tmp_product_maintain\"] = new Template(\"Template.tmp_product_maintain\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: function() {\n      return [ \"page product \", Spacebars.mustache(view.lookup(\"activeTabClass\")) ];\n    }\n  }, \"\\n            \", Blaze.View(\"lookup:uiLogger\", function() {\n    return Spacebars.mustache(view.lookup(\"uiLogger\"), view.lookup(\"thisSelectedProduct\"));\n  }), \"\\n                \", Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"thisSelectedProduct\"));\n  }, function() {\n    return [ \"   \\n                \\n                  \", Blaze._TemplateWith(function() {\n      return {\n        title: Spacebars.call(Spacebars.dot(view.lookup(\"thisSelectedProduct\"), \"producttitle\")),\n        black: Spacebars.call(true),\n        back: Spacebars.call(true)\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"nav\"), function() {\n        return [ \"\\n                    \", HTML.Comment(' {{#if bookmarked}}\\n                      <a href=\"#\" class=\"nav-item js-remove-bookmark bookmarked\"><span class=\"icon-bookmark\"></span></a>\\n                    {{else}}\\n                      <a href=\"#\" class=\"nav-item js-add-bookmark\"><span class=\"icon-bookmark-hollow\"></span></a>\\n                    {{/if}} '), \"\\n                  \", HTML.Comment('<a href=\"#\" class=\"nav-item js-share\"><span class=\"icon-camera\"></span></a>'), \"\\n                  \" ];\n      });\n    }), \"\\n                \\n                   \\n                  \", HTML.DIV({\n      class: \"content-scrollable static-nav product-scrollable\"\n    }, \"\\n                    \", HTML.DIV(\"\\n\\n                    \"), \"\\n                    \", HTML.DIV({\n      class: \"container-fluid panel-body form-row\"\n    }, \"\\n\\n                    \", Blaze.Each(function() {\n      return {\n        _sequence: Spacebars.dataMustache(view.lookup(\"getImageById\"), view.lookup(\"prodImg\")),\n        _variable: \"imgs\"\n      };\n    }, function() {\n      return [ \"               \\n       \\n                        \", HTML.DIV({\n        class: \"col-sm-4 col-md-4 col-lg-2\",\n        style: function() {\n          return [ \"background-image:url('\", Spacebars.mustache(Spacebars.dot(view.lookup(\"imgs\"), \"url\")), \"');height:300px\" ];\n        }\n      }, \"    \\n                                \", HTML.Comment(\" <img   class=\\\"img-responsive panel-body \\\"     src=\\\"{{imgs.url store='images' loading='/images/uploading.gif' uploading='/images/uploading.gif' storing='/images/storing.gif'}}\\\" alt=\\\"\\\"  /> \"), \"\\n                                \\n                                 \", HTML.IMG({\n        class: \"deleteImg btn primary-btn\",\n        src: \"/images/delImage.png\",\n        style: \"width:5em;height:5em;display:block;margin-left:auto;position:relative; margin-right:auto;margin-top:auto;top:50%\",\n        imgid: function() {\n          return Spacebars.mustache(Spacebars.dot(view.lookup(\"imgs\"), \"_id\"));\n        }\n      }), \"\\n                           \\n                        \"), \"                                                   \\n     \\n                     \" ];\n    }), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n      class: \"container-fluid panel-body\"\n    }, \"\\n                      \", HTML.DIV({\n      class: \"form-row\"\n    }, \"\\n                          \", HTML.DIV({\n      class: \"col-md-4\"\n    }, \"\\n                              \", HTML.LABEL(\"Product Title :\"), \"\\n                              \", HTML.INPUT({\n      type: \"text\",\n      class: \"\",\n      id: \"txtTitle\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"producttitle\"));\n      }\n    }), \"\\n                          \"), \"\\n                          \", HTML.DIV({\n      class: \"col-md-4\"\n    }, \"\\n                                \", HTML.LABEL(\"Product Description :\"), \"\\n                                \", HTML.INPUT({\n      type: \"text\",\n      id: \"txtDescription\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"productDescription\"));\n      }\n    }), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n      class: \"col-md-4\"\n    }, \"\\n                                    \", HTML.LABEL(\"Product Price :\"), \"\\n                                    \", HTML.INPUT({\n      type: \"text\",\n      id: \"txtPrice\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"price\"));\n      }\n    }), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n      class: \"col-md-4\"\n    }, \"\\n                                    \", HTML.LABEL(\"Product Category :\"), \"\\n                                    \", HTML.INPUT({\n      type: \"text\",\n      id: \"txtPrice\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"price\"));\n      }\n    }), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n      class: \"col-md-4\"\n    }, \"\\n                                    \", HTML.LABEL(\"Product Status : Active\"), \"\\n                                     \\n                            \"), \"\\n                            \\n                              \\n                      \"), \"     \\n                    \"), \"\\n                    \\n                     \", HTML.Comment(' <div class=\"card\" >\\n                        <div class=\"panel-body\">\\n                            <div class=\"card-block\">\\n                                <div class=\"media-left\">\\n                                   <div class=\"row\">\\n                                      <div class=\"col-md-4 col-sm-4\">\\n                                          <div style=\"width:236px;height:236px\">\\n                                              {{>showImage imgId=seller.busLogo}}\\n                                            </div>\\n                                      </div>\\n                                      <div class=\"col-md-8 col-sm-8\">\\n                                        {{#if currentUser}}\\n                                          <div class=\"media-body\">\\n                                              <h1 class=\"text-capitalize\">{{seller.businessname}}</h1>\\n                                                <div class=\"panel-body\">\\n                                                    <h1>Contact</h1>\\n                                                    <div class=\"card-subtitle\">\\n                                                      <div class=\"row\">\\n                                                          <div class=\"col-sm-4\">\\n                                                              <span class=\"glyphicon glyphicon-phone\"></span>\\n                                                              {{seller.buscel}}\\n                                                          </div>\\n                                                      </div>\\n                                                      <div class=\"row\">\\n                                                          <div class=\"col-sm-4\">\\n                                                              <span class=\"glyphicon glyphicon-envelope\"></span>\\n                                                              {{seller.busemail}}\\n                                                          </div>\\n                                                      </div>\\n                                                      <div class=\"row\">\\n                                                          <div class=\"col-sm-4\">\\n                                                              <span class=\"glyphicon glyphicon-user\"></span>\\n                                                              {{seller.cont1}}/{{seller.cont2}}\\n                                                          </div>\\n                                                      </div>\\n                                                    </div>                        \\n                                                </div>                    \\n                                              <div class=\"clearfix\"></div>                 \\n                                            </div>    \\n                                      \\n                                      \\n                                            {{else}}\\n                                              Please login to view details\\n                                            {{/if}}    \\n                                      </div>\\n                                   </div>                    \\n                                </div>            \\n                                               \\n                            </div>            \\n                        </div>       \\n                    </div>  \\n                     '), \"\\n                  \"), \"\\n                  \" ];\n  }), \"\\n               \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.Sell_Product.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.Sell_Product.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"tmp_product_sell\");\nTemplate[\"tmp_product_sell\"] = new Template(\"Template.tmp_product_sell\", (function() {\n  var view = this;\n  return HTML.FORM({\n    class: \"product-link-add\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"form-row\"\n  }, \"\\n              \", HTML.DIV({\n    class: \"form-group col-md-4\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"form-group\"\n  }, \"\\n                  \", HTML.Raw('<label for=\"img\" class=\"col-form-label\">Product Image</label>'), \"\\n                  \", HTML.Raw('<div class=\"card\">\\n                    <!--<img id=\"prdImg\" class=\"img-responsive\"  width=\"304\" name=\"imgprd\" height=\"236\">\\n                    -->\\n                  </div>'), \"\\n                  \", HTML.DIV({\n    name: \"imgProgress\"\n  }, \"\\n                    \\n                    \", HTML.IMG({\n    name: \"imgBusLogo\",\n    id: \"imgBuslogo\",\n    class: \"imgBusLogo img-fluid img-responsive panel-body \",\n    width: \"236px\",\n    height: \"236px\",\n    src: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"url\"), Spacebars.kw({\n        store: \"images\",\n        uploading: \"/images/uploading.gif\",\n        storing: \"/images/storing.gif\"\n      }));\n    },\n    alt: \"\"\n  }), \" \\n                  \"), \"\\n                  \", HTML.Raw('<div id=\"prdImages\" name=\"prdImages\" style=\"height:auto;width:auto\">\\n               \\n    \\n                  </div>'), \"\\n              \\n                  \", HTML.Raw('<input type=\"file\" name=\"prodImg\" class=\"prodImg\" multiple=\"multiple\" id=\"prodImg\" placeholder=\"Please select product image\">'), \"                  \\n                \"), \"\\n              \"), \"\\n              \", HTML.DIV({\n    class: \"form-group col-md-8\"\n  }, \"\\n                \", HTML.Raw('<div class=\"form-row\">\\n                  <div class=\"form-group col-md-6\">\\n                    <!-- <label for=\"title\" class=\"col-form-label\">Product Title</label> -->\\n                    <input type=\"text\" name=\"prdTitle\" class=\"required\" placeholder=\"Product Title\">\\n                  </div>                 \\n                  <div class=\"form-group col-md-6\">\\n                    <!-- <label for=\"description\" class=\"col-form-label\">Product Description</label> -->\\n                    <input type=\"text\" name=\"prdDesc\" class=\"required\" placeholder=\"Product Description\">\\n                  </div>                \\n                  <div class=\"form-group col-md-2\">\\n                    <!-- <label for=\"price\" class=\"col-form-label\">Price</label> -->\\n                    <input type=\"text\" name=\"prdprice\" class=\"required\" placeholder=\"100.00\">\\n                  </div>\\n                </div>'), \"\\n                \", HTML.DIV({\n    class: \"form-row\"\n  }, \"\\n                  \", HTML.DIV({\n    class: \"form-group col-md-3\"\n  }, \"\\n                    \", HTML.Raw('<!--<input type=\"hidden\" name=\"sellerId\">{{Meteor.userId}}</input> -->'), \"\\n                    \", HTML.Raw('<!-- <label for=\"lprdCat\" class=\"col-form-label\">Category</label> -->'), \"\\n                    \", HTML.SELECT({\n    id: \"prdCat\",\n    class: \"prdCat form-control \",\n    name: \"prdCat\",\n    placeholder: \"Please select product category\"\n  }, \"\\n               \\n                      \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"get_Prod_Cat\"));\n  }, function() {\n    return [ \"\\n                          \", HTML.OPTION({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"id\"));\n      }\n    }, Blaze.View(\"lookup:value\", function() {\n      return Spacebars.mustache(view.lookup(\"value\"));\n    })), \"\\n                      \" ];\n  }), \"\\n                    \"), \"\\n                  \"), \"\\n    \\n                  \\n                  \", HTML.DIV({\n    class: \"form-group col-md-3\"\n  }, \"\\n                    \", HTML.Raw('<!--<input type=\"hidden\" name=\"sellerId\">{{Meteor.userId}}</input>  \\n                    <label for=\"expireDate\" class=\"col-form-label\">End Date</label>-->'), \"\\n                    \", HTML.SELECT({\n    id: \"prdExpire\",\n    class: \"prdExpire form-control \",\n    name: \"prdExpire\",\n    placeholder: \"Please select product advert period length\"\n  }, \"\\n                      \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"get_Add_Length\"));\n  }, function() {\n    return [ \"\\n                          \", HTML.OPTION({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"id\"));\n      }\n    }, Blaze.View(\"lookup:value\", function() {\n      return Spacebars.mustache(view.lookup(\"value\"));\n    })), \"\\n                      \" ];\n  }), \"\\n                    \"), \"\\n                  \"), \"\\n                \"), \"\\n              \"), \"\\n            \"), \"\\n                \\n                \", HTML.DIV({\n    class: \"form-group\"\n  }, \"\\n                  \", HTML.Raw('<!-- <div class=\"form-row \">\\n                     <div class=\"col-md-8\">\\n                        <input name=\"chkTC\" class=\"button\" type=\"button\" onclick=\"document.getElementById(\\'btnAdd\\').enable = this.value;\" > \\n                        <label class=\"form-check-label\">\\n                            Accept terms and conditions\\n                        </label>\\n                    </div>\\n                  </div> -->'), \"\\n                \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n                  \", HTML.BUTTON({\n      id: \"btnAdd\",\n      type: \"submit\",\n      class: \"btn btn-primary\"\n    }, \"Start\"), \"\\n                \" ];\n  }, function() {\n    return [ \"\\n                  \", HTML.LABEL({\n      for: \"expireDate\",\n      class: \"col-form-label\"\n    }, \"You must login and register as a Seller.\"), \"\\n                \" ];\n  }), \"\\n                \"), \"\\n                \\n                \\n              \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.about.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.about.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"about\");\nTemplate[\"about\"] = new Template(\"Template.about\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"page about\"\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"About\"),\n      black: Spacebars.call(true)\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"));\n  }), HTML.Raw('\\n\\n    <div class=\"content-scrollable\">\\n      <div class=\"bg-image about\">\\n        <h1 class=\"title-about\">\\n          <img src=\"img/app/title-about.svg\" alt=\"Go Local\">\\n        </h1>\\n      </div>\\n      <div class=\"description-about\">\\n        <p>Be a local wherever you go. Connect to Local Market’s community to get the latest news, hand-picked products , and share with other locals. .</p>\\n\\n        <p>Just Ad It was built of the Local Market theme  made by <a href=\"http://percolatestudio.com\" target=\"_blank\" class=\"js-open\">Percolate Studio</a> .</p>\\n      </div>\\n\\n    </div>\\n    \\n  '));\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.activity.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.activity.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"activity\");\nTemplate[\"activity\"] = new Template(\"Template.activity\", (function() {\n  var view = this;\n  return HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"path\"));\n    },\n    class: \"item-activity\"\n  }, \"\\n\\n    \", HTML.SPAN({\n    class: \"attribution\"\n  }, \"\\n      \", HTML.SPAN({\n    class: \"avatar\"\n  }, \"\\n        \", HTML.IMG({\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"userAvatar\"));\n    },\n    class: \"image-avatar\"\n  }), \"\\n      \"), \"\\n      \", HTML.SPAN({\n    class: \"meta\"\n  }, \"\\n        \", HTML.SPAN({\n    class: \"author\"\n  }, Blaze.View(\"lookup:firstName\", function() {\n    return Spacebars.mustache(view.lookup(\"firstName\"));\n  })), \" made \", HTML.SPAN({\n    class: \"recipe\"\n  }, Blaze.View(\"lookup:recipeTitle\", function() {\n    return Spacebars.mustache(view.lookup(\"recipeTitle\"));\n  })), \": \", Blaze.View(\"lookup:text\", function() {\n    return Spacebars.mustache(view.lookup(\"text\"));\n  }), \"\\n       \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"place\"));\n  }, function() {\n    return HTML.SPAN({\n      class: \"location\"\n    }, HTML.CharRef({\n      html: \"&mdash;\",\n      str: \"—\"\n    }), Blaze.View(\"lookup:place\", function() {\n      return Spacebars.mustache(view.lookup(\"place\"));\n    }));\n  }), \"\\n       \"), \"\\n    \"), \"\\n\\n    \", HTML.DIV({\n    class: \"bg-image\",\n    style: function() {\n      return [ \"background-image: url('\", Spacebars.mustache(view.lookup(\"image\")), \"');\" ];\n    }\n  }), \"\\n\\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.admin.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.admin.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"admin\");\nTemplate[\"admin\"] = new Template(\"Template.admin\", (function() {\n  var view = this;\n  return HTML.DIV({\n    id: \"admin\"\n  }, HTML.Raw('\\n    <a href=\"/\" class=\"back-desktop\"><span class=\"icon-arrow-left-alt\"></span> Back</a>\\n    '), HTML.DIV({\n    class: \"wrapper-admin\"\n  }, \"\\n      \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isAdmin\"));\n  }, function() {\n    return [ \"\\n        \", HTML.H1({\n      class: \"title-admin\"\n    }, \"Admin\"), \"\\n\\n        \", HTML.FORM(\"\\n          \", HTML.LABEL(\"Edit the front page news:\"), \"\\n          \", HTML.TEXTAREA({\n      name: \"text\",\n      rows: \"5\",\n      placeholder: \"Show the latest Local Market news on the the frontpage...\",\n      value: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"latestNews\"), \"text\"));\n      }\n    }), \"\\n          \", HTML.BUTTON({\n      type: \"submit\",\n      class: \"btn-primary\"\n    }, \"Save\"), \"\\n        \"), \"\\n      \" ];\n  }, function() {\n    return [ \"\\n        \", HTML.H1({\n      class: \"title-admin\"\n    }, \"Forbidden\"), \"\\n        \\n        \", Blaze.Unless(function() {\n      return Spacebars.call(view.lookup(\"currentUser\"));\n    }, function() {\n      return [ \"\\n          \", HTML.A({\n        class: \"login\"\n      }, \"Log in with Twitter\"), \"\\n        \" ];\n    }), \"\\n      \" ];\n  }), \"\\n    \"), \"\\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.app-body.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.app-body.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"appBody\");\nTemplate[\"appBody\"] = new Template(\"Template.appBody\", (function() {\n  var view = this;\n  return [ HTML.Raw('<!--\\n  <div class=\"wrapper-welcome\">\\n    <div class=\"title-welcome\">Local Market</div>\\n    <div class=\"description-welcome\">Local Market was made by <a href=\"http://percolatestudio.com\" target=\"_blank\" class=\"js-open\">Percolate Studio</a> as an example of a cross platform mobile app built in <a href=\"https://www.meteor.com\" target=\"_blank\" class=\"js-open\">Meteor</a>. The entire app is less than 1,000 lines of JavaScript. View the source on <a href=\"https://github.com/meteor/meteor/tree/devel/examples/localmarket\" target=\"_blank\" class=\"js-open\">GitHub</a>.\\n    </div>\\n    \\n    <div class=\"description-welcome\">\\n    The app is designed to run on a physical device, where it uses the hardware\\'s native camera and GPS support.\\n    </div>\\n\\n    <div class=\"description-welcome\">\\n    You can also run it in a simulator, or in a desktop browser as a convenience (what you\\'re looking at right now).\\n    </div>\\n\\n    <div class=\"description-welcome\">\\n    This app includes a simple administrative backend that you can use to set welcome text on the app\\'s home screen. Visit <a href=\"{{pathFor \\'admin\\'}}\">/admin</a> to log into the backend. The first authenticated user is allowed access.\\n    </div>\\n  </div>\\n-->\\n\\n  '), HTML.DIV({\n    id: \"container\",\n    class: function() {\n      return [ Spacebars.mustache(view.lookup(\"menuOpen\")), \" \", Spacebars.mustache(view.lookup(\"overlayOpen\")) ];\n    }\n  }, \"\\n    \", HTML.SECTION({\n    id: \"menu\",\n    class: \"overthrow\"\n  }, \"\\n      \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"home\");\n    },\n    class: function() {\n      return Spacebars.mustache(view.lookup(\"activePage\"), \"home\");\n    }\n  }, \"\\n        \", HTML.Raw('<span class=\"wrapper-menu-item\">\\n          <span class=\"icon-home\"></span>\\n          <span class=\"title-menu\">Home</span>\\n        </span>'), \"\\n      \"), \"\\n      \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"products\");\n    },\n    class: function() {\n      return Spacebars.mustache(view.lookup(\"activePage\"), \"products\");\n    }\n  }, \"\\n        \", HTML.Raw('<span class=\"wrapper-menu-item\">\\n          <span class=\"glyphicon glyphicon-shopping-cart\"></span>\\n          <span class=\"title-menu\">Buy</span>\\n        </span>'), \"\\n      \"), \"\\n      \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n      \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"seller\");\n      },\n      class: function() {\n        return Spacebars.mustache(view.lookup(\"activePage\"), \"seller\");\n      }\n    }, \"\\n        \", HTML.SPAN({\n      class: \"wrapper-menu-item\"\n    }, \"\\n          \", HTML.SPAN({\n      class: \"glyphicon glyphicon-tags\"\n    }), \"\\n          \", HTML.SPAN({\n      class: \"title-menu\"\n    }, \"Sell\"), \"\\n        \"), \"\\n      \"), \"\\n      \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"notifications\");\n      },\n      class: function() {\n        return Spacebars.mustache(view.lookup(\"activePage\"), \"notifications\");\n      }\n    }, \"\\n        \", HTML.SPAN({\n      class: \"wrapper-menu-item\"\n    }, \"\\n          \", HTML.SPAN({\n      class: \"glyphicon glyphicon-tags\"\n    }), \"\\n          \", HTML.SPAN({\n      class: \"title-menu\"\n    }, \"Notifications\"), \"\\n        \"), \"\\n      \"), \"\\n      \" ];\n  }), \"\\n\\n      \\n      \", HTML.Raw('<!-- <a href=\"{{pathFor \\'feed\\'}}\" class=\"{{activePage \\'feed\\'}}\">\\n        <span class=\"wrapper-menu-item\">\\n          <span class=\"icon-rss\"></span>\\n          <span class=\"title-menu\">What\\'s<br>Cooking</span>\\n        </span>\\n      </a>\\n      <a href=\"{{pathFor \\'recipes\\'}}\" class=\"{{activePage \\'recipes\\' \\'recipe\\'}}\">\\n        <span class=\"wrapper-menu-item\">\\n          <span class=\"icon-category\"></span>\\n          <span class=\"title-menu\">Recipes</span>\\n        </span>\\n      </a>\\n      <a href=\"{{pathFor \\'bookmarks\\'}}\" class=\"{{activePage \\'bookmarks\\'}}\">\\n        <span class=\"wrapper-menu-item\">\\n          <span class=\"icon-bookmark-hollow\"></span>\\n          <span class=\"title-menu\">Bookmarks</span>\\n        </span>\\n      </a> -->'), \"\\n      \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"about\");\n    },\n    class: function() {\n      return Spacebars.mustache(view.lookup(\"activePage\"), \"about\");\n    }\n  }, \"\\n        \", HTML.Raw('<span class=\"wrapper-menu-item\">\\n          <span class=\"icon-question\"></span>\\n          <span class=\"title-menu\">About</span>\\n        </span>'), \"\\n      \"), \"\\n\\n      \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"login\");\n    },\n    class: function() {\n      return Spacebars.mustache(view.lookup(\"activePage\"), \"login\");\n    }\n  }, \"\\n          \", HTML.Raw('<span class=\"wrapper-menu-item\">\\n            <span class=\"glyphicon glyphicon-user\"></span>\\n            <span class=\"title-menu\">Login</span>\\n          </span>'), \"\\n        \"), \"\\n    \"), \"\\n\\n      \", HTML.DIV({\n    class: \"notifications\"\n  }, \"\\n        \", Blaze.Unless(function() {\n    return Spacebars.call(view.lookup(\"connected\"));\n  }, function() {\n    return [ \"\\n          \", HTML.DIV({\n      class: \"notification\"\n    }, \"\\n            \", HTML.SPAN({\n      class: \"icon-sync\"\n    }), \"\\n            \", HTML.DIV({\n      class: \"title-notification\"\n    }, \"Trying to connect\"), \"\\n          \"), \"\\n        \" ];\n  }), \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"notifications\"));\n  }, function() {\n    return [ \"\\n          \", HTML.DIV({\n      class: \"notification\"\n    }, \"\\n            \", HTML.A({\n      class: \"btn-primary js-notification-action\"\n    }, Blaze.View(\"lookup:action\", function() {\n      return Spacebars.mustache(view.lookup(\"action\"));\n    })), \"\\n            \", HTML.DIV({\n      class: \"title-notification\"\n    }, Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    })), \"\\n          \"), \"\\n        \" ];\n  }), \"\\n      \"), \"\\n\\n    \", Spacebars.include(view.lookupTemplate(\"overlay\")), \"\\n\\n    \", HTML.Raw('<div class=\"content-overlay\"></div>'), \"\\n\\n    \", HTML.DIV({\n    id: \"content-container\"\n  }, \"\\n      \", Spacebars.include(view.lookupTemplate(\"yield\")), \"\\n    \"), \"\\n\\n  \") ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.auth-overlay.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.auth-overlay.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"authOverlay\");\nTemplate[\"authOverlay\"] = new Template(\"Template.authOverlay\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: function() {\n      return [ \"page product \", Spacebars.mustache(view.lookup(\"activeTabClass\")) ];\n    }\n  }, \"\\n        \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Login\"),\n      black: Spacebars.call(true),\n      back: Spacebars.call(false)\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"), function() {\n      return \"\\n        \";\n    });\n  }), \"\\n        \", HTML.DIV({\n    class: \"content-scrollable static-nav \"\n  }, \"\\n          \", HTML.DIV({\n    class: \"container-fluid\",\n    style: \"height: 100%;max-height: 360px\"\n  }, \"\\n              \", HTML.DIV({\n    class: \"\",\n    style: \"position:absolute;display:inline-block;left:30%;top:20%\"\n  }, \" \\n                  \", HTML.DIV({\n    class: \"panel-body\",\n    style: \"position: relative;left:-25%\"\n  }, \"\\n                        \", Spacebars.include(view.lookupTemplate(\"loginButtons\")), \"\\n                  \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n                    \", Spacebars.include(view.lookupTemplate(\"logout\")), \"\\n                  \" ];\n  }, function() {\n    return [ \"\\n                \\n                      \", Spacebars.include(view.lookupTemplate(\"customLogin\")), \"\\n                     \\n                     \\n                  \\n                  \" ];\n  }), \"\\n                  \"), \"\\n              \"), \"\\n          \"), \"\\n            \\n          \", HTML.Raw('<div style=\"position: relative;display:inline-block;height:400px;left:30%;top:30%\">\\n          <!-- <div id=\"login-screen\">\\n            {{> loginButtons}}\\n          </div> -->\\n          \\n           \\n        </div>'), \"\\n              \\n         \"), \"\\n  \");\n}));\n\nTemplate.__checkName(\"logout\");\nTemplate[\"logout\"] = new Template(\"Template.logout\", (function() {\n  var view = this;\n  return HTML.Raw('<div>\\n        <button class=\"btn btn-primary col-xs-12 col-sm-12 btnLogout\" id=\"btnLogout\" type=\"button\">Logout</button>\\n        <button class=\"btn btn-secondary col-xs-12 col-sm-12 btnCancel \" type=\"button\">Cancel</button>\\n      </div>');\n}));\n\nTemplate.__checkName(\"customLogin\");\nTemplate[\"customLogin\"] = new Template(\"Template.customLogin\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"panel-heading title-product\"><h1>Login</h1></div>\\n    <form id=\"login-form\" action=\"action\">\\n      <div>\\n          <div class=\"form-group\">\\n              <label for=\"emailAddress\">Email address</label>\\n              <input type=\"email\" class=\"form-control\" id=\"emailAddress\" placeholder=\"Email\">\\n            </div>\\n            <div class=\"form-group\">\\n                <label for=\"password\">Password</label>\\n                <input type=\"password\" class=\"form-control\" id=\"password\" placeholder=\"Password\">\\n              </div>\\n        <div style=\"\">\\n          <button id=\"btnLogin\" class=\"btn btn-primary col-xs-12 col-sm-12 btnLogin \" type=\"button\">Login</button>\\n          <button class=\"btnCancel btn btn-secondary col-xs-12 col-sm-12 \" type=\"button\">Cancel</button>\\n        </div>\\n        \\n      </div>\\n      </form>\\n      <div class=\"row\">      \\n          <button id=\"bSignup\" class=\"bSignup btn\" type=\"button\">Signup</button>\\n          <button ib=\"bForgot\" class=\"btn\" type=\"submit\">Forgot password</button>\\n          \\n      </div>');\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.auth-signup.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.auth-signup.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"authOverlaySignup\");\nTemplate[\"authOverlaySignup\"] = new Template(\"Template.authOverlaySignup\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: function() {\n      return [ \"page product \", Spacebars.mustache(view.lookup(\"activeTabClass\")) ];\n    }\n  }, \"\\n        \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Signup\"),\n      black: Spacebars.call(true),\n      back: Spacebars.call(false)\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"), function() {\n      return \"\\n        \";\n    });\n  }), \"\\n        \", HTML.DIV({\n    class: \"content-scrollable static-nav \"\n  }, \"\\n          \", HTML.DIV({\n    class: \"container-fluid\",\n    style: \"height: 100%;max-height: 360px\"\n  }, \"\\n              \", HTML.DIV({\n    class: \"\",\n    style: \"position:absolute;display:inline-block;left:30%;top:20%\"\n  }, \" \\n                  \", HTML.DIV({\n    class: \"panel-body\",\n    style: \"position: relative;left:-25%\"\n  }, \"\\n                  \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n                    \", Spacebars.include(view.lookupTemplate(\"logout\")), \"\\n                  \" ];\n  }, function() {\n    return [ \"\\n                   \\n                      \", Spacebars.include(view.lookupTemplate(\"SignUp\")), \"\\n                     \\n                  \" ];\n  }), \"\\n                  \"), \"\\n              \"), \"\\n          \"), \"\\n            \\n          \", HTML.Raw('<!-- <div style=\"position: relative;display:inline-block;height:400px;left:30%;top:30%\">\\n          <div id=\"login-screen\">\\n            {{> loginButtons}}\\n          </div>\\n          \\n           \\n        </div> -->'), \"\\n              \\n         \"), \"\\n  \");\n}));\n\nTemplate.__checkName(\"SignUp\");\nTemplate[\"SignUp\"] = new Template(\"Template.SignUp\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"panel-heading title-product\"><h1>Signup</h1></div>\\n      <form id=\"sign-up-form\" class=\"sign-up-form\">\\n        <div>\\n            <div class=\"form-group\">\\n                <label for=\"signupEmail\">Email address</label>\\n                <input type=\"email\" class=\"form-control\" id=\"signupEmail\" placeholder=\"Email\">\\n              </div>\\n              <div class=\"form-group\">\\n                  <label for=\"signupPassword\">Password</label>\\n                  <input type=\"password\" class=\"form-control\" id=\"signupPassword\" placeholder=\"Password\">\\n                </div>\\n                <div class=\"form-group\">\\n                    <label for=\"signupRPassword\">Repeat Password</label>\\n                    <input type=\"password\" class=\"form-control\" id=\"signupRPassword\" placeholder=\"Repeat Password\">\\n                  </div>\\n          <div style=\"\">\\n            <button name=\"btnSignUp\" class=\"btnSignup btn btn-primary col-xs-12 col-sm-12 \" id=\"btnSignUp\" type=\"button\">Sign up</button>\\n            <button class=\"btn btn-secondary col-xs-12 col-sm-12 btnCancel\" type=\"button\">Cancel</button>\\n          </div>\\n          <div class=\"row\">\\n              <button id=\"bLogin\" class=\"bLogin btn \" type=\"button\">Login</button>             \\n            </div>\\n        </div>\\n        </form>');\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.bookmarks.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.bookmarks.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"bookmarks\");\nTemplate[\"bookmarks\"] = new Template(\"Template.bookmarks\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"page bookmarks\"\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Your Bookmarks\"),\n      subtext: Spacebars.call(view.lookup(\"recipeCount\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"));\n  }), \"\\n\\n    \", HTML.DIV({\n    class: \"content-scrollable\"\n  }, \"\\n      \", HTML.DIV({\n    class: \"list-recipes\"\n  }, \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\".\"));\n  }, function() {\n    return [ \"\\n          \", Blaze._TemplateWith(function() {\n      return {\n        recipe: Spacebars.call(view.lookup(\".\")),\n        size: Spacebars.call(\"large\")\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"recipeItem\"));\n    }), \"\\n        \" ];\n  }, function() {\n    return [ \"\\n          \", HTML.DIV({\n      class: \"wrapper-message\"\n    }, \"\\n            \", HTML.DIV({\n      class: \"title-message\"\n    }, \"No bookmarks yet\"), \"\\n            \", HTML.DIV({\n      class: \"subtitle-message\"\n    }, \"Tap \", HTML.SPAN({\n      class: \"icon-bookmark-hollow\"\n    }), \" to bookmark your favorite recipes. \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"home\");\n      }\n    }, \"Return home\")), \"\\n\\n          \"), \"\\n        \" ];\n  }), \"\\n      \"), \"\\n    \"), \"\\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.card.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.card.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"card\");\nTemplate[\"card\"] = new Template(\"Template.card\", (function() {\n  var view = this;\n  return [ HTML.DIV({\n    class: \"col-sm-8\"\n  }, \"\\n    \", HTML.DIV({\n    class: \"card\"\n  }, \"\\n\\n   \\n        \", Blaze.View(\"lookup:cardDetails.prodImg\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"cardDetails\"), \"prodImg\"));\n  }), \"\\n        \", HTML.DIV(\"\\n            \", Blaze._TemplateWith(function() {\n    return {\n      inputImages: Spacebars.call(Spacebars.dot(view.lookup(\"cardDetails\"), \"prodImg\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"carousel\"));\n  }), \"\\n        \"), \"\\n      \", HTML.Raw('<!--img class=\"card-img-top img-responsive\" src=\"http://placehold.it/800x400\" alt=\"Card image cap\">-->'), \"\\n      \", HTML.DIV({\n    class: \"card-block\"\n  }, \"\\n        \", HTML.Raw('<h4 class=\"card-title\">cardDetails.producttitle</h4>'), \"\\n        \", HTML.Raw('<p class=\"card-text\">cardDetails.productDescription</p>'), \"\\n        \", Blaze._TemplateWith(function() {\n    return Spacebars.call(Spacebars.dot(view.lookup(\"product\"), \"sellerId\"));\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"SellerShort\"));\n  }), \"\\n         \\n      \"), \"\\n    \"), \"\\n    \", HTML.Raw(\"<!-- /.card -->\"), \"\\n  \"), HTML.Raw(\"  <!-- /.col -->\") ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.carousel.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.carousel.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"carousel\");\nTemplate[\"carousel\"] = new Template(\"Template.carousel\", (function() {\n  var view = this;\n  return HTML.DIV(HTML.Raw('\\n    <!--id=\"Caro{{carID}}\"-->\\n    '), HTML.DIV({\n    id: \"Caro\",\n    class: \"carousel slide \",\n    style: \"width:100%;margin :auto;height:400px;padding:4em;background-color: #d83e14\",\n    \"data-ride\": \"carousel\"\n  }, \"\\n        \", HTML.OL({\n    class: \"carousel-indicators\"\n  }, \"          \\n            \", Blaze.Each(function() {\n    return {\n      _sequence: Spacebars.dataMustache(view.lookup(\"getImageById\"), view.lookup(\"prodImg\")),\n      _variable: \"imgs\"\n    };\n  }, function() {\n    return [ \"      \\n                \\n                \", Blaze.Let({\n      slideIndex: function() {\n        return Spacebars.call(view.lookup(\"@index\"));\n      }\n    }, function() {\n      return [ \"                                   \\n                    \", Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"compare\"), view.lookup(\"slideIndex\"), 0);\n      }, function() {\n        return [ \"\\n                        \", HTML.LI({\n          \"data-target\": \"#Caro\",\n          \"data-slide-to\": function() {\n            return Spacebars.mustache(view.lookup(\"@index\"));\n          },\n          class: \"active\"\n        }), \"                       \\n                    \" ];\n      }), \"\\n                    \", Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"bigger\"), view.lookup(\"slideIndex\"), 0);\n      }, function() {\n        return [ \"\\n                        \", HTML.LI({\n          \"data-target\": \"#Caro\",\n          \"data-slide-to\": function() {\n            return Spacebars.mustache(view.lookup(\"@index\"));\n          }\n        }), \"                       \\n                    \" ];\n      }), \"\\n                \" ];\n    }), \"          \\n                \\n            \" ];\n  }), \"                   \\n        \"), \"\\n\\n        \", HTML.Raw(\"<!-- Wrapper for slides -->\"), \"\\n        \", HTML.DIV({\n    id: \"CaroImg\",\n    class: \"carousel-inner carouselBack bg-image\"\n  }, \"\\n\\n\\n\\n        \", Blaze.Each(function() {\n    return {\n      _sequence: Spacebars.dataMustache(view.lookup(\"getImageById\"), view.lookup(\"prodImg\")),\n      _variable: \"imgs\"\n    };\n  }, function() {\n    return [ \"      \\n\\n            \", Blaze.Let({\n      imgIndex: function() {\n        return Spacebars.call(view.lookup(\"@index\"));\n      }\n    }, function() {\n      return [ \"  \\n\\n\\n                \", Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"compare\"), view.lookup(\"imgIndex\"), 0);\n      }, function() {\n        return [ \"\\n                \", HTML.DIV({\n          class: \"item  active  card   \"\n        }, \"    \\n                   \\n                     \\n                        \", HTML.getTag(\"picture\")(\"\\n                          \", HTML.SOURCE({\n          media: \"(max-height:380px)\",\n          srcset: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"imgs\"), \"url\"), Spacebars.kw({\n              store: \"images\",\n              loading: \"/images/uploading.gif\",\n              uploading: \"/images/uploading.gif\",\n              storing: \"/images/storing.gif\"\n            }));\n          }\n        }), \"\\n                            \", HTML.IMG({\n          name: \"imgBusAvatar\",\n          id: \"imgBusAvatar\",\n          class: \"card-img-top img-responsive \",\n          style: \"position:relative;display: block;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;height:auto;width:auto;max-height:380px \",\n          src: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"imgs\"), \"url\"), Spacebars.kw({\n              store: \"images\",\n              loading: \"/images/uploading.gif\",\n              uploading: \"/images/uploading.gif\",\n              storing: \"/images/storing.gif\"\n            }));\n          },\n          alt: \"\"\n        }), \"\\n                        \"), \"\\n                        \\n                        \", HTML.Comment('<img  class=\"card-img-top img-responsive \" style=\"height:20em;width:100%;text-align: center\" src=\\'/img/app/noImage.jpg\\' alt=\"\"  /> \\n                         \\n                        <img name=\"imgBusAvatar\" id=\"imgBusAvatar\" class=\"imgBusAvatar img-responsive panel-body \" style=\"position:relative;display: block;margin-left:auto;margin-right:auto;width:auto;height:380px\"    src=\"{{imgs.url store=\\'images\\' loading=\\'/images/uploading.gif\\' uploading=\\'/images/uploading.gif\\' storing=\\'/images/storing.gif\\'}}\" alt=\"\"  />\\n                        '), \"\\n                     \\n                \"), \"                                                               \\n                \" ];\n      }), \"\\n\\n                \", Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"bigger\"), view.lookup(\"imgIndex\"), 0);\n      }, function() {\n        return [ \"\\n               \\n                \", HTML.DIV({\n          class: \"item  card   \"\n        }, \"        \\n                        \", HTML.getTag(\"picture\")(\"\\n                                \", HTML.SOURCE({\n          media: \"(max-height:380px)\",\n          srcset: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"imgs\"), \"url\"), Spacebars.kw({\n              store: \"images\",\n              loading: \"/images/uploading.gif\",\n              uploading: \"/images/uploading.gif\",\n              storing: \"/images/storing.gif\"\n            }));\n          }\n        }), \"\\n                                  \", HTML.IMG({\n          name: \"imgBusAvatar\",\n          id: \"imgBusAvatar\",\n          class: \"card-img-top img-responsive \",\n          style: \"position:relative;display: block;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;height:auto;width:auto;max-height:380px \",\n          src: function() {\n            return Spacebars.mustache(Spacebars.dot(view.lookup(\"imgs\"), \"url\"), Spacebars.kw({\n              store: \"images\",\n              loading: \"/images/uploading.gif\",\n              uploading: \"/images/uploading.gif\",\n              storing: \"/images/storing.gif\"\n            }));\n          },\n          alt: \"\"\n        }), \"\\n                              \"), \"     \\n                       \", HTML.Comment(' <img name=\"imgBusAvatar\" id=\"imgBusAvatar\" class=\"imgBusAvatar img-responsive panel-body \"  style=\"position:relative;display: block;margin-left:auto;margin-right:auto;width:auto;height:380px\"   src=\"{{imgs.url store=\\'images\\' loading=\\'/images/uploading.gif\\' uploading=\\'/images/uploading.gif\\' storing=\\'/images/storing.gif\\'}}\" alt=\"\"  />\\n                       '), \"\\n                       \\n            \"), \"\\n                \" ];\n      }), \"\\n                \\n\\n            \" ];\n    }), \"          \\n                                                                            \\n                        \\n        \" ];\n  }), \"\\n\\n\\n        \"), \"\\n        \", Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"isSingle\"), view.lookup(\"prodImg\"));\n  }, function() {\n    return \"\\n        \";\n  }, function() {\n    return [ \"\\n        \", HTML.Comment(\" Left and right controls \"), \"\\n        \", HTML.A({\n      class: \"left carousel-control\",\n      href: \"#Caro\",\n      \"data-slide\": \"prev\"\n    }, \"\\n        \", HTML.SPAN({\n      class: \"glyphicon glyphicon-chevron-left\"\n    }), \"\\n        \", HTML.SPAN({\n      class: \"sr-only\"\n    }, \"Previous\"), \"\\n        \"), \"\\n        \", HTML.A({\n      class: \"right carousel-control\",\n      href: \"#Caro\",\n      \"data-slide\": \"next\"\n    }, \"\\n        \", HTML.SPAN({\n      class: \"glyphicon glyphicon-chevron-right\"\n    }), \"\\n        \", HTML.SPAN({\n      class: \"sr-only\"\n    }, \"Next\"), \"\\n        \"), \"\\n        \" ];\n  }), \"\\n    \"), \"\\n             \\n\");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.home.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.home.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"home\");\nTemplate[\"home\"] = new Template(\"Template.home\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"page home\"\n  }, \"\\n\\n    \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"just adit\"),\n      black: Spacebars.call(true)\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"));\n  }), \"\\n     \\n\\n    \", HTML.DIV({\n    class: \"content-scrollable\"\n  }, \"\\n      \", HTML.Raw('<div class=\"bg-image home\">\\n        <h1 class=\"title-home\">\\n          <!--<img src=\"img/app/logo-local.svg\" alt=\"Local Market\"/>-->\\n          <img src=\"img/app/logo-local.png\" alt=\"just adit now\">\\n        </h1>\\n        <span class=\"hours\"><span class=\"title-callout\">Advertise </span>\\n        Anytime you want.</span>\\n        <span class=\"arrow\"></span>\\n      </div>'), \"\\n\\n      \", HTML.Raw('<div class=\"callout-news\">\\n        <span class=\"title-callout\">Ticker</span>\\n         \\n         \\n      </div>'), \"\\n      \", HTML.DIV(\"\\n      \\n      \", HTML.Raw('<!--<a href=\"{{pathFor \\'feed\\'}}\" class=\"btn-primary\">See who\\'s selling</a>-->'), \"\\n      \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"products\", Spacebars.kw({\n        \":_searchTerm\": \"All\"\n      }));\n    },\n    class: \"btn-primary\"\n  }, \"More products\"), \"\\n    \"), \"\\n      \", HTML.DIV(\"\\n      \", HTML.Raw('<h2 class=\"list-title\">Latest products</h2>'), \"\\n      \", HTML.Raw('<div class=\"list-subtitle\">Just added by suppliers</div>'), \"\\n        \", HTML.DIV({\n    class: \"list-products\"\n  }, \"\\n          \", HTML.DIV({\n    style: \"padding:20px\"\n  }, \"\\n          \", Blaze.Each(function() {\n    return {\n      _sequence: Spacebars.call(view.lookup(\"featuredProducts\")),\n      _variable: \"prod\"\n    };\n  }, function() {\n    return [ \"             \\n                  \\n                  \", Blaze._TemplateWith(function() {\n      return {\n        product: Spacebars.call(view.lookup(\"prod\")),\n        size: Spacebars.call(\"large\"),\n        isEdit: Spacebars.call(\"false\")\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"productItem\"));\n    }), \" \\n                      \\n          \" ];\n  }), \"\\n          \"), \"\\n        \\n        \"), \"\\n      \"), \"\\n      \", HTML.Raw(\"<div>\\n\\n    </div>\"), \"\\n    \", HTML.Raw('<!-- <a href=\"{{pathFor \\'products\\'}}\" class=\"btn-primary\">Explore all our products</a> -->'), \"\\n    \"), \"\\n \\n\\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.login.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.login.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"login\");\nTemplate[\"login\"] = new Template(\"Template.login\", (function() {\n  var view = this;\n  return HTML.Raw('<div id=\"login-buttons\">\\n                <div class=\"login-text-and-button\">\\n                  <div class=\"login-button single-login-button \" id=\"login-buttons-facebook\">\\n                    <div class=\"login-image\" id=\"login-buttons-image-facebook\"></div>\\n                    <span id=\"sign-in-facebook\" class=\"text-besides-image sign-in-text-facebook\">Sign in with Facebook</span>\\n                  </div>\\n                  <br>\\n                </div>\\n                <div class=\"login-text-and-button\">\\n                  <div class=\"login-button single-login-button \" id=\"login-buttons-google\">\\n                    <div class=\"login-image\" id=\"login-buttons-image-google\"></div>\\n                    <span id=\"sign-in-google\" class=\"text-besides-image sign-in-text-google\">Sign in with Google</span> \\n                  </div>\\n                </div>\\n            </div>');\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.nav.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.nav.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"nav\");\nTemplate[\"nav\"] = new Template(\"Template.nav\", (function() {\n  var view = this;\n  return HTML.NAV({\n    class: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"black\"));\n      }, function() {\n        return \"black\";\n      });\n    }\n  }, \"\\n    \", HTML.DIV({\n    class: \"nav-group\"\n  }, \"\\n      \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"back\"));\n  }, function() {\n    return [ \"\\n        \", HTML.A({\n      class: \"nav-item js-back\",\n      href: \"#\"\n    }, HTML.SPAN({\n      class: \"icon-arrow-left-alt\"\n    })), \"\\n      \" ];\n  }, function() {\n    return [ \"\\n        \", HTML.A({\n      class: \"nav-item js-menu\",\n      href: \"#\"\n    }, HTML.SPAN({\n      class: \"icon-menu\"\n    })), \"\\n      \" ];\n  }), \"\\n     \\n    \"), \"\\n\\n    \", HTML.DIV({\n    class: \"title-page\"\n  }, \"\\n      \", Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  }), \"\\n      \", HTML.SPAN({\n    class: \"subtext-page\"\n  }, Blaze.View(\"lookup:subtext\", function() {\n    return Spacebars.mustache(view.lookup(\"subtext\"));\n  })), \"\\n    \"), \"\\n    \\n    \", HTML.DIV({\n    class: \"nav-group search right   \"\n  }, \"\\n     \\n        \", Spacebars.include(view.lookupTemplate(\"QuickSearch\")), \"\\n        \", Spacebars.include(view.lookupTemplate(\"headerShoppingCart\")), \"\\n    \\n      \\n    \"), \"\\n    \\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.navaddons.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.navaddons.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"navadons\");\nTemplate[\"navadons\"] = new Template(\"Template.navadons\", (function() {\n  var view = this;\n  return \"\";\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.not-found.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.not-found.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"notFound\");\nTemplate[\"notFound\"] = new Template(\"Template.notFound\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"page not-found\"\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Not Found\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"));\n  }), \"\\n\\n    \", HTML.DIV({\n    class: \"content-scrollable\"\n  }, \"\\n      \", HTML.DIV({\n    class: \"wrapper-message\"\n  }, \"\\n        \", HTML.Raw('<div class=\"title-message\">Yikes! That wasn\\'t found</div>'), \"\\n        \", HTML.DIV({\n    class: \"subtitle-message\"\n  }, \"The stuff you were looking for wasn't found. \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"pathFor\"), \"home\");\n    }\n  }, \"Return home\")), \"\\n      \"), \"\\n\\n    \"), \"\\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.overlay.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.overlay.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"overlay\");\nTemplate[\"overlay\"] = new Template(\"Template.overlay\", (function() {\n  var view = this;\n  return HTML.DIV({\n    id: \"overlay-hook\"\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      template: Spacebars.call(view.lookup(\"template\")),\n      data: Spacebars.call(view.lookup(\"data\"))\n    };\n  }, function() {\n    return Spacebars.include(function() {\n      return Spacebars.call(Template.__dynamic);\n    });\n  }), \"\\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.product-item.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.product-item.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"productItem\");\nTemplate[\"productItem\"] = new Template(\"Template.productItem\", (function() {\n  var view = this;\n  return [ Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Products\"),\n      black: Spacebars.call(false),\n      back: Spacebars.call(true)\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"), function() {\n      return [ \"\\n        \\n          \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"bookmarked\"));\n      }, function() {\n        return [ \"\\n            \", HTML.A({\n          href: \"#\",\n          class: \"nav-item js-remove-bookmark bookmarked\"\n        }, HTML.SPAN({\n          class: \"icon-bookmark\"\n        })), \"\\n          \" ];\n      }, function() {\n        return [ \"\\n            \", HTML.A({\n          href: \"#\",\n          class: \"nav-item js-add-bookmark\"\n        }, HTML.SPAN({\n          class: \"icon-bookmark-hollow\"\n        })), \"\\n          \" ];\n      }), \"\\n          \", HTML.Comment('\\n            Camera it works\\n            <a href=\"#\" class=\"nav-item js-share\"><span class=\"icon-camera\"></span></a>\\n        \\n          '), \"\\n        \" ];\n    });\n  }), \"\\n          \\n        \", Blaze.If(function() {\n    return Spacebars.dataMustache(view.lookup(\"compare\"), view.lookup(\"isEdit\"), true);\n  }, function() {\n    return [ \"\\n\\n        \", Spacebars.With(function() {\n      return Spacebars.call(view.lookup(\"product\"));\n    }, function() {\n      return [ \"        \\n           \\n            \\n            \", HTML.DIV({\n        class: \"col-sm-6 col-md-4 col-lg-3 mt-1\"\n      }, \"\\n            \", HTML.DIV({\n        class: \"card\"\n      }, \"\\n                \", HTML.A({\n        class: function() {\n          return [ \"item-product \", Spacebars.mustache(view.lookup(\"highlightedClass\")) ];\n        },\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), \"product\", Spacebars.kw({\n            _id: view.lookup(\"_id\")\n          }));\n        }\n      }, \"  \\n              \", HTML.DIV({\n        style: \"text-align: center\"\n      }, \"\\n                    \\n                \", Blaze.Each(function() {\n        return Spacebars.dataMustache(view.lookup(\"getCardImageById\"), view.lookup(\"prodImg\"));\n      }, function() {\n        return [ \"\\n                \\n               \\n                \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\".\"), \"url\"));\n        }, function() {\n          return [ \"\\n                \", HTML.getTag(\"picture\")(\"\\n                  \", HTML.SOURCE({\n            media: \"(min-width:400px)\",\n            srcset: function() {\n              return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"url\"), Spacebars.kw({\n                store: \"images\",\n                uploading: \"/images/uploading.gif\",\n                storing: \"/images/storing.gif\"\n              }));\n            }\n          }), \"\\n                    \", HTML.IMG({\n            class: \"card-img-top img-responsive \",\n            style: \"height:auto;width:100%;text-align: center\",\n            src: function() {\n              return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"url\"), Spacebars.kw({\n                store: \"images\",\n                uploading: \"/images/uploading.gif\",\n                storing: \"/images/storing.gif\"\n              }));\n            },\n            alt: \"\"\n          }), \"  \\n                \"), \"\\n                \" ];\n        }, function() {\n          return [ \"\\n                \", HTML.getTag(\"picture\")(\"\\n                  \", HTML.SOURCE({\n            media: \"(min-width:400px)\",\n            srcset: \"/img/app/noImage.jpg\"\n          }), \"\\n                    \", HTML.IMG({\n            class: \"card-img-top img-responsive \",\n            style: \"height:auto;width:100%;text-align: center\",\n            src: \"/img/app/noImage.jpg\",\n            alt: \"\"\n          }), \"  \\n                \"), \"\\n                \", HTML.Comment('<img  class=\"card-img-top img-responsive \" style=\"height:20em;width:100%;text-align: center\" src=\\'/img/app/noImage.jpg\\' alt=\"\"  /> '), \"\\n                \" ];\n        }), \"\\n\\n                \" ];\n      }), \"   \\n\\n              \", HTML.Comment(' {{#if prodImg !=\"\"}}\\n                \\n             \\n                <img class=\"card-img-top img-responsive\" style=\"height:20em;width:100%;text-align: center\" src=\"{{productPath}}{{getFirstElement prodImg}}\" alt=\"{{productDescription}}\">\\n              {{/if}}\\n                 '), \"\\n                 \\n               \\n              \"), \"\\n              \"), \"\\n               \", HTML.DIV({\n        class: \"card-block\"\n      }, \"\\n                \", HTML.H4({\n        class: \"card-title\"\n      }, Blaze.View(\"lookup:producttitle\", function() {\n        return Spacebars.mustache(view.lookup(\"producttitle\"));\n      })), \"\\n                \", HTML.P({\n        class: \"card-text\",\n        style: \"overflow-wrap:break-word \"\n      }, Blaze.View(\"lookup:productDescription\", function() {\n        return Spacebars.mustache(view.lookup(\"productDescription\"));\n      })), \"\\n                \", HTML.H4({\n        class: \"card-title\"\n      }, \"R \", Blaze.View(\"lookup:price\", function() {\n        return Spacebars.mustache(view.lookup(\"price\"));\n      })), \"\\n                \", Blaze._TemplateWith(function() {\n        return Spacebars.call(view.lookup(\"sellerId\"));\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"SellerShort\"));\n      }), \"\\n                 \", HTML.A({\n        class: \"btn btn-tertiary \",\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), \"editproduct\", Spacebars.kw({\n            _id: view.lookup(\"_id\")\n          }));\n        }\n      }, \"Edit\"), \"\\n                   \\n                \\n                 \\n              \"), \"\\n            \"), \"\\n          \"), \"\\n     \\n            \" ];\n    }), \"\\n        \" ];\n  }, function() {\n    return [ \"\\n        \", Spacebars.With(function() {\n      return Spacebars.call(view.lookup(\"product\"));\n    }, function() {\n      return [ \"        \\n          \", HTML.A({\n        class: function() {\n          return [ \"item-product \", Spacebars.mustache(view.lookup(\"highlightedClass\")) ];\n        },\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), \"product\", Spacebars.kw({\n            _id: view.lookup(\"_id\")\n          }));\n        }\n      }, \"   \\n            \\n            \", HTML.DIV({\n        class: \"col-sm-6 col-md-4 col-lg-3 mt-1\"\n      }, \"\\n            \", HTML.DIV({\n        class: \"card\"\n      }, \"\\n              \", HTML.DIV({\n        style: \"text-align: center\"\n      }, \"\\n                 \", Blaze.View(\"lookup:..url\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"url\"), view.lookup(\"prodImg\"));\n      }), \"\\n                \", Blaze.Each(function() {\n        return Spacebars.dataMustache(view.lookup(\"getCardImageById\"), view.lookup(\"prodImg\"));\n      }, function() {\n        return [ \"\\n                \", HTML.Comment(' {{#if this.url}}\\n                  <img  class=\"card-img-top img-responsive \" style=\"height:20em;width:100%;text-align: center\" src=\"{{this.url store=\\'images\\' uploading=\\'/images/uploading.gif\\' storing=\\'/images/storing.gif\\'}}\" alt=\"\"  />  \\n                {{/if}} '), \"\\n\\n\\n                \", Blaze.If(function() {\n          return Spacebars.call(Spacebars.dot(view.lookup(\".\"), \"url\"));\n        }, function() {\n          return [ \"\\n                \", HTML.getTag(\"picture\")(\"\\n                  \", HTML.SOURCE({\n            media: \"(min-width:400px)\",\n            srcset: function() {\n              return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"url\"), Spacebars.kw({\n                store: \"images\",\n                uploading: \"/images/uploading.gif\",\n                storing: \"/images/storing.gif\"\n              }));\n            }\n          }), \"\\n                    \", HTML.IMG({\n            class: \"card-img-top img-responsive \",\n            style: \"height:auto;width:100%;text-align: center\",\n            src: function() {\n              return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"url\"), Spacebars.kw({\n                store: \"images\",\n                uploading: \"/images/uploading.gif\",\n                storing: \"/images/storing.gif\"\n              }));\n            },\n            alt: \"\"\n          }), \"  \\n                \"), \"\\n                \" ];\n        }, function() {\n          return [ \"\\n                \", HTML.getTag(\"picture\")(\"\\n                  \", HTML.SOURCE({\n            media: \"(min-width:400px)\",\n            srcset: \"/img/app/noImage.jpg\"\n          }), \"\\n                    \", HTML.IMG({\n            class: \"card-img-top img-responsive \",\n            style: \"height:auto;width:100%;text-align: center\",\n            src: \"/img/app/noImage.jpg\",\n            alt: \"\"\n          }), \"  \\n                \"), \"\\n                \", HTML.Comment('<img  class=\"card-img-top img-responsive \" style=\"height:20em;width:100%;text-align: center\" src=\\'/img/app/noImage.jpg\\' alt=\"\"  /> '), \"\\n                \" ];\n        }), \"\\n                \" ];\n      }), \"   \\n\\n                 \\n               \\n              \"), \"\\n               \", HTML.DIV({\n        class: \"card-block\"\n      }, \"\\n                \", HTML.H4({\n        class: \"card-title\"\n      }, Blaze.View(\"lookup:producttitle\", function() {\n        return Spacebars.mustache(view.lookup(\"producttitle\"));\n      })), \"\\n                \", HTML.P({\n        class: \"card-text\",\n        style: \"overflow-wrap:break-word \"\n      }, Blaze.View(\"lookup:productDescription\", function() {\n        return Spacebars.mustache(view.lookup(\"productDescription\"));\n      })), \"\\n                \", HTML.H4({\n        class: \"card-title\"\n      }, \"R \", Blaze.View(\"lookup:price\", function() {\n        return Spacebars.mustache(view.lookup(\"price\"));\n      })), \"\\n                \", Blaze._TemplateWith(function() {\n        return Spacebars.call(view.lookup(\"sellerId\"));\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"SellerShort\"));\n      }), \"\\n                \\n                 \\n              \"), \"\\n            \"), \"\\n          \"), \"\\n        \"), \"\\n            \" ];\n    }), \"\\n        \" ];\n  }) ];\n}));\n\nTemplate.__checkName(\"showCardImage\");\nTemplate[\"showCardImage\"] = new Template(\"Template.showCardImage\", (function() {\n  var view = this;\n  return HTML.DIV(\"\\n        \\n        \", Spacebars.With(function() {\n    return Spacebars.dataMustache(view.lookup(\"getImage\"), view.lookup(\"imgId\"));\n  }, function() {\n    return [ \"\\n        \", HTML.DIV(\"\\n       \\n            \", HTML.IMG({\n      class: \" img-responsive panel-body \",\n      width: \"236px\",\n      height: \"236px\",\n      src: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"url\"), Spacebars.kw({\n          store: \"images\",\n          uploading: \"/images/uploading.gif\",\n          storing: \"/images/storing.gif\"\n        }));\n      },\n      alt: \"\"\n    }), \"  \\n            \"), \"\\n        \" ];\n  }), \"\\n    \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.product.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.product.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"product\");\nTemplate[\"product\"] = new Template(\"Template.product\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: function() {\n      return [ \"page product \", Spacebars.mustache(view.lookup(\"activeTabClass\")) ];\n    }\n  }, \"\\n  \", Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"thisSelectedProduct\"));\n  }, function() {\n    return [ \"   \\n    \", Blaze._TemplateWith(function() {\n      return {\n        title: Spacebars.call(Spacebars.dot(view.lookup(\"thisSelectedProduct\"), \"producttitle\")),\n        black: Spacebars.call(true),\n        back: Spacebars.call(true)\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"nav\"), function() {\n        return [ \"\\n      \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"bookmarked\"));\n        }, function() {\n          return [ \"\\n        \", HTML.A({\n            href: \"#\",\n            class: \"nav-item js-remove-bookmark bookmarked\"\n          }, HTML.SPAN({\n            class: \"icon-bookmark\"\n          })), \"\\n      \" ];\n        }, function() {\n          return [ \"\\n        \", HTML.A({\n            href: \"#\",\n            class: \"nav-item js-add-bookmark\"\n          }, HTML.SPAN({\n            class: \"icon-bookmark-hollow\"\n          })), \"\\n      \" ];\n        }), \"\\n    \", HTML.Comment('<a href=\"#\" class=\"nav-item js-share\"><span class=\"icon-camera\"></span></a>'), \"\\n    \" ];\n      });\n    }), \"\\n  \\n     \\n    \", HTML.DIV({\n      class: \"content-scrollable static-nav product-scrollable\"\n    }, \"\\n      \", Blaze._TemplateWith(function() {\n      return {\n        prodImg: Spacebars.call(view.lookup(\"prodImg\"))\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"carousel\"));\n    }), \"   \\n     \\n      \", HTML.DIV({\n      class: \"container-fluid panel-body\"\n    }, \"\\n        \", HTML.DIV({\n      class: \"attribution-product js-uncollapse\"\n    }, \"\\n          \", HTML.H1({\n      class: \"title-product text-capitalize\"\n    }, Blaze.View(\"lookup:producttitle\", function() {\n      return Spacebars.mustache(view.lookup(\"producttitle\"));\n    })), \"       \\n            \", HTML.H2({\n      class: \"title-product text-capitalize\"\n    }, Blaze.View(\"lookup:productDescription\", function() {\n      return Spacebars.mustache(view.lookup(\"productDescription\"));\n    })), \"        \\n            \", HTML.H3({\n      class: \"title-product text-capitalize\"\n    }, \"R \", Blaze.View(\"lookup:price\", function() {\n      return Spacebars.mustache(view.lookup(\"price\"));\n    })), \"       \\n        \"), \"     \\n      \"), \"\\n      \\n       \", HTML.DIV({\n      class: \"card\"\n    }, \"\\n          \", HTML.DIV({\n      class: \"panel-body\"\n    }, \"\\n              \", HTML.DIV({\n      class: \"card-block\"\n    }, \"\\n                  \", HTML.DIV({\n      class: \"media-left\"\n    }, \"\\n                     \", HTML.DIV({\n      class: \"row\"\n    }, \"\\n                        \", HTML.DIV({\n      class: \"col-md-4 col-sm-4\"\n    }, \"\\n                            \", HTML.DIV({\n      style: \"width:236px;height:236px\"\n    }, \"\\n                                \", Blaze._TemplateWith(function() {\n      return {\n        imgId: Spacebars.call(Spacebars.dot(view.lookup(\"seller\"), \"busLogo\"))\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"showImage\"));\n    }), \"\\n                              \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({\n      class: \"col-md-8 col-sm-8\"\n    }, \"\\n                          \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"currentUser\"));\n    }, function() {\n      return [ \"\\n                            \", HTML.DIV({\n        class: \"media-body\"\n      }, \"\\n                                \", HTML.H1({\n        class: \"text-capitalize\"\n      }, Blaze.View(\"lookup:seller.businessname\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"seller\"), \"businessname\"));\n      })), \"\\n                                  \", HTML.DIV({\n        class: \"panel-body\"\n      }, \"\\n                                      \", HTML.H1(\"Contact\"), \"\\n                                      \", HTML.DIV({\n        class: \"card-subtitle\"\n      }, \"\\n                                        \", HTML.DIV({\n        class: \"row\"\n      }, \"\\n                                            \", HTML.DIV({\n        class: \"col-sm-4\"\n      }, \"\\n                                                \", HTML.SPAN({\n        class: \"glyphicon glyphicon-phone\"\n      }), \"\\n                                                \", Blaze.View(\"lookup:seller.buscel\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"seller\"), \"buscel\"));\n      }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n        class: \"row\"\n      }, \"\\n                                            \", HTML.DIV({\n        class: \"col-sm-4\"\n      }, \"\\n                                                \", HTML.SPAN({\n        class: \"glyphicon glyphicon-envelope\"\n      }), \"\\n                                                \", Blaze.View(\"lookup:seller.busemail\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"seller\"), \"busemail\"));\n      }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({\n        class: \"row\"\n      }, \"\\n                                            \", HTML.DIV({\n        class: \"col-sm-4\"\n      }, \"\\n                                                \", HTML.SPAN({\n        class: \"glyphicon glyphicon-user\"\n      }), \"\\n                                                \", Blaze.View(\"lookup:seller.cont1\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"seller\"), \"cont1\"));\n      }), \"/\", Blaze.View(\"lookup:seller.cont2\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"seller\"), \"cont2\"));\n      }), \"\\n                                            \"), \"\\n                                        \"), \"\\n                                      \"), \"                        \\n                                  \"), \"                    \\n                                \", HTML.DIV({\n        class: \"clearfix\"\n      }), \"                 \\n                              \"), \"    \\n                        \\n                        \\n                              \" ];\n    }, function() {\n      return \"\\n                                Please login to view details\\n                              \";\n    }), \"    \\n                        \"), \"\\n                     \"), \"                    \\n                  \"), \"            \\n                                 \\n              \"), \"            \\n          \"), \"       \\n      \"), \"  \\n      \\n    \"), \"\\n    \" ];\n  }), \"\\n \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.products.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.products.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"products\");\nTemplate[\"products\"] = new Template(\"Template.products\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"page products\"\n  }, \"\\n        \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Products\"),\n      black: Spacebars.call(true),\n      back: Spacebars.call(false)\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"), function() {\n      return \"     \\n\\n        \";\n    });\n  }), HTML.Raw('\\n        \\n       <div>\\n        <div class=\"bg-image buy\">\\n           \\n        </div>\\n       </div>\\n          '), HTML.DIV({\n    class: \"content-scrollable\"\n  }, \"\\n              \", HTML.Raw('<img class=\"  \" src=\"/img/app/bg-about-640x540.png\" alt=\"seller\" style=\"height:300px;width:100%\">'), \" \\n            \", HTML.DIV({\n    class: \"list-products\"\n  }, \"    \\n              \", Blaze.Each(function() {\n    return {\n      _sequence: Spacebars.call(view.lookup(\"latestProducts\")),\n      _variable: \"prod\"\n    };\n  }, function() {\n    return [ \"             \\n                 \\n                 \", Blaze._TemplateWith(function() {\n      return {\n        product: Spacebars.call(view.lookup(\"prod\")),\n        size: Spacebars.call(\"large\"),\n        isEdit: Spacebars.call(\"false\")\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"productItem\"));\n    }), \" \\n                     \\n              \" ];\n  }), \"\\n            \"), \"\\n          \\n          \"), \"\\n       \\n        \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.recipe-item.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.recipe-item.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"recipeItem\");\nTemplate[\"recipeItem\"] = new Template(\"Template.recipeItem\", (function() {\n  var view = this;\n  return HTML.A({\n    class: function() {\n      return [ \"item-recipe \", Spacebars.mustache(view.lookup(\"highlightedClass\")) ];\n    },\n    href: function() {\n      return Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"isEdit\"));\n      }, function() {\n        return [ ' \"', Blaze.View(\"lookup:editpath\", function() {\n          return Spacebars.mustache(view.lookup(\"editpath\"));\n        }), '\"' ];\n      }, function() {\n        return [ ' \"', Blaze.View(\"lookup:path\", function() {\n          return Spacebars.mustache(view.lookup(\"path\"));\n        }), '\"' ];\n      });\n    }\n  }, \"\\n    \", Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"recipe\"));\n  }, function() {\n    return [ \"\\n      \", HTML.SPAN({\n      class: \"attribution\"\n    }, \"\\n        \", HTML.SPAN({\n      class: \"title-recipe\"\n    }, Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    })), \"\\n        \", HTML.SPAN({\n      class: \"metadata-recipe\"\n    }, \"\\n          \", HTML.SPAN({\n      class: \"author-recipe\"\n    }, Blaze.View(\"lookup:source.name\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"source\"), \"name\"));\n    })), \"\\n          \", HTML.SPAN({\n      class: \"bookmarks-recipe\"\n    }, HTML.SPAN({\n      class: \"icon-bookmark\"\n    }), \" \", Blaze.View(\"lookup:bookmarkCount\", function() {\n      return Spacebars.mustache(view.lookup(\"bookmarkCount\"));\n    })), \"\\n        \"), \"\\n      \"), \"\\n    \" ];\n  }), \"\\n\\n    \", HTML.IMG({\n    src: function() {\n      return Spacebars.mustache(view.lookup(\"recipeImage\"), Spacebars.kw({\n        recipe: view.lookup(\"recipe\"),\n        size: view.lookup(\"size\")\n      }));\n    }\n  }), \"\\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.recipe.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.recipe.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"recipe\");\nTemplate[\"recipe\"] = new Template(\"Template.recipe\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: function() {\n      return [ \"page recipe \", Spacebars.mustache(view.lookup(\"activeTabClass\")) ];\n    }\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Recipe\"),\n      black: Spacebars.call(true),\n      back: Spacebars.call(true)\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"), function() {\n      return [ \"\\n      \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"bookmarked\"));\n      }, function() {\n        return [ \"\\n        \", HTML.A({\n          href: \"#\",\n          class: \"nav-item js-remove-bookmark bookmarked\"\n        }, HTML.SPAN({\n          class: \"icon-bookmark\"\n        })), \"\\n      \" ];\n      }, function() {\n        return [ \"\\n        \", HTML.A({\n          href: \"#\",\n          class: \"nav-item js-add-bookmark\"\n        }, HTML.SPAN({\n          class: \"icon-bookmark-hollow\"\n        })), \"\\n      \" ];\n      }), \"\\n      \", HTML.A({\n        href: \"#\",\n        class: \"nav-item js-share\"\n      }, HTML.SPAN({\n        class: \"icon-camera\"\n      })), \"\\n    \" ];\n    });\n  }), \"\\n\\n    \", HTML.DIV({\n    class: \"image-recipe\",\n    style: function() {\n      return [ \"background-image: url('\", Spacebars.mustache(view.lookup(\"recipeImage\"), Spacebars.kw({\n        recipe: view.lookup(\".\"),\n        size: \"full\"\n      })), \"')\" ];\n    }\n  }), \"\\n\\n    \", HTML.DIV({\n    class: \"attribution-recipe js-uncollapse\"\n  }, \"\\n      \", HTML.H1({\n    class: \"title-recipe\"\n  }, Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  })), \"\\n      \", HTML.DIV({\n    class: \"metadata-wrapper\"\n  }, \"\\n        \", HTML.P({\n    class: \"description-recipe\"\n  }, Blaze.View(\"lookup:excerpt\", function() {\n    return Spacebars.mustache(view.lookup(\"excerpt\"));\n  })), \"\\n        \", HTML.SPAN({\n    class: \"source\"\n  }, Blaze.View(\"lookup:source.name\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"source\"), \"name\"));\n  })), \"\\n        \", HTML.SPAN({\n    class: \"time\"\n  }, Blaze.View(\"lookup:cookTime\", function() {\n    return Spacebars.mustache(view.lookup(\"cookTime\"));\n  })), \"\\n      \"), \"\\n\\n      \", HTML.DIV({\n    class: \"btns-group\"\n  }, \"\\n        \", HTML.A({\n    class: function() {\n      return [ \"btn-secondary \", Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"isActiveTab\"), \"make\");\n      }, function() {\n        return \"active\";\n      }), \" \", Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"isActiveTab\"), \"recipe\");\n      }, function() {\n        return \"no-state\";\n      }), \" js-show-recipe\" ];\n    }\n  }, \"Make It\"), \"\\n        \", HTML.A({\n    class: function() {\n      return [ \"btn-secondary \", Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"isActiveTab\"), \"feed\");\n      }, function() {\n        return \"active\";\n      }), \" \", Blaze.If(function() {\n        return Spacebars.dataMustache(view.lookup(\"isActiveTab\"), \"recipe\");\n      }, function() {\n        return \"no-state\";\n      }), \" js-show-feed\" ];\n    }\n  }, \"Pictures\"), \"\\n      \"), \"\\n    \"), \"\\n\\n\\n    \", HTML.DIV({\n    class: \"content-scrollable static-nav make-scrollable\"\n  }, \"\\n      \", HTML.Raw('<a class=\"btn-tertiary js-share\"><span class=\"icon-camera\"></span> Share that you made this</a>'), \"\\n\\n      \", HTML.Raw('<h2 class=\"list-title\">Ingredients</h2>'), \"\\n      \", HTML.UL({\n    class: \"list-ingredients\"\n  }, \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"ingredients\"));\n  }, function() {\n    return [ \"\\n          \", HTML.LI({\n      class: \"item-ingredient\"\n    }, Blaze.View(\"lookup:.\", function() {\n      return Spacebars.mustache(view.lookup(\".\"));\n    })), \"\\n        \" ];\n  }), \"\\n      \"), \"\\n\\n      \", HTML.Raw('<h2 class=\"list-title\">Directions</h2>'), \"\\n      \", HTML.OL({\n    class: \"list-directions\"\n  }, \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"directions\"));\n  }, function() {\n    return [ \"\\n          \", HTML.LI({\n      class: \"item-direction\"\n    }, \"\\n            \", HTML.SPAN({\n      class: \"text\"\n    }, Blaze.View(\"lookup:.\", function() {\n      return Spacebars.mustache(view.lookup(\".\"));\n    })), \"\\n          \"), \"\\n        \" ];\n  }), \"\\n          \", HTML.Raw('<li class=\"item-direction\">\\n          ...\\n          </li>'), \"\\n      \"), \"\\n      \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"source\"), \"url\"));\n    },\n    target: \"_blank\",\n    class: \"btn-primary js-open\"\n  }, \"See full recipe on \", Blaze.View(\"lookup:source.name\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"source\"), \"name\"));\n  })), \"\\n    \"), \"\\n\\n    \", HTML.DIV({\n    class: \"content-scrollable static-nav feed-scrollable\"\n  }, \"\\n      \", HTML.Raw('<a class=\"btn-tertiary js-share\"><span class=\"icon-camera\"></span> Share that you made this</a>'), \"\\n      \", HTML.DIV({\n    class: \"list-activities\"\n  }, \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"activities\"));\n  }, function() {\n    return [ \"\\n          \", Spacebars.include(view.lookupTemplate(\"activity\")), \"\\n        \" ];\n  }, function() {\n    return [ \"\\n          \", HTML.DIV({\n      class: \"wrapper-message\"\n    }, \"\\n            \", HTML.DIV({\n      class: \"title-message\"\n    }, \"No feed activity yet\"), \"\\n            \", HTML.DIV({\n      class: \"subtitle-message\"\n    }, \"Be the first to share that you made this recipe. \", HTML.A({\n      class: \"js-share\"\n    }, \"Share now\")), \"\\n          \"), \"\\n        \" ];\n  }), \"\\n      \"), \"\\n    \"), \"\\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.recipes.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.recipes.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"recipes\");\nTemplate[\"recipes\"] = new Template(\"Template.recipes\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"page recipes\"\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Recipes\"),\n      black: Spacebars.call(true)\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"));\n  }), \"\\n\\n    \", HTML.DIV({\n    class: \"content-scrollable\"\n  }, \"\\n      \", HTML.DIV({\n    class: \"list-recipes\"\n  }, \"\\n        \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\".\"));\n  }, function() {\n    return [ \"\\n          \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"highlighted\"));\n    }, function() {\n      return [ \"\\n            \", Blaze._TemplateWith(function() {\n        return {\n          recipe: Spacebars.call(view.lookup(\".\")),\n          size: Spacebars.call(\"large\")\n        };\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"recipeItem\"));\n      }), \"\\n          \" ];\n    }, function() {\n      return [ \"\\n            \", Blaze._TemplateWith(function() {\n        return {\n          recipe: Spacebars.call(view.lookup(\".\")),\n          size: Spacebars.call(\"small\")\n        };\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"recipeItem\"));\n      }), \"\\n          \" ];\n    }), \"\\n        \" ];\n  }), \"\\n      \"), \"\\n    \"), \"\\n\\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.search.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.search.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"AdvSearch\");\nTemplate[\"AdvSearch\"] = new Template(\"Template.AdvSearch\", (function() {\n  var view = this;\n  return HTML.Raw(\"<div>\\n         \\n    </div>\");\n}));\n\nTemplate.__checkName(\"QuickSearch\");\nTemplate[\"QuickSearch\"] = new Template(\"Template.QuickSearch\", (function() {\n  var view = this;\n  return HTML.Raw('<form id=\"frmSearch\">\\n        \\n            <div class=\"input-group add-on\">\\n                    <input class=\"form-control \" placeholder=\"Search\" name=\"searchTerm\" id=\"qsrch-term\" type=\"text\">\\n                    <div class=\"input-group-btn\">\\n                      <button class=\"btn navSearchBtn\" id=\"btnQSearch\" type=\"submit\">\\n                          <i class=\"glyphicon glyphicon-search\"></i>\\n                      </button>\\n                    </div>\\n            </div>\\n       \\n    </form>');\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.seller.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.seller.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"seller\");\nTemplate[\"seller\"] = new Template(\"Template.seller\", (function() {\n  var view = this;\n  return [ Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"Seller\"),\n      black: Spacebars.call(true),\n      back: Spacebars.call(true)\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"), function() {\n      return \"\\n        \\n         \\n        \";\n    });\n  }), \"\\n        \\n        \\n       \\n  \", HTML.DIV({\n    class: \"content-scrollable\"\n  }, \"\\n                \\n                 \", HTML.Raw('<img class=\"  \" src=\"/img/app/bg-about-640x540.png\" alt=\"seller\" style=\"height:300px;width:100%\">'), \"  \\n\\n                 \", HTML.Raw(\"<!-- Use `name` to add a custom class to the outer container -->\"), \"\\n\\n                 \", HTML.Raw('<ul class=\"nav nav-tabs\">\\n                    <li class=\"active\"><a data-toggle=\"tab\" href=\"#seller\">Seller Details</a></li>\\n                    <li><a data-toggle=\"tab\" href=\"#prod\">New Product</a></li>\\n                    <li><a data-toggle=\"tab\" href=\"#prodCat\">My Catalogue</a></li>\\n                  </ul>'), \"\\n                  \\n                  \", HTML.DIV({\n    class: \"tab-content\"\n  }, \"\\n                    \", HTML.DIV({\n    id: \"seller\",\n    class: \"tab-pane fade in active\"\n  }, \"\\n                      \", HTML.Raw(\"<h3>Seller Details</h3>\"), \"\\n                        \", Spacebars.include(view.lookupTemplate(\"Seller_tmp\")), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    id: \"prod\",\n    class: \"tab-pane fade\"\n  }, \"\\n                      \", HTML.Raw(\"<h3>New Product</h3>\"), \"\\n                        \", Spacebars.include(view.lookupTemplate(\"tmp_product_sell\")), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n    id: \"prodCat\",\n    class: \"tab-pane fade\"\n  }, \"\\n                      \", HTML.Raw(\"<h3>My Product Catalogue</h3>\"), \"\\n                      \", Spacebars.include(view.lookupTemplate(\"SellerProducts_tmp\")), \"\\n                    \"), \"\\n                  \"), \"\\n   \\n                \\n\\n \\n        \\n  \") ];\n}));\n\nTemplate.__checkName(\"Seller_tmp\");\nTemplate[\"Seller_tmp\"] = new Template(\"Template.Seller_tmp\", (function() {\n  var view = this;\n  return Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"amISeller\"));\n  }, function() {\n    return [ \"\\n   \\n    \", HTML.FORM({\n      class: \"add_Seller_form form-inline\",\n      id: \"add_Seller_form\",\n      role: \"form\"\n    }, \"\\n            \\n        \", HTML.DIV(\"\\n            \", HTML.INPUT({\n      type: \"hidden\",\n      name: \"id\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"_id\"));\n      }\n    }), \"\\n            \", HTML.INPUT({\n      type: \"hidden\",\n      name: \"userId\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"userId\"));\n      }\n    }), \"\\n            \", HTML.DIV({\n      class: \"form-group\"\n    }, \"        \\n                \", HTML.DIV(\"\\n                    \", HTML.Comment(\"Business Details \"), \"\\n                    \", HTML.DIV({\n      class: \"form-row\"\n    }, \"\\n                      \", HTML.DIV({\n      class: \"panel-defaul panel\"\n    }, \"\\n                          \", HTML.DIV({\n      class: \"title panel-heading\"\n    }, \"Business Details\"), \"     \\n                          \", HTML.DIV({\n      class: \"panel-body\"\n    }, \"\\n                        \", HTML.DIV({\n      class: \"col-md-4 col-sm-4 \"\n    }, \"\\n                                \", HTML.Comment(' <label for=\"busname\" class=\"col-form-label\">Business Name</label> '), \"\\n                                \", HTML.INPUT({\n      type: \"text\",\n      class: \"\",\n      name: \"businessname\",\n      placeholder: \"Business Name\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"businessname\"));\n      }\n    }), \"                                                \\n                        \"), \"\\n                        \", HTML.DIV({\n      class: \"col-md-4 col-sm-4\"\n    }, \"\\n                                \", HTML.Comment(' <label for=\"tagName\" class=\"col-form-label\">Tag Line</label>  '), \"\\n                                \", HTML.INPUT({\n      type: \"text\",\n      class: \"\",\n      name: \"businesstagLine\",\n      placeholder: \"Business Tag line\",\n      id: \"busTagLine\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"busTagLine\"));\n      }\n    }), \"\\n                        \"), \" \\n                        \", HTML.DIV({\n      class: \"col-md-4 col-sm-4\"\n    }, \"\\n                                \", HTML.Comment(' <label for=\"webSite\" class=\"col-form-label\">Web Site</label>  '), \"\\n                                \", HTML.INPUT({\n      type: \"text\",\n      class: \"\",\n      name: \"website\",\n      placeholder: \"Website\",\n      id: \"Website\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"website\"));\n      }\n    }), \"\\n                        \"), \"       \\n                      \"), \"\\n                      \"), \"\\n                    \"), \"\\n                    \", HTML.Comment(\"Business Images Details \"), \"\\n                    \", HTML.DIV({\n      class: \"row \"\n    }, \"                \\n                            \", HTML.DIV({\n      class: \"col-md-8 col-sm-4 panel\"\n    }, \"\\n                                \", HTML.Comment(' <label for=\"BusLogo\" class=\"col-form-label\">Business Logo</label> '), \"\\n                                \", HTML.Comment(\"zid=SellerId cat=Cat type=Type }}\"), \"\\n                                \", HTML.DIV({\n      class: \"panelheading panel-heading\"\n    }, \"Business Images\"), \"     \\n                                \", HTML.DIV({\n      class: \" form-group  panel-body  \"\n    }, \" \\n                                  \", HTML.DIV({\n      class: \"panel\"\n    }, \"\\n                                      \", HTML.DIV({\n      class: \"panelheading panel-heading\"\n    }, \"Business Logo\"), \"  \\n                                    \", HTML.DIV({\n      class: \"panel-body\"\n    }, \"\\n                                    \\n                                      \\n                                \", HTML.Comment(' <img src=\"\" alt=\"\" id=\"comp_img\" class=\"img-fluid\" width=\"236px\" height=\"236px\">      '), \"\\n                                 \\n                                \", HTML.IMG({\n      name: \"imgBusLogo\",\n      id: \"imgBuslogo\",\n      class: \"imgBusLogo img-fluid img-responsive panel-body \",\n      width: \"236px\",\n      height: \"236px\",\n      src: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"url\"), Spacebars.kw({\n          store: \"images\",\n          uploading: \"/images/uploading.gif\",\n          storing: \"/images/storing.gif\"\n        }));\n      },\n      alt: \"\"\n    }), \" \\n                               \", Blaze._TemplateWith(function() {\n      return {\n        imgId: Spacebars.call(view.lookup(\"busLogo\"))\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"showImage\"));\n    }), \"                                 \\n                               \", HTML.A({\n      href: \"\",\n      download: \"file\",\n      id: \"comp_download\",\n      class: \"btn btn-primary\",\n      style: \"display: none\"\n    }, \"download\"), \"\\n                               \", HTML.A({\n      href: \"\",\n      download: \"file\",\n      id: \"comp_download2\",\n      class: \"btn btn-primary\",\n      style: \"display: none\"\n    }, \"download\"), \"\\n                                \", HTML.INPUT({\n      type: \"file\",\n      name: \"fileLogo\",\n      class: \"imgBuLogo\",\n      id: \"imgBuLogo\",\n      placeholder: \"Select business Logo\"\n    }), \"\\n                                     \"), \"\\n                                  \"), \" \\n                                    \", HTML.Comment(' <label for=\"MyPhoto\" class=\"col-form-label\">My Photo</label>    '), \"\\n                                    \", HTML.Comment(' <img src=\"\" alt=\"\" id=\"comp_img2\" class=\"img-fluid\" width=\"236px\" height=\"236px\">                          \\n                                    <img name=\"imgBusAvatar\" id=\"imgBusAvatar\" class=\"imgBusAvatar img-responsive panel-body \"  width=\"236px\" height=\"236px\" src=\"\\'/images/storing.gif\\'\" alt=\"\"  /> \\n                                   {{>showImage imgId=busAvatar }}  \\n                                    \\n                                    <input type=\"file\" name=\"imgAvatar\" class=\"imgAvatar\" id=\"imgAvatar\" placeholder=\"Select Image of you\"   > '), \"\\n                              \"), \"  \\n                           \"), \"\\n\\n                    \"), \"               \\n                    \\n\\n                    \", HTML.Comment(\"Details \"), \"\\n                    \", HTML.DIV({\n      class: \"row \"\n    }, \"\\n                        \", HTML.DIV({\n      class: \"form-group col-md-4 panel \"\n    }, \"      \\n                            \", HTML.DIV({\n      class: \"title panel-heading\"\n    }, \"Contact Details\"), \"                     \\n                                \", HTML.DIV({\n      class: \" form-group  panel-body  \"\n    }, \" \\n                                    \", HTML.INPUT({\n      type: \"tel\",\n      class: \"form-control required\",\n      name: \"bustell\",\n      placeholder: \"Business Number\",\n      maxlength: \"12\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"bustel\"));\n      }\n    }), \"\\n                                    \", HTML.INPUT({\n      type: \"tel\",\n      class: \"form-control required\",\n      name: \"buscell\",\n      placeholder: \"Cell Number\",\n      maxlength: \"12\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"buscel\"));\n      }\n    }), \"\\n                                    \", HTML.INPUT({\n      type: \"email\",\n      class: \"form-control required\",\n      name: \"busemail\",\n      placeholder: \"Email Address\",\n      maxlength: \"35\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"busemail\"));\n      }\n    }), \"                                                                   \\n                                    \", HTML.INPUT({\n      type: \"\",\n      class: \"form-control required\",\n      name: \"person1\",\n      placeholder: \"Contact Person 1\",\n      maxlength: \"25\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"cont1\"));\n      }\n    }), \"                                                                   \\n                                    \", HTML.INPUT({\n      type: \"text\",\n      class: \"form-control\",\n      name: \"person2\",\n      placeholder: \"Contact Person 2\",\n      maxlength: \"25\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"cont2\"));\n      }\n    }), \"                                                                   \\n                                \"), \"    \\n                        \"), \"\\n                    \\n                        \", HTML.DIV({\n      class: \"form-group col-md-4 panel\"\n    }, \"\\n                            \", HTML.DIV({\n      class: \"title panel-heading\"\n    }, \"Address Details\"), \"              \\n                                \", HTML.DIV({\n      class: \"form-group   panel-body  \"\n    }, \" \\n                                    \", HTML.INPUT({\n      type: \"text\",\n      class: \" \",\n      name: \"add1\",\n      placeholder: \"Street Address\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"add1\"));\n      }\n    }), \"\\n                                    \", HTML.INPUT({\n      type: \"text\",\n      class: \" \",\n      name: \"add2\",\n      placeholder: \"\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"add2\"));\n      }\n    }), \"\\n                                    \", HTML.INPUT({\n      type: \"text\",\n      class: \" \",\n      name: \"add3\",\n      placeholder: \"\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"add3\"));\n      }\n    }), \"                                                                   \\n                                    \", HTML.INPUT({\n      type: \"text\",\n      class: \" \",\n      name: \"add4\",\n      placeholder: \"Postal Code\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"add4\"));\n      }\n    }), \"    \\n                                    \", HTML.INPUT({\n      type: \"text\",\n      class: \" \",\n      name: \"add5\",\n      placeholder: \"Additional Info\",\n      value: function() {\n        return Spacebars.mustache(view.lookup(\"add5\"));\n      }\n    }), \"                                                                                                                                  \\n                                \"), \"   \\n                        \"), \"                \\n                    \\n                        \", HTML.DIV({\n      class: \"form-group col-md-4 panel\"\n    }, \"  \\n                            \", HTML.DIV({\n      class: \"form-group  panel-body  \"\n    }, \"                        \\n                                \", HTML.IMG({\n      src: \"/lenz.png\"\n    }), \"                                                           \\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", HTML.INPUT({\n      type: \"checkbox\",\n      name: \"chkCond\",\n      class: \"form-check-input required\",\n      value: \"true\"\n    }), \"Accept terms and condtions     \\n                \"), \"\\n                \", HTML.DIV({\n      class: \"form-row \"\n    }, \"\\n                        \", HTML.DIV({\n      class: \"col-md-8\"\n    }, \"\\n                               \\n                            \", HTML.BUTTON({\n      type: \"submit\",\n      name: \"btnAddSeller\",\n      class: \"btn btn-primary\"\n    }, Blaze.If(function() {\n      return Spacebars.dataMustache(view.lookup(\"isNullOrEmpty\"), view.lookup(\"_id\"));\n    }, function() {\n      return \"New\";\n    }, function() {\n      return \"Update\";\n    })), \"\\n                            \", HTML.BUTTON({\n      type: \"button\",\n      class: \"btn btn-secondary\"\n    }, \"Cancel\"), \"\\n                        \"), \"\\n                    \"), \" \\n\\n            \"), \"                   \\n        \"), \"                                 \\n    \"), \"\\n \\n\\n    \" ];\n  });\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.sellerShort.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.sellerShort.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"SellerShort\");\nTemplate[\"SellerShort\"] = new Template(\"Template.SellerShort\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return \"\\n    \";\n  }, function() {\n    return [ \"\\n        \", HTML.DIV({\n      class: \"info\"\n    }, \"\\n            Please log in to view details\\n        \"), \"\\n    \" ];\n  });\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.share-overlay.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.share-overlay.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"shareOverlay\");\nTemplate[\"shareOverlay\"] = new Template(\"Template.shareOverlay\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"currentUser\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      class: \"overlay share\"\n    }, \"\\n\\n      \", Blaze.Unless(function() {\n      return Spacebars.call(view.lookup(\"attachedImage\"));\n    }, function() {\n      return [ \"\\n        \", HTML.A({\n        href: \"#\",\n        class: \"js-close-overlay overlay-dismiss\"\n      }, HTML.SPAN({\n        class: \"icon-cross\"\n      })), \"\\n        \", HTML.DIV({\n        class: \"wrapper-heading\"\n      }, \"\\n          \", HTML.DIV({\n        class: \"title-overlay\"\n      }, \"Share\"), \"\\n          \", HTML.DIV({\n        class: \"subtitle-overlay\"\n      }, \"Share that you made this recipe with the just adit community.\"), \"\\n        \"), \"\\n\\n        \", HTML.DIV({\n        class: \"wrapper-camera\"\n      }, \"\\n          \", HTML.A({\n        class: \"js-attach-image btn-camera\"\n      }, HTML.SPAN({\n        class: \"icon-camera\"\n      })), \"\\n          \", HTML.DIV({\n        class: \"subtext-camera\"\n      }, \"Add your photo\"), \"\\n        \"), \"\\n      \" ];\n    }, function() {\n      return [ \"\\n        \", HTML.A({\n        href: \"#\",\n        class: \"js-unattach-image overlay-back\"\n      }, HTML.SPAN({\n        class: \"icon-arrow-left-alt\"\n      })), \"\\n        \", HTML.DIV({\n        class: \"title-page\"\n      }, \"Share\"), \"\\n        \", HTML.A({\n        href: \"#\",\n        class: \"js-close-overlay overlay-dismiss\"\n      }, HTML.SPAN({\n        class: \"icon-cross\"\n      })), \"\\n\\n        \", HTML.DIV({\n        class: \"bg-image\",\n        style: function() {\n          return [ \"background-image: url('\", Spacebars.mustache(view.lookup(\"attachedImage\")), \"')\" ];\n        }\n      }), \"\\n\\n        \", HTML.FORM({\n        class: \"form-share\"\n      }, \"\\n          \", HTML.DIV({\n        class: \"form-group\"\n      }, \"\\n            \", HTML.DIV({\n        class: \"avatar\"\n      }, \"\\n              \", HTML.IMG({\n        src: function() {\n          return Spacebars.mustache(view.lookup(\"avatar\"));\n        },\n        class: \"image-avatar\"\n      }), \"\\n            \"), \"\\n\\n            \", HTML.TEXTAREA({\n        name: \"text\",\n        type: \"text\",\n        autocapitalize: \"off\",\n        autocorrect: \"off\",\n        required: \"\",\n        maxlength: \"140\",\n        class: \"message-share\",\n        placeholder: \"Add advice, suggestions, or thoughts to share with the community...\"\n      }), \"\\n          \"), \"\\n\\n          \", HTML.DIV({\n        class: \"wrapper-checkbox\"\n      }, \"\\n            \", HTML.LABEL({\n        for: \"tweeting\",\n        class: \"checkbox\"\n      }, \"\\n              \", HTML.INPUT({\n        type: \"checkbox\",\n        name: \"tweeting\",\n        id: \"tweeting\",\n        checked: \"\"\n      }), \"\\n              \", HTML.SPAN(\"Post to Twitter\"), \"\\n            \"), \"\\n          \"), \"\\n\\n          \", HTML.BUTTON({\n        class: \"btn-primary\",\n        type: \"submit\"\n      }, \"\\n            \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"tweeting\"));\n      }, function() {\n        return [ \"\\n              Share \", HTML.CharRef({\n          html: \"&amp;\",\n          str: \"&\"\n        }), \" Tweet\\n            \" ];\n      }, function() {\n        return \"\\n              Share\\n            \";\n      }), \"\\n          \"), \"\\n        \"), \"\\n      \" ];\n    }), \"\\n\\n    \"), \"\\n  \" ];\n  }, function() {\n    return [ \"\\n    \", Spacebars.include(view.lookupTemplate(\"authOverlay\")), \"\\n  \" ];\n  });\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.shoppingcart.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.shoppingcart.js                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"headerShoppingCart\");\nTemplate[\"headerShoppingCart\"] = new Template(\"Template.headerShoppingCart\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"shoppingcart header\"> \\n           \\n    </div>');\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.showEdit_Products.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.showEdit_Products.js                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"SellerProducts_tmp\");\nTemplate[\"SellerProducts_tmp\"] = new Template(\"Template.SellerProducts_tmp\", (function() {\n  var view = this;\n  return Blaze.Each(function() {\n    return {\n      _sequence: Spacebars.call(view.lookup(\"myProducts\")),\n      _variable: \"prod\"\n    };\n  }, function() {\n    return [ \"\\n             \", HTML.DIV({\n      class: \"list-products\"\n    }, \"            \\n                  \", Blaze._TemplateWith(function() {\n      return {\n        product: Spacebars.call(view.lookup(\"prod\")),\n        size: Spacebars.call(\"large\"),\n        isEdit: Spacebars.call(true)\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"productItem\"));\n    }), \"         \\n            \"), \"    \\n        \" ];\n  });\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.showImage.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.showImage.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"showImage\");\nTemplate[\"showImage\"] = new Template(\"Template.showImage\", (function() {\n  var view = this;\n  return HTML.DIV(\"\\n   \\n    \", Spacebars.With(function() {\n    return Spacebars.dataMustache(view.lookup(\"getSellerImage\"), view.lookup(\"imgId\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV(\"\\n        \", HTML.IMG({\n      class: \" img-responsive panel-body \",\n      width: \"236px\",\n      height: \"236px\",\n      src: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"url\"), Spacebars.kw({\n          store: \"images\",\n          uploading: \"/images/uploading.gif\",\n          storing: \"/images/storing.gif\"\n        }));\n      },\n      alt: \"\"\n    }), \"  \\n    \"), \"\\n    \" ];\n  }), \"\\n\");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.ticker.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.ticker.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"ticker\");\nTemplate[\"ticker\"] = new Template(\"Template.ticker\", (function() {\n  var view = this;\n  return HTML.Raw('<!-- <div class=\"row\">\\n        <div class=\"col-md-2 col-sm-2\">{{timestamp}}</div>\\n        {{#each getAllTickers}}\\n            <div class=\"col-md-2 col-sm-2\">{{_id}} -: {{price}}</div>\\n        {{/each}}\\n    </div> -->');\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.whats-cooking.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/template.whats-cooking.js                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"feed\");\nTemplate[\"feed\"] = new Template(\"Template.feed\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"page whats-cooking\"\n  }, \"\\n\\n    \", Blaze._TemplateWith(function() {\n    return {\n      title: Spacebars.call(\"What's Cooking\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"nav\"));\n  }), \"\\n\\n    \", HTML.DIV({\n    class: \"content-scrollable\"\n  }, \"\\n      \", HTML.DIV({\n    class: function() {\n      return [ \"list-activities \", Blaze.Unless(function() {\n        return Spacebars.call(view.lookup(\"ready\"));\n      }, function() {\n        return \"loading\";\n      }) ];\n    }\n  }, \"\\n        \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"ready\"));\n  }, function() {\n    return [ \"\\n          \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"activities\"));\n    }, function() {\n      return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"activity\")), \"\\n          \" ];\n    }, function() {\n      return [ \"\\n            \", HTML.DIV({\n        class: \"wrapper-message\"\n      }, \"\\n              \", HTML.DIV({\n        class: \"title-message\"\n      }, \"No one is cooking yet!\"), \"\\n              \", HTML.DIV({\n        class: \"subtitle-message\"\n      }, \"Share that you made a recipe and it will show up here.\"), \"\\n            \"), \"\\n          \" ];\n    }), \"\\n        \" ];\n  }, function() {\n    return [ \"\\n          \", HTML.DIV({\n      class: \"wrapper-message\"\n    }, \"\\n            \", HTML.DIV({\n      class: \"icon-sync\"\n    }), \"\\n            \", HTML.DIV({\n      class: \"title-message\"\n    }, \"Loading\"), \"\\n          \"), \"\\n        \" ];\n  }), \"\\n      \"), \"\\n    \"), \"\\n  \");\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"Maintain_Product.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/Maintain_Product.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.tmp_product_maintain.helpers({\n  create: function () {\n    console.log(\"Maintain Created\");\n  },\n  rendered: function () {\n    console.log(\"Maintain rendered\");\n  },\n  destroyed: function () {\n    console.log(\"Maintain destroyed\");\n  }\n});\nTemplate.tmp_product_maintain.events({\n  'click .deleteImg': function (event, template) {\n    var ImageId = event.currentTarget.attributes['imgid'].value;\n    imageFile = Images.find({\n      _id: ImageId\n    });\n    Images.remove({\n      _id: ImageId\n    });\n  },\n  'click .updateRec': function (event, template) {\n    alert('update the record');\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"activity.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/activity.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.activity.onRendered(function () {\n  var self = this; // If the activity is in a list, scroll it into view. Note, we can't just use\n  // element.scrollIntoView() because it attempts to scroll in the X direction\n  // messing up our animations\n\n  if (Router.current().params.activityId === self.data._id) {\n    var $activity = $(self.firstNode);\n    var top = $activity.offset().top;\n    var $parent = $(self.firstNode).closest('.content-scrollable');\n    var parentTop = $parent.offset().top;\n    $parent.scrollTop(top - parentTop);\n  }\n});\nTemplate.activity.helpers({\n  firstName: function () {\n    return this.userName.split(' ')[0];\n  },\n  recipeTitle: function () {\n    return RecipesData[this.recipeName].title;\n  },\n  path: function () {\n    return Router.path('recipe', {\n      name: this.recipeName\n    }, {\n      query: {\n        activityId: this._id\n      }\n    });\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"admin.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/admin.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.admin.helpers({\n  isAdmin: function () {\n    return Meteor.user() && Meteor.user().admin;\n  },\n  latestNews: function () {\n    return News.latest();\n  }\n});\nTemplate.admin.events({\n  'submit form': function (event) {\n    event.preventDefault();\n    var text = $(event.target).find('[name=text]').val();\n    News.insert({\n      text: text,\n      date: new Date()\n    });\n    alert('Saved latest news');\n  },\n  'click .login': function () {\n    Meteor.loginWithTwitter();\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"app-body.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/app-body.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar ANIMATION_DURATION = 300;\nvar NOTIFICATION_TIMEOUT = 3000;\nvar MENU_KEY = 'menuOpen';\nvar IGNORE_CONNECTION_ISSUE_KEY = 'ignoreConnectionIssue';\nvar CONNECTION_ISSUE_TIMEOUT = 5000;\nSession.setDefault(IGNORE_CONNECTION_ISSUE_KEY, true);\nSession.setDefault(MENU_KEY, false); // XXX: this work around until IR properly supports this\n//   IR refactor will include Location.back, which will ensure that initator is\n//   set \n\nvar nextInitiator = null,\n    initiator = null;\nDeps.autorun(function () {\n  // add a dep\n  Router.current();\n  initiator = nextInitiator;\n  nextInitiator = null;\n});\nvar notifications = new Mongo.Collection(null);\n\nTemplate.appBody.addNotification = function (notification) {\n  var id = notifications.insert(notification);\n  Meteor.setTimeout(function () {\n    notifications.remove(id);\n  }, NOTIFICATION_TIMEOUT);\n};\n\nMeteor.startup(function () {\n  // set up a s  left / right handler\n  $(document.body).touchwipe({\n    wipeLeft: function () {\n      Session.set(MENU_KEY, false);\n    },\n    wipeRight: function () {\n      Session.set(MENU_KEY, true);\n    },\n    preventDefaultEvents: false\n  }); // Only show the connection error box if it has been 5 seconds since\n  // the app started\n\n  setTimeout(function () {\n    // Launch screen handle created in lib/router.js\n    dataReadyHold.release(); // Allow the connection error box to be shown if there is an issue\n\n    Session.set(IGNORE_CONNECTION_ISSUE_KEY, false);\n  }, CONNECTION_ISSUE_TIMEOUT);\n});\nTemplate.appBody.onRendered(function () {\n  this.find(\"#content-container\")._uihooks = {\n    insertElement: function (node, next) {\n      // short-circuit and just do it right away\n      if (initiator === 'menu') return $(node).insertBefore(next);\n      var start = initiator === 'back' ? '-100%' : '100%';\n      $.Velocity.hook(node, 'translateX', start);\n      $(node).insertBefore(next).velocity({\n        translateX: [0, start]\n      }, {\n        duration: ANIMATION_DURATION,\n        easing: 'ease-in-out',\n        queue: false\n      });\n    },\n    removeElement: function (node) {\n      if (initiator === 'menu') return $(node).remove();\n      var end = initiator === 'back' ? '100%' : '-100%';\n      $(node).velocity({\n        translateX: end\n      }, {\n        duration: ANIMATION_DURATION,\n        easing: 'ease-in-out',\n        queue: false,\n        complete: function () {\n          $(node).remove();\n        }\n      });\n    }\n  };\n  this.find(\".notifications\")._uihooks = {\n    insertElement: function (node, next) {\n      $(node).insertBefore(next).velocity(\"slideDown\", {\n        duration: ANIMATION_DURATION,\n        easing: [0.175, 0.885, 0.335, 1.05]\n      });\n    },\n    removeElement: function (node) {\n      $(node).velocity(\"fadeOut\", {\n        duration: ANIMATION_DURATION,\n        complete: function () {\n          $(node).remove();\n        }\n      });\n    }\n  };\n});\nTemplate.appBody.helpers({\n  menuOpen: function () {\n    return Session.get(MENU_KEY) && 'menu-open';\n  },\n  overlayOpen: function () {\n    return Overlay.isOpen() ? 'overlay-open' : '';\n  },\n  connected: function () {\n    return Session.get(IGNORE_CONNECTION_ISSUE_KEY) || Meteor.status().connected;\n  },\n  notifications: function () {\n    return notifications.find();\n  }\n});\nTemplate.appBody.events({\n  'click .js-menu': function (event) {\n    event.stopImmediatePropagation();\n    event.preventDefault();\n    Session.set(MENU_KEY, !Session.get(MENU_KEY));\n  },\n  'click .js-back': function (event) {\n    nextInitiator = 'back'; // XXX: set the back transition via Location.back() when IR 1.0 hits\n\n    history.back();\n    event.stopImmediatePropagation();\n    event.preventDefault();\n  },\n  'click a.js-open': function (event) {\n    // On Cordova, open links in the system browser rather than In-App\n    if (Meteor.isCordova) {\n      event.preventDefault();\n      window.open(event.target.href, '_system');\n    }\n  },\n  'click .content-overlay': function (event) {\n    Session.set(MENU_KEY, false);\n    event.preventDefault();\n  },\n  'click #menu a': function (event) {\n    nextInitiator = 'menu';\n    Session.set(MENU_KEY, false);\n  },\n  'click .js-notification-action': function () {\n    if (_.isFunction(this.callback)) {\n      this.callback();\n      notifications.remove(this._id);\n    }\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"auth-overlay.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/auth-overlay.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n// If the auth overlay is on the screen but the user is logged in,\n//   then we have come back from the loginWithTwitter flow,\n//   and the user has successfully signed in.\n//\n// We have to use an autorun for this as callbacks get lost in the\n//   redirect flow.\nTemplate.authOverlay.onCreated(function () {\n  this.autorun(function () {\n    if (Meteor.userId() && Overlay.template() === 'authOverlay') {\n      //Router.go(\"/\");\n      Overlay.close();\n    }\n  });\n});\nTemplate.logout.events({\n  'click .btnLogout': function () {\n    Meteor.logout();\n    Router.go(\"/\");\n  },\n  'click .btnCancel': function () {\n    Router.go(\"/\");\n  }\n});\nTemplate.authOverlay.events({\n  'click .js-signin': function () {\n    Meteor.loginWithTwitter({\n      loginStyle: 'redirect'\n    });\n  }\n});\n\nvar trimInput = function (val) {\n  return val.replace(/^\\s*|\\s*$/g, \"\");\n};\n\nvar isValidPassword = function (val) {\n  return val.length >= 6 ? true : false;\n};\n\nvar isValidEmail = function (val) {\n  var re = new RegExp('/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/');\n  var isValidEmail = re.test(val) === null ? false : true;\n  return isValidEmail;\n};\n\nTemplate.customLogin.events({\n  'click #btnLogin': function (e, t) {\n    e.preventDefault();\n    Loading.start();\n    var emailadd = t.$(\"#emailAddress\").val();\n    var password = t.$(\"#password\").val();\n    email = trimInput(emailadd);\n    password = trimInput(password);\n    var result = false;\n\n    if (isValidEmail(email) && isValidPassword(password)) {\n      result = true;\n    }\n\n    if (result) {\n      Meteor.loginWithPassword(email, password, function (err) {\n        if (err) {} // The user might not have been found, or their passwword\n        // could be incorrect. Inform the user that their\n        // login attempt has failed. \n        else {\n            Router.go(\"/\");\n          } // The user has been logged in.\n\n      });\n    } else {\n      alert(\"Invlaid email and Password\");\n    }\n\n    Loading.stop();\n  },\n  'click .btnCancel': function () {\n    Router.go(\"/\");\n  }\n});\nTemplate.customLogin.events({\n  'click .bSignup': function (e, t) {\n    Router.go(\"/signup\");\n  }\n});\n\nTemplate.authOverlay.rendered = function () {\n  console.log(\"rendering login\"); //alert('Template Login redered');\n  // Accounts._loginButtons.data-toggle = \"tab\";\n}; // Accounts.ui.config({\n//   requestPermissions: {\n//     facebook: ['user_likes'],\n//     github: ['user', 'repo']\n//   },\n//   requestOfflineToken: {\n//     google: true\n//   },\n//   passwordSignupFields: 'USERNAME_AND_OPTIONAL_EMAIL'\n// });\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"auth-signup.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/auth-signup.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n// If the auth overlay is on the screen but the user is logged in,\n//   then we have come back from the loginWithTwitter flow,\n//   and the user has successfully signed in.\n//\n// We have to use an autorun for this as callbacks get lost in the\n//   redirect flow.\nTemplate.authOverlaySignup.onCreated(function () {\n  this.autorun(function () {\n    if (Meteor.userId() && Overlay.template() === 'authOverlaySignup') {\n      //Router.go(\"/\");\n      Overlay.close();\n    }\n  });\n});\nTemplate.authOverlaySignup.events({\n  'click .js-signin': function () {\n    Meteor.loginWithTwitter({\n      loginStyle: 'redirect'\n    });\n  }\n});\n\nvar trimInput = function (val) {\n  return val.replace(/^\\s*|\\s*$/g, \"\");\n};\n\nvar isValidPassword = function (val) {\n  return val.length >= 6 ? true : false;\n};\n\nvar isValidEmail = function (val) {\n  var re = new RegExp('/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/');\n  var isValidEmail = re.test(val) === null ? false : true;\n  return isValidEmail;\n};\n\nTemplate.SignUp.events({\n  'click .btnSignup': function (e, t) {\n    e.preventDefault();\n    Loading.start();\n    var emailadd = t.$(\"#signupEmail\").val();\n    var password = t.$(\"#signupPassword\").val();\n    var passwordr = t.$(\"#signupRPassword\").val();\n    email = trimInput(emailadd);\n    password = trimInput(password);\n    passwordr = trimInput(passwordr);\n    var result = false;\n\n    if (isValidEmail(email) && isValidPassword(password) && password == passwordr) {\n      result = true;\n    }\n\n    if (result) {\n      Accounts.createUser({\n        email: email,\n        username: email,\n        password: password\n      });\n      Meteor.loginWithPassword(email, password, function (err) {\n        if (err) {\n          alert('could not be logged in now.');\n        } else {\n          Router.go(\"/\");\n        } // The user has been logged in.\n\n      });\n    } else {\n      alert(\"Invlaid email and Password\");\n    }\n\n    Loading.stop();\n  }\n});\nTemplate.SignUp.events({\n  'click .bLogin': function (e, t) {\n    Router.go(\"/login\");\n  },\n  'click .btnCancel': function () {\n    Router.go(\"/\");\n  }\n});\n\nTemplate.authOverlaySignup.rendered = function () {\n  console.log(\"rendering login\"); //alert('Template Login redered');\n  // Accounts._loginButtons.data-toggle = \"tab\";\n}; // Accounts.ui.config({\n//   requestPermissions: {\n//     facebook: ['user_likes'],\n//     github: ['user', 'repo']\n//   },\n//   requestOfflineToken: {\n//     google: true\n//   },\n//   passwordSignupFields: 'USERNAME_AND_OPTIONAL_EMAIL'\n// });\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"bookmarks.1.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/bookmarks.1.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.bookmarks.helpers({\n  recipeCount: function () {\n    return pluralize(this.length, 'recipe');\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"bookmarks.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/bookmarks.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.bookmarks.helpers({\n  recipeCount: function () {\n    return pluralize(this.length, 'recipe');\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"carousel.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/carousel.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.carousel.onRendered(function () {\n  Loading.start();\n  this.$('#Caro').touchwipe({\n    wipeUp: function () {\n      $('#Caro').carousel('prev');\n    },\n    preventDefaultEvents: false\n  });\n  this.$('#CaroImg').touchwipe({\n    wipeDown: function () {\n      $('#Caro').carousel('next');\n    },\n    preventDefaultEvents: false\n  });\n  Loading.stop();\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"home.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/home.js                                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar FEATURED_COUNT = 4;\nTemplate.home.helpers({\n  // selects FEATURED_COUNT number of recipes at random\n  featuredRecipes: function () {\n    var recipes = _.values(RecipesData);\n\n    var selection = [];\n\n    for (var i = 0; i < FEATURED_COUNT; i++) {\n      selection.push(recipes.splice(_.random(recipes.length - 1), 1)[0]);\n    }\n\n    return selection;\n  },\n  featuredProducts: function () {\n    console.log(\"Featured Products\"); //let wrappedAsyncFunction = Loading.wrapAsync(someAsyncFunction);\n\n    Meteor.subscribe('featuredProducts');\n    return Products.find({}, {\n      limit: FEATURED_COUNT,\n      sort: {\n        createdAt: -1\n      }\n    });\n  },\n  activities: function () {\n    return Activities.latest();\n  },\n  latestNews: function () {\n    return News.latest();\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"login.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/login.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.login.events({\n  'click #logout-button': function () {\n    Meteor.logout();\n  }\n});\nTemplate.login.helpers({\n  services: function () {\n    return Accounts._loginButtons.getLoginServices();\n  }\n}); // Template.login.service = function()\n// {\n//     //returns an array like [{name: 'facebook'}];\n//     return getLoginServices();\n// }\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"nav.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/nav.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.nav.onRendered(function () {\n  var $nav = this.$('nav');\n  $nav.siblings('.content-scrollable:not(.static-nav)').children().first().waypoint(function (direction) {\n    $nav.toggleClass('scrolled', direction === 'down');\n  }, {\n    context: '.content-scrollable',\n    offset: -200\n  });\n});\nTemplate.nav.helpers({\n  // Iron Router stores {initial: true} in history state if this is\n  // the first route that we hit in an app. There are a variety of \n  // unexpected ways that this can happen (for example oauth, or \n  // hot code push), but we can't rely on going back in such cases.\n  back: function () {\n    return this.back && !history.state.initial;\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"navaddons.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/navaddons.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"overlay.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/overlay.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar TEMPLATE_KEY = 'overlayTemplate';\nvar DATA_KEY = 'overlayData';\nvar ANIMATION_DURATION = 200;\nSession.setDefault(TEMPLATE_KEY, null);\nOverlay = {\n  open: function (template, data) {\n    Session.set(TEMPLATE_KEY, template);\n    Session.set(DATA_KEY, data);\n  },\n  close: function () {\n    Session.set(TEMPLATE_KEY, null);\n    Session.set(DATA_KEY, null);\n  },\n  isOpen: function () {\n    return !Session.equals(TEMPLATE_KEY, null);\n  },\n  template: function () {\n    return Session.get(TEMPLATE_KEY);\n  },\n  data: function () {\n    return Session.get(DATA_KEY);\n  }\n};\nTemplate.overlay.onRendered(function () {\n  this.find('#overlay-hook')._uihooks = {\n    insertElement: function (node, next, done) {\n      var $node = $(node);\n      $node.hide().insertBefore(next).velocity('fadeIn', {\n        duration: ANIMATION_DURATION\n      });\n    },\n    removeElement: function (node, done) {\n      var $node = $(node);\n      $node.velocity(\"fadeOut\", {\n        duration: ANIMATION_DURATION,\n        complete: function () {\n          $node.remove();\n        }\n      });\n    }\n  };\n});\nTemplate.overlay.helpers({\n  template: function () {\n    return Overlay.template();\n  },\n  data: function () {\n    return Overlay.data();\n  }\n});\nTemplate.overlay.events({\n  'click .js-close-overlay': function (event) {\n    event.preventDefault();\n    Overlay.close();\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"product-item.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/product-item.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.productItem.helpers({\n  path: function () {\n    return Router.path('product', this._id);\n  },\n  highlightedClass: function () {\n    if (this.size === 'large') return 'highlighted';\n  },\n  bookmarkCount: function () {\n    var count = 1; //BookmarkCounts.find({}).count());\n\n    return count && count.count;\n  },\n  getImage: function (imgid) {\n    return Images.findOne({\n      ImageId: imgid\n    });\n  },\n  getFirstElement: function (arr) {\n    if (arr == 'undefined') {\n      return null;\n    }\n\n    ;\n\n    if (arr instanceof Array) {\n      return arr[0];\n    } //return str;\n\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"product.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/product.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar TAB_KEY = 'productShowTab';\nTemplate.product.helpers({\n  getProduct: function (id) {\n    loading.start();\n    var result = Template.instance.data.Products; //var result = Meteor.apply('getProduct',[id],{wait:true});\n\n    loading.stop();\n    return result;\n  }\n}); // Template.product.helpers({\n//   thisSelectedProduct : function(){\n//     var self = this;\n//     try {\n//         var result;\n//         result = Session.get(\"currentProduct\");//Products.find({_id:Router.current().params._id});\n//         return result;\n//     } catch (error) {\n//     }\n//   }\n// });\n\nTemplate.product.onCreated(function () {\n  // console.log(\"Create Product template\");\n  // console.log(\"parameter Id \" + Router.current().params._id);\n  var self = this;\n  Loading.start();\n  if (Router.current().params._id) Template.product.setTab('feed');else Template.product.setTab('product');\n});\nTemplate.product.onRendered(function () {\n  Loading.stop();\n  this.$('.product').touchwipe({\n    wipeDown: function () {\n      if (Session.equals(TAB_KEY, 'product')) Template.productItem.setTab('show');\n    },\n    preventDefaultEvents: false\n  });\n  this.$('.attribution-product').touchwipe({\n    wipeUp: function () {\n      if (!Session.equals(TAB_KEY, 'product')) Template.productItem.setTab('product');\n    },\n    preventDefaultEvents: false\n  });\n}); // CSS transitions can't tell the difference between e.g. reaching\n//   the \"make\" tab from the expanded state or the \"feed\" tab\n//   so we need to help the transition out by attaching another\n//   class that indicates if the feed tab should slide out of the\n//   way smoothly, right away, or after the transition is over\n\nTemplate.product.setTab = function (tab) {\n  var lastTab = Session.get(TAB_KEY);\n  Session.set(TAB_KEY, tab);\n  var fromProduct = lastTab === 'product' && tab !== 'product';\n  $('.feed-scrollable').toggleClass('instant', fromProduct);\n  var toProduct = lastTab !== 'product' && tab === 'product';\n  $('.feed-scrollable').toggleClass('delayed', toProduct);\n};\n\nTemplate.product.helpers({\n  isActiveTab: function (name) {\n    return Session.equals(TAB_KEY, name);\n  },\n  thisProductImages: function (imageId) {\n    console.log(\"Searching for imageid : \" + imageId + \" -  Image Count : \" + Images.count);\n    Meteor.subscribe('ProductImages', imageId); //Loading.start();\n\n    var ProductImgs = Images.find({}); //Loading.stop();\n\n    return ProductImgs;\n  },\n  activeTabClass: function () {\n    return Session.get(TAB_KEY);\n  },\n  bookmarked: function () {\n    return Meteor.user(); //&& _.include(Meteor.user().bookmarkedRecipeNames, this.name);\n  },\n  activities: function () {\n    return Activities.find({\n      recipeName: this.name\n    }, {\n      sort: {\n        date: -1\n      }\n    });\n  },\n  productData: function () {\n    //console.log(\"Router data \" + Template.instance().data[0]);\n    return Template.instance().data[0];\n  }\n});\nTemplate.product.events({\n  'click .js-add-bookmark': function (event) {\n    event.preventDefault();\n    if (!Meteor.userId()) return Overlay.open('authOverlay');\n    Meteor.call('bookmarkRecipe', this.name);\n  },\n  'click .js-remove-bookmark': function (event) {\n    event.preventDefault();\n    Meteor.call('unbookmarkRecipe', this.name);\n  },\n  'click .js-show-recipe': function (event) {\n    event.stopPropagation();\n    Template.product.setTab('make');\n  },\n  'click .js-show-feed': function (event) {\n    event.stopPropagation();\n    Template.product.setTab('feed');\n  },\n  'click .js-uncollapse': function () {\n    Template.product.setTab('recipe');\n  },\n  'click .js-share': function () {\n    Overlay.open('shareOverlay', this);\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"products.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/products.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar TAB_KEY = 'productShowTab';\nTemplate.product.onCreated(function () {\n  debugger;\n  if (Router.current().params._searchTerm) Template.product.setTab('feed');else Template.product.setTab('product');\n});\nTemplate.product.onRendered(function () {// this.$('.product').touchwipe({\n  //   wipeDown: function () {\n  //     if (Session.equals(TAB_KEY, 'product'))\n  //       Template.product.setTab('show')\n  //   },\n  //   preventDefaultEvents: false\n  // });\n  // this.$('.attribution-product').touchwipe({\n  //   wipeUp: function () {\n  //     if (! Session.equals(TAB_KEY, 'product'))\n  //       Template.product.setTab('product')\n  //   },\n  //   preventDefaultEvents: false\n  // });\n}); // CSS transitions can't tell the difference between e.g. reaching\n//   the \"make\" tab from the expanded state or the \"feed\" tab\n//   so we need to help the transition out by attaching another\n//   class that indicates if the feed tab should slide out of the\n//   way smoothly, right away, or after the transition is over\n\nTemplate.product.setTab = function (tab) {\n  var lastTab = Session.get(TAB_KEY);\n  Session.set(TAB_KEY, tab);\n  var fromProduct = lastTab === 'product' && tab !== 'product';\n  $('.feed-scrollable').toggleClass('instant', fromProduct);\n  var toProduct = lastTab !== 'product' && tab === 'product';\n  $('.feed-scrollable').toggleClass('delayed', toProduct);\n};\n\nTemplate.product.helpers({\n  isActiveTab: function (name) {\n    return Session.equals(TAB_KEY, name);\n  },\n  activeTabClass: function () {\n    return Session.get(TAB_KEY);\n  },\n  bookmarked: function () {\n    return true; //Meteor.user() && _.include(Meteor.user().bookmarkedRecipeNames, this.name);\n  },\n  activities: function () {\n    return Activities.find({\n      recipeName: this.name\n    }, {\n      sort: {\n        date: -1\n      }\n    });\n  }\n});\nTemplate.product.events({\n  'click .js-add-bookmark': function (event) {\n    event.preventDefault();\n    if (!Meteor.userId()) return Overlay.open('authOverlay');\n    Meteor.call('bookmarkRecipe', this.name);\n  },\n  'click .js-remove-bookmark': function (event) {\n    event.preventDefault();\n    Meteor.call('unbookmarkRecipe', this.name);\n  },\n  'click .js-show-product': function (event) {\n    event.stopPropagation();\n    Template.product.setTab('show');\n  },\n  'click .js-show-feed': function (event) {\n    event.stopPropagation();\n    Template.product.setTab('feed');\n  },\n  'click .js-uncollapse': function () {\n    Template.product.setTab('product');\n  },\n  'click .js-share': function () {\n    Overlay.open('shareOverlay', this);\n  }\n});\nTemplate.products.helpers({\n  firstName: function () {\n    return this.userName.split(' ')[0];\n  },\n  latestProducts: function () {\n    //({done: false},{order: {status: 1}, limit: 5});\n    //return Products.find({},{sort:{createdAt:-1}});\n    Loading.start();\n    var query = false;\n\n    if (Router.current().params.searchTerm) {\n      query = RegExp.escape(Router.current().params.searchTerm);\n    }\n\n    var result = {};\n\n    if (query && query != \"\") {\n      result = Products.find({\n        $or: [{\n          producttitle: {\n            $regex: query,\n            $options: 'i'\n          },\n          productDescription: {\n            $regex: query,\n            $options: 'i'\n          }\n        }]\n      }, {\n        sort: {\n          createdAt: -1\n        }\n      });\n    } else {\n      result = Products.find({}, {\n        sort: {\n          createdAt: -1\n        }\n      });\n    }\n\n    Loading.stop();\n    return result;\n  },\n  homeProducts: function () {\n    return Products.find({}, {\n      sort: {\n        createdAt: -1\n      },\n      limit: 4\n    });\n  },\n  productTitle: function () {\n    return \"\"; //RecipesData[this.recipeName].title;\n  },\n  path: function () {\n    return Router.path('product', {\n      id: this._id\n    }, {\n      query: {\n        _id: this._id\n      }\n    });\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"recipe-item.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/recipe-item.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.recipeItem.helpers({\n  path: function () {\n    return Router.path('recipe', this.recipe);\n  },\n  highlightedClass: function () {\n    if (this.size === 'large') return 'highlighted';\n  },\n  bookmarkCount: function () {\n    var count = BookmarkCounts.findOne({\n      recipeName: this.name\n    });\n    return count && count.count;\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"recipe.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/recipe.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar TAB_KEY = 'recipeShowTab';\nTemplate.recipe.onCreated(function () {\n  if (Router.current().params.activityId) Template.recipe.setTab('feed');else Template.recipe.setTab('recipe');\n});\nTemplate.recipe.onRendered(function () {\n  this.$('.recipe').touchwipe({\n    wipeDown: function () {\n      if (Session.equals(TAB_KEY, 'recipe')) Template.recipe.setTab('make');\n    },\n    preventDefaultEvents: false\n  });\n  this.$('.attribution-recipe').touchwipe({\n    wipeUp: function () {\n      if (!Session.equals(TAB_KEY, 'recipe')) Template.recipe.setTab('recipe');\n    },\n    preventDefaultEvents: false\n  });\n}); // CSS transitions can't tell the difference between e.g. reaching\n//   the \"make\" tab from the expanded state or the \"feed\" tab\n//   so we need to help the transition out by attaching another\n//   class that indicates if the feed tab should slide out of the\n//   way smoothly, right away, or after the transition is over\n\nTemplate.recipe.setTab = function (tab) {\n  var lastTab = Session.get(TAB_KEY);\n  Session.set(TAB_KEY, tab);\n  var fromRecipe = lastTab === 'recipe' && tab !== 'recipe';\n  $('.feed-scrollable').toggleClass('instant', fromRecipe);\n  var toRecipe = lastTab !== 'recipe' && tab === 'recipe';\n  $('.feed-scrollable').toggleClass('delayed', toRecipe);\n};\n\nTemplate.recipe.helpers({\n  isActiveTab: function (name) {\n    return Session.equals(TAB_KEY, name);\n  },\n  activeTabClass: function () {\n    return Session.get(TAB_KEY);\n  },\n  bookmarked: function () {\n    return Meteor.user() && _.include(Meteor.user().bookmarkedRecipeNames, this.name);\n  },\n  activities: function () {\n    return Activities.find({\n      recipeName: this.name\n    }, {\n      sort: {\n        date: -1\n      }\n    });\n  }\n});\nTemplate.recipe.events({\n  'click .js-add-bookmark': function (event) {\n    event.preventDefault();\n    if (!Meteor.userId()) return Overlay.open('authOverlay');\n    Meteor.call('bookmarkRecipe', this.name);\n  },\n  'click .js-remove-bookmark': function (event) {\n    event.preventDefault();\n    Meteor.call('unbookmarkRecipe', this.name);\n  },\n  'click .js-show-recipe': function (event) {\n    event.stopPropagation();\n    Template.recipe.setTab('make');\n  },\n  'click .js-show-feed': function (event) {\n    event.stopPropagation();\n    Template.recipe.setTab('feed');\n  },\n  'click .js-uncollapse': function () {\n    Template.recipe.setTab('recipe');\n  },\n  'click .js-share': function () {\n    Overlay.open('shareOverlay', this);\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"search.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/search.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.QuickSearch.helpers({\n  create: function () {},\n  rendered: function () {},\n  destroyed: function () {}\n});\nTemplate.QuickSearch.events({\n  'click #btnQSearch': function (event, template) {\n    console.log(\"Searching Quick\"); // debugger;\n\n    var searchValue = template.$('#searchTerm')[0].value; //alert(searchValue);\n\n    Router.route('pathfor products');\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"seller.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/seller.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.SellerProducts_tmp.helpers({\n  'myProducts': function () {\n    console.log(\"This sellers products:\" + Meteor.userId());\n    Loading.call(\"getSellerProducts\", [], [], [], function (error, result) {\n      if (error) {\n        console.log(\"Error getting seller products \" + error);\n      } else {\n        // console.log(\"Got it\");\n        // console.log(result);\n        Session.set(\"SellerProducts\", result);\n      }\n    });\n    return Session.get(\"SellerProducts\");\n  }\n});\nTemplate.Seller_tmp.helpers({\n  amISeller: function () {\n    if (Meteor.userId()) {\n      console.log(\" Client Checking  for seller : \" + Meteor.userId());\n      Meteor.subscribe('getSeller', Meteor.userId());\n      var result = {\n        _id: \"\",\n        userId: Meteor.userId(),\n        businessname: \"\",\n        busTagLine: \"\",\n        busLogo: \"\",\n        busAvatar: \"\",\n        bustel: \"\",\n        buscel: \"\",\n        busemail: \"\",\n        cont1: \"\",\n        cont2: \"\",\n        add1: \"\",\n        add2: \"\",\n        add3: \"\",\n        add4: \"\",\n        add5: \"\",\n        website: \"\"\n      };\n\n      if (Sellers.find({\n        userId: Meteor.userId()\n      }).count() === 0) {\n        console.log(\"Seller not found\");\n      } else {\n        result = Sellers.findOne({\n          userId: Meteor.userId()\n        });\n      }\n\n      return result;\n    }\n  }\n});\nTemplate.seller.onRendered(function () {\n  console.log(\"Create Seller template\");\n});\nTemplate.tmp_product_sell.onRendered(function () {});\nTemplate.tmp_product_sell.events({\n  'change .prodImg': function (event, template) {\n    event.preventDefault();\n    var fr = new FileReader();\n    document.getElementById('prdImages').innerHTML = \"\";\n    var fileCount = event.currentTarget.files.length;\n\n    if (fileCount > 5) {\n      alert('Oh No Too Many files , please select 5 or less');\n      event.currentTarget = \"\";\n      return false;\n    }\n\n    var isToBig = false;\n    var uploadSize = 0;\n\n    for (i = 0; i < fileCount; i++) {\n      console.log(\"Processing files \" + event.currentTarget.files[i].name); //document.querySelector('imgProgress').outerHTML=\"<span>Processing file \"+ event.currentTarget.files[i].name +\"</span>\";\n\n      HandleClientImageFile(event.currentTarget.files[i], \"prdImages\"); //  if (event.currentTarget.files[i].size < 2000000)\n      //   {\n      //     HandleClientImageFile(event.currentTarget.files[i],\"prdImages\");\n      //     uploadSize=+event.currentTarget.files[i].size;        \n      //   }\n      //   else\n      //   {\n      //     isToBig = true;\n      //   }\n    } // if (isToBig)\n    // {\n    //   alert('Some files have been removed , as they exceed the 2MB limit.');\n    // }\n    // document.querySelector('imgProgress').outerHTML=\"<span>Processing Complete. Payload size \"+ uploadSize +\"</span>\";\n\n\n    event.currentTarget = \"\"; //event.currentTarget.setAttribute(\"multiple\",\"multiple\");\n    //event.currentTarget.setAttribute(\"class\",\"fileUpload\");              \n  }\n});\nTemplate.seller.events({\n  'change .imgBuLogo': function (event, template) {\n    event.preventDefault();\n    console.log('Add Seller BusLogo Upload');\n    Loading.start();\n    var fr = new FileReader();\n\n    fr.onload = function (event) {\n      var data = event.target.result;\n      template.$('.imgBusLogo')[0].src = data;\n    };\n\n    fr.readAsDataURL(event.currentTarget.files[0]);\n    Loading.stop();\n  },\n  'change .imgAvatar': function (event, template) {\n    event.preventDefault();\n    var fr = new FileReader();\n\n    fr.onload = function (event) {\n      var data = event.target.result;\n      template.$('.imgBusAvatar')[0].src = data;\n    };\n\n    if (event.currentTarget.files[0].size < 2000000) {\n      fr.readAsDataURL(event.currentTarget.files[0]);\n    } else {\n      template.$('.imgBusAvatar')[0].src = \"/img/app/big.jpg\";\n    }\n  },\n  'submit .add_Seller_form': function (event, template) {\n    event.preventDefault();\n    target = event.target; //'seller.add'(excel) { \n\n    Loading.start();\n    businessname = target.businessname.value;\n    busTagLine = target.businesstagLine.value;\n    busLogo = target.imgBusLogo.src; //busAvatar= target.imgBusAvatar.src;\n\n    bustel = target.bustell.value;\n    buscel = target.buscell.value;\n    busemail = target.busemail.value;\n    cont1 = target.person1.value;\n    cont2 = target.person2.value;\n    add1 = target.add1.value;\n    add2 = target.add2.value;\n    add3 = target.add3.value;\n    add4 = target.add4.value;\n    add5 = target.add5.value;\n    website = target.website.value;\n    var busLogoFile = target.fileLogo.files;\n    var randLogoId = Random.id();\n    var buslogImdId = Random.id();\n\n    if (busLogoFile.length > 0) {\n      var BuslogoImg = new FS.File(busLogoFile[0]);\n      BuslogoImg.sellerId = Meteor.userId();\n      BuslogoImg.ImageCat = \"SellerDetails\";\n      BuslogoImg.ImageType = \"BusLogo\";\n      BuslogoImg.ImageId = randLogoId;\n\n      try {\n        Images.insert(BuslogoImg, function (err, fileObj) {\n          if (err) {} // Inserted new doc with ID fileObj._id, and kicked off the data upload using HTTP\n\n        });\n      } catch (error) {}\n    }\n\n    createDate = Date.now().toLocaleString();\n\n    if (target.currentuser === null) {\n      alert('You must be logged in to be a seller');\n      return false;\n    }\n\n    var SellerObj = {\n      //_id:this._id,\n      userId: Meteor.userId(),\n      businessname: target.businessname.value,\n      busTagLine: target.businesstagLine.value,\n      busLogo: randLogoId,\n      //busAvatar: randAvaId,\n      bustel: target.bustell.value,\n      buscel: target.buscell.value,\n      busemail: target.busemail.value,\n      cont1: target.person1.value,\n      cont2: target.person2.value,\n      add1: target.add1.value,\n      add2: target.add2.value,\n      add3: target.add3.value,\n      add4: target.add4.value,\n      add5: target.add5.value,\n      website: target.website.value // Loading.start();\n\n    };\n    var result = Meteor.call('newSeller', SellerObj, err => {\n      if (err) {\n        console.log(err);\n        alert('OOps something went wrong adding new seller, please retry .');\n      } else {\n        //clean up form   \n        try {} catch (exp) {\n          console.log(exp);\n        }\n      }\n    });\n    Loading.stop();\n  }\n});\n\nfunction HandleClientImageFile(file, targetElement) {\n  var preview = document.querySelector(\"#\" + targetElement);\n  var fr = new FileReader(); //insertImg.name=\"imgprds\";\n\n  if (file.name === null) {\n    return null;\n  }\n\n  fr.onload = function (event) {\n    var data = event.target.result;\n    var insertImg = new Image();\n    insertImg.id = \"prdImages\"; //insertImg.style =\"height=100%;width=100%\"; \n\n    insertImg.className = \"prdImages img-responsive\";\n    insertImg.src = data;\n    var image = new Image();\n    var compressedImage = new Image();\n\n    image.onload = function () {\n      var canvas = document.createElement(\"canvas\");\n      canvas.width = insertImg.naturalWidth;\n      canvas.height = insertImg.naturalHeight;\n      var ctx = canvas.getContext(\"2d\").drawImage(insertImg, 0, 0); //,insertImg.naturalWidth,insertImg.naturalHeight, 0, 0,insertImg.naturalWidth,insertImg.naturalHeight);\n\n      compressedImage.width = insertImg.naturalWidth;\n      compressedImage.height = insertImg.naturalHeight;\n      var compressValue = 1 / 100;\n\n      switch (true) {\n        case file.size < 400000:\n          compressValue = 100 / 100;\n          break;\n\n        case file.size < 800000:\n          compressValue = 80 / 100;\n          break;\n\n        case file.size < 2000000:\n          compressValue = 60 / 100;\n          break;\n\n        case file.size < 4000000:\n          compressValue = 40 / 100;\n          break;\n\n        case file.size < 6000000:\n          compressValue = 20 / 100;\n          break;\n\n        default:\n          compressValue = 10 / 100;\n          break;\n      }\n\n      compressedImage = canvas.toDataURL(\"image/jpeg\", compressValue);\n      var newImg = new Image(); //newImg.height =1000;\n\n      newImg.id = \"prdImages\";\n      newImg.src = compressedImage;\n      newImg.className = \"prdImages img-responsive\";\n      preview.appendChild(newImg);\n    };\n\n    image.src = data; //var compImage = compressImage(image,40,\"jpg\");\n    //insertImg.src = data;    \n    //preview.appendChild(insertImg);    \n  };\n\n  fr.readAsDataURL(file);\n}\n\nfunction compressImage(source_img_obj, quality, output_format) {\n  var mime_type = \"image/jpeg\";\n\n  if (typeof output_format !== \"undefined\" && output_format == \"png\") {\n    mime_type = \"image/png\";\n  }\n\n  var cvs = document.createElement('canvas');\n  cvs.style.width = source_img_obj.naturalWidth;\n  cvs.style.height = source_img_obj.naturalHeight; //ctx.drawImage(img,0,0,img.width,img.height,0,0,400,300);\n\n  var ctx = cvs.getContext(\"2d\").drawImage(source_img_obj, 0, 0, source_img_obj.naturalHeight, source_img_obj.naturalWidth, 0, 0, source_img_obj.naturalHeight, source_img_obj.naturalWidth);\n  var newImageData = cvs.toDataURL(mime_type, quality / 100);\n  var result_image_obj = new Image();\n  result_image_obj.src = newImageData;\n  result_image_obj.style.height = source_img_obj.naturalWidth;\n  result_image_obj.style.width = source_img_obj.naturalHeight;\n  return result_image_obj;\n}\n\nfunction HandleClientImageData(file, targetElement) {\n  var preview = document.querySelector(\"#\" + targetElement); //insertImg.name=\"imgprds\";\n\n  if (file === null) {\n    return null;\n  }\n\n  var data = file;\n  var insertImg = new Image();\n  insertImg.id = \"prdImages\";\n  insertImg.style = \"height=100%;width=100%\";\n  insertImg.className = \"prdImages img-responsive\";\n  insertImg.src = data;\n  preview.appendChild(insertImg);\n}\n\nif (Meteor.isClient) {\n  Template.tmp_product_sell.events({\n    'submit .product-link-add'(event) {\n      var thisForm = $('.product-link-add');\n      thisForm.validate();\n      event.preventDefault();\n\n      try {\n        var productImages = event.target.prodImg.files;\n        var compressedImages = $('.prdImages');\n        var prodimgId = Random.id();\n        var saveId;\n\n        if (productImages.length > 0) {\n          for (var i = 0; i < productImages.length; i++) {\n            var fr = new FS.File(compressedImages[i].src);\n            Loading.start();\n            var productImg = new FS.File(productImages[i]);\n            fr.name = productImg.name;\n            fr.extension = productImg.extension;\n            fr.type = productImg.type;\n            fr.sellerId = Meteor.userId();\n            fr.ImageCat = \"ProductImage\";\n            fr.ImageType = \"ProductDisplay\";\n            fr.ImageId = prodimgId; //template.$('.imgBusLogo')[0].src = data;    \n\n            saveId = Images.insert(fr, function (err, fileObj) {// Inserted new doc with ID fileObj._id, and kicked off the data upload using HTTP\n            });\n            Loading.stop(); // var productImg = new FS.File(productImages[i]);\n            // // if (productImg.size() < 1000000)\n            // // {\n            //   productImg.data = compressedImages[i].src;\n            //   productImg.sellerId = Meteor.userId();\n            //   productImg.ImageCat = \"ProductImage\";\n            //   productImg.ImageType = \"ProductDisplay\";\n            //   productImg.ImageId = prodimgId ;\n            // }\n          }\n        }\n      } catch (error) {\n        console.log(\"Error inserting Product Images\");\n        Loading.halt();\n      }\n\n      var ImagesInserted = prodimgId; //debugger;\n\n      const target = event.target;\n      const title = target.prdTitle.value;\n      const description = target.prdDesc.value;\n      const img = ImagesInserted;\n      const price = target.prdprice.value;\n      const prdCat = target.prdCat.value;\n      const createDate = new Date();\n      const expireValue = target.prdExpire.value;\n      const expireDate = new Date();\n      console.log(description);\n      var timetoadd = ReferenceData.findOne({\n        name: \"addTime\",\n        id: expireValue\n      }).timetoadd;\n      var expDate = new Date(); //Date.parse(expDate.format());// moment().add(timetoadd,'days');\n\n      var myExpDate = new Date(); // Date.parse(expDate.format());\n\n      var prodObj = {\n        sellerId: Meteor.userId(),\n        producttitle: title,\n        productDescription: description,\n        price: price,\n        prdCat: prdCat,\n        prodImg: img,\n        createdAt: createDate,\n        expireAt: new Date(myExpDate) // Here we need to get the images that have been selected to be uploaded to the server\n\n      };\n\n      try {\n        Loading.call(\"products.insert\", prodObj, [], [], function (error, result) {\n          if (error) {\n            alert('Something went wrong. Please try again.');\n          } else {//clear form.\n          }\n        });\n      } catch (error) {\n        console.log(\"Error Inserting product\");\n      }\n    }\n\n  });\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"share-overlay.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/share-overlay.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar TWEETING_KEY = 'shareOverlayTweeting';\nvar IMAGE_KEY = 'shareOverlayAttachedImage';\nTemplate.shareOverlay.onCreated(function () {\n  Session.set(TWEETING_KEY, true);\n  Session.set(IMAGE_KEY, null);\n});\nTemplate.shareOverlay.helpers({\n  attachedImage: function () {\n    return Session.get(IMAGE_KEY);\n  },\n  avatar: function () {\n    return Meteor.user().services.twitter.profile_image_url_https;\n  },\n  tweeting: function () {\n    return Session.get(TWEETING_KEY);\n  }\n});\nTemplate.shareOverlay.events({\n  'click .js-attach-image': function () {\n    MeteorCamera.getPicture({\n      width: 320\n    }, function (error, data) {\n      if (error) alert(error.reason);else Session.set(IMAGE_KEY, data);\n    });\n  },\n  'click .js-unattach-image': function () {\n    Session.set(IMAGE_KEY, null);\n  },\n  'change [name=tweeting]': function (event) {\n    Session.set(TWEETING_KEY, $(event.target).is(':checked'));\n  },\n  'submit': function (event, template) {\n    var self = this;\n    event.preventDefault();\n    var text = $(event.target).find('[name=text]').val();\n    var tweet = Session.get(TWEETING_KEY);\n    Meteor.call('createActivity', {\n      recipeName: self.name,\n      text: text,\n      image: Session.get(IMAGE_KEY)\n    }, tweet, Geolocation.currentLocation(), function (error, result) {\n      if (error) {\n        alert(error.reason);\n      } else {\n        Template.appBody.addNotification({\n          action: 'View',\n          title: 'Your photo was shared.',\n          callback: function () {\n            Router.go('recipe', {\n              name: self.name\n            }, {\n              query: {\n                activityId: result\n              }\n            });\n            Template.recipe.setTab('feed');\n          }\n        });\n      }\n    });\n    Overlay.close();\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"shoppingcart.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/shoppingcart.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"showImage.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/showImage.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.showImage.helpers({\n  getSellerImage: function (imgid) {\n    //console.log(\"Getting Seller images : \" + imgid);\n    var img = Images.findOne({\n      ImageId: imgid\n    }); //console.log(img.getFileRecord().collection.storesLookup.images.path);\n\n    return img;\n  },\n  getProdCardImage: function (imgId) {\n    return Images.find({\n      ImageId: imgId\n    }, {\n      limit: 1\n    });\n  },\n  getCarouselCardImage: function (imgId) {\n    return Images.find({\n      ImageId: imgId\n    });\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"ticker.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/ticker.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.ticker.helpers({\n  create: function () {},\n  rendered: function () {// debugger;\n    // EthTools.ticker.start();\n  },\n  destroyed: function () {\n    EthTools.ticker.stop();\n  },\n  getAllTickers: function () {//EthTools.ticker.start();\n    // var results = EthTools.ticker.find().fetch();\n    // for (var i in results)\n    // {\n    //     console.log(i + \" : \" + results[i]);\n    // }\n    //return null;\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"whats-cooking.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/templates/whats-cooking.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nTemplate.feed.helpers({\n  activities: function () {\n    return Activities.find({}, {\n      sort: {\n        date: -1\n      }\n    });\n  },\n  ready: function () {\n    return Router.current().feedSubscription.ready();\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"lib\":{\"JIC.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/lib/JIC.js                                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * JIC JavaScript Library v2.0.2\n * https://github.com/brunobar79/J-I-C/\n *\n * Copyright 2016, Bruno Barbieri\n * Dual licensed under the MIT or GPL Version 2 licenses.\n *\n * Date: Tue Jul 11 13:13:03 2016 -0400\n */\n\n/**\n * Create the jic object.\n * @constructor\n */\nvar jic = {\n  /**\n   * Receives an Image Object (can be JPG OR PNG) and returns a new Image Object compressed\n   * @param {Image} source_img_obj The source Image Object\n   * @param {Integer} quality The output quality of Image Object\n   * @param {String} output format. Possible values are jpg and png\n   * @return {Image} result_image_obj The compressed Image Object\n   */\n  compress: function (source_img_obj, quality, output_format) {\n    var mime_type = \"image/jpeg\";\n\n    if (typeof output_format !== \"undefined\" && output_format == \"png\") {\n      mime_type = \"image/png\";\n    }\n\n    var cvs = document.createElement('canvas');\n    cvs.width = source_img_obj.naturalWidth;\n    cvs.height = source_img_obj.naturalHeight;\n    var ctx = cvs.getContext(\"2d\").drawImage(source_img_obj, 0, 0);\n    var newImageData = cvs.toDataURL(mime_type, quality / 100);\n    var result_image_obj = new Image();\n    result_image_obj.src = newImageData;\n    return result_image_obj;\n  },\n\n  /**\n   * Receives an Image Object and upload it to the server via ajax\n   * @param {Image} compressed_img_obj The Compressed Image Object\n   * @param {String} The server side url to send the POST request\n   * @param {String} file_input_name The name of the input that the server will receive with the file\n   * @param {String} filename The name of the file that will be sent to the server\n   * @param {function} successCallback The callback to trigger when the upload is succesful.\n   * @param {function} (OPTIONAL) errorCallback The callback to trigger when the upload failed.\n  * @param {function} (OPTIONAL) duringCallback The callback called to be notified about the image's upload progress.\n  * @param {Object} (OPTIONAL) customHeaders An object representing key-value  properties to inject to the request header.\n   */\n  upload: function (compressed_img_obj, upload_url, file_input_name, filename, successCallback, errorCallback, duringCallback, customHeaders) {\n    //ADD sendAsBinary compatibilty to older browsers\n    if (XMLHttpRequest.prototype.sendAsBinary === undefined) {\n      XMLHttpRequest.prototype.sendAsBinary = function (string) {\n        var bytes = Array.prototype.map.call(string, function (c) {\n          return c.charCodeAt(0) & 0xff;\n        });\n        this.send(new Uint8Array(bytes).buffer);\n      };\n    }\n\n    var type = \"image/jpeg\";\n\n    if (filename.substr(-4).toLowerCase() == \".png\") {\n      type = \"image/png\";\n    }\n\n    var data = compressed_img_obj.src;\n    data = data.replace('data:' + type + ';base64,', '');\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', upload_url, true);\n    var boundary = 'someboundary';\n    xhr.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary); // Set custom request headers if customHeaders parameter is provided\n\n    if (customHeaders && typeof customHeaders === \"object\") {\n      for (var headerKey in customHeaders) {\n        xhr.setRequestHeader(headerKey, customHeaders[headerKey]);\n      }\n    } // If a duringCallback function is set as a parameter, call that to notify about the upload progress\n\n\n    if (duringCallback && duringCallback instanceof Function) {\n      xhr.upload.onprogress = function (evt) {\n        if (evt.lengthComputable) {\n          duringCallback(evt.loaded / evt.total * 100);\n        }\n      };\n    }\n\n    xhr.sendAsBinary(['--' + boundary, 'Content-Disposition: form-data; name=\"' + file_input_name + '\"; filename=\"' + filename + '\"', 'Content-Type: ' + type, '', atob(data), '--' + boundary + '--'].join('\\r\\n'));\n\n    xhr.onreadystatechange = function () {\n      if (this.readyState == 4) {\n        if (this.status == 200) {\n          successCallback(this.responseText);\n        } else if (this.status >= 400) {\n          if (errorCallback && errorCallback instanceof Function) {\n            errorCallback(this.responseText);\n          }\n        }\n      }\n    };\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"common.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/lib/common.js                                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nif (Meteor.isClient) {\n  //const compress = require('compress.js');\n  RegExp.escape = function (s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n  };\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"compressjs.js\":function(require,exports){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/lib/compressjs.js                                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n!function (e) {\n  function t(r) {\n    if (n[r]) return n[r].exports;\n    var o = n[r] = {\n      i: r,\n      l: !1,\n      exports: {}\n    };\n    return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n  }\n\n  var n = {};\n  t.m = e, t.c = n, t.d = function (e, n, r) {\n    t.o(e, n) || Object.defineProperty(e, n, {\n      configurable: !1,\n      enumerable: !0,\n      get: r\n    });\n  }, t.n = function (e) {\n    var n = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return t.d(n, \"a\", n), n;\n  }, t.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, t.p = \"/dists/\", t(t.s = 0);\n}([function (e, t, n) {\n  e.exports = n(1);\n}, function (e, t, n) {\n  \"use strict\";\n\n  (function (e) {\n    function t(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n\n    function r(e) {\n      function t(e, t) {\n        var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],\n            o = r ? document.querySelector(e) : Array.from(document.querySelectorAll(e));\n        return Array.isArray(o) ? o.forEach(function (e) {\n          n(e, t, function (e) {\n            (0, i.default)(e, p, {\n              rate: a.rate,\n              dimension: a.dimen\n            });\n          });\n        }) : n(o, t, function (e) {\n          (0, i.default)(e, p, {\n            rate: a.rate,\n            dimension: a.dimen\n          });\n        }), o;\n      }\n\n      function n(e, t, n) {\n        e.addEventListener(t, function (e) {\n          e.preventDefault(), e.stopPropagation(), n(e);\n        });\n      }\n\n      function r(e) {\n        e.preventDefault(), e.stopPropagation();\n        var t = m = m || document.createElement(\"a\");\n        t.download = a.imagePrefix + a.name.replace(/\\..+/, \"\"), t.href = s[0], t.click();\n      }\n\n      var o = {\n        rate: 50,\n        imagePrefix: \"compressed-\",\n        name: \"image\"\n      },\n          a = Object.assign({}, o, e),\n          f = [],\n          s = [],\n          d = (a.inputSelector && t(a.inputSelector, \"change\"), a.dropSelector ? t(a.dropSelector, \"drop\") : null);\n      !function (e) {\n        e && (e.addEventListener(\"dragenter\", function (e) {\n          e.preventDefault(), console.log(\"drag entered\");\n        }), e.addEventListener(\"dragover\", function (e) {\n          e.preventDefault(), console.log(\"drag entered\");\n        }), e.addEventListener(\"dragleave\", function (e) {\n          e.preventDefault(), console.log(\"drag entered\");\n        }));\n      }(d);\n      a.rateSelector && function (e, t) {\n        var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],\n            o = r ? document.querySelector(e) : Array.from(document.querySelectorAll(e));\n        Array.isArray(o) ? o.forEach(function (e) {\n          n(e, t, function (e) {\n            a.rate = parseInt(e.target.value), p.emit(\"startCompression\", f, p, {\n              rate: a.rate,\n              dimension: a.dimen\n            });\n          });\n        }) : n(o, t, function (e) {\n          a.rate = parseInt(e.target.value), p.emit(\"startCompression\", f, p, {\n            rate: a.rate,\n            dimension: a.dimen\n          });\n        });\n      }(a.rateSelector, \"change\");\n      (a.downloadSelector ? document.querySelector(a.downloadSelector) : null).addEventListener(\"click\", r);\n      var m = null,\n          p = new u.default();\n      return p.on(\"startCompression\", l.default), p.on(\"saveFileUrl\", function (e) {\n        f = e;\n      }), p.on(\"ImageCreated\", function (e) {\n        var t = e.map(function (e) {\n          return (0, c.compress)(e, a.rate);\n        });\n        p.emit(\"compressed\", t);\n      }), p.on(\"compressed\", function (e) {\n        a.imageSelector && (document.querySelector(a.imageSelector).src = e[0]), s = e;\n      }), {\n        options: a,\n        on: function (e, t) {\n          p.on(e, t);\n        }\n      };\n    }\n\n    var o = n(3),\n        i = t(o),\n        a = n(4),\n        u = t(a),\n        c = n(5),\n        l = t(c);\n    e.Compress = r;\n  }).call(t, n(2));\n}, function (e, t, n) {\n  \"use strict\";\n\n  var r,\n      o = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  };\n\n  r = function () {\n    return this;\n  }();\n\n  try {\n    r = r || Function(\"return this\")() || (0, eval)(\"this\");\n  } catch (e) {\n    \"object\" === (\"undefined\" == typeof window ? \"undefined\" : o(window)) && (r = window);\n  }\n\n  e.exports = r;\n}, function (e, t, n) {\n  \"use strict\";\n\n  function r(e, t) {\n    var n = Array.from(e.target.files || e.dataTransfer.files),\n        r = e.target.files ? \"changed\" : \"dropped\";\n    return t.emit(r, n), n;\n  }\n\n  function o(e, t) {\n    for (var n = arguments.length, r = Array(n > 2 ? n - 2 : 0), o = 2; o < n; o++) r[o - 2] = arguments[o];\n\n    var i = new FileReader(),\n        a = 0,\n        u = [];\n    i.onload = function () {\n      a--, u.push(i.result), 0 === a && (t.emit(\"saveFileUrl\", u), t.emit.apply(t, [\"startCompression\", u, t].concat(r)));\n    }, e.forEach(function (e) {\n      a++, i.readAsDataURL(e);\n    });\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.default = function (e, t) {\n    for (var n = arguments.length, i = Array(n > 2 ? n - 2 : 0), a = 2; a < n; a++) i[a - 2] = arguments[a];\n\n    o.apply(void 0, [r(e, t), t].concat(i));\n  };\n}, function (e, t, n) {\n  \"use strict\";\n\n  function r(e, t) {\n    if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n\n  var o = function () {\n    function e(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    return function (t, n, r) {\n      return n && e(t.prototype, n), r && e(t, r), t;\n    };\n  }(),\n      i = function () {\n    function e() {\n      r(this, e), this._events = {};\n    }\n\n    return o(e, [{\n      key: \"on\",\n      value: function (e, t) {\n        var n = this._events;\n        n[e] = n[e] || [], n[e].push(t);\n      }\n    }, {\n      key: \"emit\",\n      value: function (e) {\n        for (var t = arguments.length, n = Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];\n\n        var o = this._events;\n        if (!(e in o)) return !1;\n        o[e].forEach(function (e) {\n          return e.apply(void 0, n);\n        });\n      }\n    }]), e;\n  }();\n\n  t.default = i;\n}, function (e, t, n) {\n  \"use strict\";\n\n  function r(e, t) {\n    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\n        r = [];\n    return e.map(function (e) {\n      var o = new Image();\n      o.src = e, o.onload = function () {\n        r.push({\n          img: o,\n          dimension: Object.assign({}, {\n            width: o.width,\n            height: o.height\n          }, n)\n        }), t.emit(\"ImageCreated\", r);\n      };\n    });\n  }\n\n  function o(e, t) {\n    var n = a.getContext(\"2d\");\n    return a.width = e.dimension.width, a.height = e.dimension.height, n.drawImage(e.img, 0, 0, e.dimension.width, e.dimension.height), a.toDataURL(\"image/jpeg\", t / 100);\n  }\n\n  function i(e, t, n) {\n    var o = n.dimension;\n    t.emit(\"compressing\"), r(e, t, o);\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.compress = o, t.default = i;\n  var a = document.createElement(\"canvas\");\n}]);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"init.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/lib/init.js                                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nif (Meteor.isClient) {//const compress = require('compress.js');\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"jquery.touchwipe.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/lib/jquery.touchwipe.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/**\n * jQuery Plugin to obtain touch gestures from iPhone, iPod Touch and iPad, should also work with Android mobile phones (not tested yet!)\n * Common usage: wipe images (left and right to show the previous or next image)\n * \n * @author Andreas Waltl, netCU Internetagentur (http://www.netcu.de)\n * @version 1.1.1 (9th December 2010) - fix bug (older IE's had problems)\n * @version 1.1 (1st September 2010) - support wipe up and wipe down\n * @version 1.0 (15th July 2010)\n */\n(function ($) {\n  $.fn.touchwipe = function (settings) {\n    var config = {\n      min_move_x: 20,\n      min_move_y: 20,\n      wipeLeft: function () {},\n      wipeRight: function () {},\n      wipeUp: function () {},\n      wipeDown: function () {},\n      preventDefaultEvents: true\n    };\n    if (settings) $.extend(config, settings);\n    this.each(function () {\n      var startX;\n      var startY;\n      var isMoving = false;\n\n      function cancelTouch() {\n        this.removeEventListener('touchmove', onTouchMove);\n        startX = null;\n        isMoving = false;\n      }\n\n      function onTouchMove(e) {\n        if (config.preventDefaultEvents) {\n          e.preventDefault();\n        }\n\n        if (isMoving) {\n          var x = e.touches[0].pageX;\n          var y = e.touches[0].pageY;\n          var dx = startX - x;\n          var dy = startY - y;\n\n          if (Math.abs(dx) >= config.min_move_x) {\n            cancelTouch();\n\n            if (dx > 0) {\n              config.wipeLeft();\n            } else {\n              config.wipeRight();\n            }\n          } else if (Math.abs(dy) >= config.min_move_y) {\n            cancelTouch();\n\n            if (dy > 0) {\n              config.wipeDown();\n            } else {\n              config.wipeUp();\n            }\n          }\n        }\n      }\n\n      function onTouchStart(e) {\n        if (e.touches.length == 1) {\n          startX = e.touches[0].pageX;\n          startY = e.touches[0].pageY;\n          isMoving = true;\n          this.addEventListener('touchmove', onTouchMove, false);\n        }\n      }\n\n      if ('ontouchstart' in document.documentElement) {\n        this.addEventListener('touchstart', onTouchStart, false);\n      }\n    });\n    return this;\n  };\n})(jQuery);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"jqueryValidate.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/lib/jqueryValidate.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!\n * jQuery Validation Plugin 1.11.1\n *\n * http://bassistance.de/jquery-plugins/jquery-plugin-validation/\n * http://docs.jquery.com/Plugins/Validation\n *\n * Copyright 2013 JÃ¶rn Zaefferer\n * Released under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n */\n(function ($) {\n  $.extend($.fn, {\n    // http://docs.jquery.com/Plugins/Validation/validate\n    validate: function (options) {\n      // if nothing is selected, return nothing; can't chain anyway\n      if (!this.length) {\n        if (options && options.debug && window.console) {\n          console.warn(\"Nothing selected, can't validate, returning nothing.\");\n        }\n\n        return;\n      } // check if a validator for this form was already created\n\n\n      var validator = $.data(this[0], \"validator\");\n\n      if (validator) {\n        return validator;\n      } // Add novalidate tag if HTML5.\n\n\n      this.attr(\"novalidate\", \"novalidate\");\n      validator = new $.validator(options, this[0]);\n      $.data(this[0], \"validator\", validator);\n\n      if (validator.settings.onsubmit) {\n        this.validateDelegate(\":submit\", \"click\", function (event) {\n          if (validator.settings.submitHandler) {\n            validator.submitButton = event.target;\n          } // allow suppressing validation by adding a cancel class to the submit button\n\n\n          if ($(event.target).hasClass(\"cancel\")) {\n            validator.cancelSubmit = true;\n          } // allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\n\n          if ($(event.target).attr(\"formnovalidate\") !== undefined) {\n            validator.cancelSubmit = true;\n          }\n        }); // validate the form on submit\n\n        this.submit(function (event) {\n          if (validator.settings.debug) {\n            // prevent form submit to be able to see console output\n            event.preventDefault();\n          }\n\n          function handle() {\n            var hidden;\n\n            if (validator.settings.submitHandler) {\n              if (validator.submitButton) {\n                // insert a hidden input as a replacement for the missing submit button\n                hidden = $(\"<input type='hidden'/>\").attr(\"name\", validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm);\n              }\n\n              validator.settings.submitHandler.call(validator, validator.currentForm, event);\n\n              if (validator.submitButton) {\n                // and clean up afterwards; thanks to no-block-scope, hidden can be referenced\n                hidden.remove();\n              }\n\n              return false;\n            }\n\n            return true;\n          } // prevent submit for invalid forms or custom submit handlers\n\n\n          if (validator.cancelSubmit) {\n            validator.cancelSubmit = false;\n            return handle();\n          }\n\n          if (validator.form()) {\n            if (validator.pendingRequest) {\n              validator.formSubmitted = true;\n              return false;\n            }\n\n            return handle();\n          } else {\n            validator.focusInvalid();\n            return false;\n          }\n        });\n      }\n\n      return validator;\n    },\n    // http://docs.jquery.com/Plugins/Validation/valid\n    valid: function () {\n      if ($(this[0]).is(\"form\")) {\n        return this.validate().form();\n      } else {\n        var valid = true;\n        var validator = $(this[0].form).validate();\n        this.each(function () {\n          valid = valid && validator.element(this);\n        });\n        return valid;\n      }\n    },\n    // attributes: space seperated list of attributes to retrieve and remove\n    removeAttrs: function (attributes) {\n      var result = {},\n          $element = this;\n      $.each(attributes.split(/\\s/), function (index, value) {\n        result[value] = $element.attr(value);\n        $element.removeAttr(value);\n      });\n      return result;\n    },\n    // http://docs.jquery.com/Plugins/Validation/rules\n    rules: function (command, argument) {\n      var element = this[0];\n\n      if (command) {\n        var settings = $.data(element.form, \"validator\").settings;\n        var staticRules = settings.rules;\n        var existingRules = $.validator.staticRules(element);\n\n        switch (command) {\n          case \"add\":\n            $.extend(existingRules, $.validator.normalizeRule(argument)); // remove messages from rules, but allow them to be set separetely\n\n            delete existingRules.messages;\n            staticRules[element.name] = existingRules;\n\n            if (argument.messages) {\n              settings.messages[element.name] = $.extend(settings.messages[element.name], argument.messages);\n            }\n\n            break;\n\n          case \"remove\":\n            if (!argument) {\n              delete staticRules[element.name];\n              return existingRules;\n            }\n\n            var filtered = {};\n            $.each(argument.split(/\\s/), function (index, method) {\n              filtered[method] = existingRules[method];\n              delete existingRules[method];\n            });\n            return filtered;\n        }\n      }\n\n      var data = $.validator.normalizeRules($.extend({}, $.validator.classRules(element), $.validator.attributeRules(element), $.validator.dataRules(element), $.validator.staticRules(element)), element); // make sure required is at front\n\n      if (data.required) {\n        var param = data.required;\n        delete data.required;\n        data = $.extend({\n          required: param\n        }, data);\n      }\n\n      return data;\n    }\n  }); // Custom selectors\n\n  $.extend($.expr[\":\"], {\n    // http://docs.jquery.com/Plugins/Validation/blank\n    blank: function (a) {\n      return !$.trim(\"\" + $(a).val());\n    },\n    // http://docs.jquery.com/Plugins/Validation/filled\n    filled: function (a) {\n      return !!$.trim(\"\" + $(a).val());\n    },\n    // http://docs.jquery.com/Plugins/Validation/unchecked\n    unchecked: function (a) {\n      return !$(a).prop(\"checked\");\n    }\n  }); // constructor for validator\n\n  $.validator = function (options, form) {\n    this.settings = $.extend(true, {}, $.validator.defaults, options);\n    this.currentForm = form;\n    this.init();\n  };\n\n  $.validator.format = function (source, params) {\n    if (arguments.length === 1) {\n      return function () {\n        var args = $.makeArray(arguments);\n        args.unshift(source);\n        return $.validator.format.apply(this, args);\n      };\n    }\n\n    if (arguments.length > 2 && params.constructor !== Array) {\n      params = $.makeArray(arguments).slice(1);\n    }\n\n    if (params.constructor !== Array) {\n      params = [params];\n    }\n\n    $.each(params, function (i, n) {\n      source = source.replace(new RegExp(\"\\\\{\" + i + \"\\\\}\", \"g\"), function () {\n        return n;\n      });\n    });\n    return source;\n  };\n\n  $.extend($.validator, {\n    defaults: {\n      messages: {},\n      groups: {},\n      rules: {},\n      errorClass: \"error\",\n      validClass: \"valid\",\n      errorElement: \"label\",\n      focusInvalid: true,\n      errorContainer: $([]),\n      errorLabelContainer: $([]),\n      onsubmit: true,\n      ignore: \":hidden\",\n      ignoreTitle: false,\n      onfocusin: function (element, event) {\n        this.lastActive = element; // hide error label and remove error class on focus if enabled\n\n        if (this.settings.focusCleanup && !this.blockFocusCleanup) {\n          if (this.settings.unhighlight) {\n            this.settings.unhighlight.call(this, element, this.settings.errorClass, this.settings.validClass);\n          }\n\n          this.addWrapper(this.errorsFor(element)).hide();\n        }\n      },\n      onfocusout: function (element, event) {\n        if (!this.checkable(element) && (element.name in this.submitted || !this.optional(element))) {\n          this.element(element);\n        }\n      },\n      onkeyup: function (element, event) {\n        if (event.which === 9 && this.elementValue(element) === \"\") {\n          return;\n        } else if (element.name in this.submitted || element === this.lastElement) {\n          this.element(element);\n        }\n      },\n      onclick: function (element, event) {\n        // click on selects, radiobuttons and checkboxes\n        if (element.name in this.submitted) {\n          this.element(element);\n        } // or option elements, check parent select in that case\n        else if (element.parentNode.name in this.submitted) {\n            this.element(element.parentNode);\n          }\n      },\n      highlight: function (element, errorClass, validClass) {\n        if (element.type === \"radio\") {\n          this.findByName(element.name).addClass(errorClass).removeClass(validClass);\n        } else {\n          $(element).addClass(errorClass).removeClass(validClass);\n        }\n      },\n      unhighlight: function (element, errorClass, validClass) {\n        if (element.type === \"radio\") {\n          this.findByName(element.name).removeClass(errorClass).addClass(validClass);\n        } else {\n          $(element).removeClass(errorClass).addClass(validClass);\n        }\n      }\n    },\n    // http://docs.jquery.com/Plugins/Validation/Validator/setDefaults\n    setDefaults: function (settings) {\n      $.extend($.validator.defaults, settings);\n    },\n    messages: {\n      required: \"This field is required.\",\n      remote: \"Please fix this field.\",\n      email: \"Please enter a valid email address.\",\n      url: \"Please enter a valid URL.\",\n      date: \"Please enter a valid date.\",\n      dateISO: \"Please enter a valid date (ISO).\",\n      number: \"Please enter a valid number.\",\n      digits: \"Please enter only digits.\",\n      creditcard: \"Please enter a valid credit card number.\",\n      equalTo: \"Please enter the same value again.\",\n      maxlength: $.validator.format(\"Please enter no more than {0} characters.\"),\n      minlength: $.validator.format(\"Please enter at least {0} characters.\"),\n      rangelength: $.validator.format(\"Please enter a value between {0} and {1} characters long.\"),\n      range: $.validator.format(\"Please enter a value between {0} and {1}.\"),\n      max: $.validator.format(\"Please enter a value less than or equal to {0}.\"),\n      min: $.validator.format(\"Please enter a value greater than or equal to {0}.\")\n    },\n    autoCreateRanges: false,\n    prototype: {\n      init: function () {\n        this.labelContainer = $(this.settings.errorLabelContainer);\n        this.errorContext = this.labelContainer.length && this.labelContainer || $(this.currentForm);\n        this.containers = $(this.settings.errorContainer).add(this.settings.errorLabelContainer);\n        this.submitted = {};\n        this.valueCache = {};\n        this.pendingRequest = 0;\n        this.pending = {};\n        this.invalid = {};\n        this.reset();\n        var groups = this.groups = {};\n        $.each(this.settings.groups, function (key, value) {\n          if (typeof value === \"string\") {\n            value = value.split(/\\s/);\n          }\n\n          $.each(value, function (index, name) {\n            groups[name] = key;\n          });\n        });\n        var rules = this.settings.rules;\n        $.each(rules, function (key, value) {\n          rules[key] = $.validator.normalizeRule(value);\n        });\n\n        function delegate(event) {\n          var validator = $.data(this[0].form, \"validator\"),\n              eventType = \"on\" + event.type.replace(/^validate/, \"\");\n\n          if (validator.settings[eventType]) {\n            validator.settings[eventType].call(validator, this[0], event);\n          }\n        }\n\n        $(this.currentForm).validateDelegate(\":text, [type='password'], [type='file'], select, textarea, \" + \"[type='number'], [type='search'] ,[type='tel'], [type='url'], \" + \"[type='email'], [type='datetime'], [type='date'], [type='month'], \" + \"[type='week'], [type='time'], [type='datetime-local'], \" + \"[type='range'], [type='color'] \", \"focusin focusout keyup\", delegate).validateDelegate(\"[type='radio'], [type='checkbox'], select, option\", \"click\", delegate);\n\n        if (this.settings.invalidHandler) {\n          $(this.currentForm).bind(\"invalid-form.validate\", this.settings.invalidHandler);\n        }\n      },\n      // http://docs.jquery.com/Plugins/Validation/Validator/form\n      form: function () {\n        this.checkForm();\n        $.extend(this.submitted, this.errorMap);\n        this.invalid = $.extend({}, this.errorMap);\n\n        if (!this.valid()) {\n          $(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n        }\n\n        this.showErrors();\n        return this.valid();\n      },\n      checkForm: function () {\n        this.prepareForm();\n\n        for (var i = 0, elements = this.currentElements = this.elements(); elements[i]; i++) {\n          this.check(elements[i]);\n        }\n\n        return this.valid();\n      },\n      // http://docs.jquery.com/Plugins/Validation/Validator/element\n      element: function (element) {\n        element = this.validationTargetFor(this.clean(element));\n        this.lastElement = element;\n        this.prepareElement(element);\n        this.currentElements = $(element);\n        var result = this.check(element) !== false;\n\n        if (result) {\n          delete this.invalid[element.name];\n        } else {\n          this.invalid[element.name] = true;\n        }\n\n        if (!this.numberOfInvalids()) {\n          // Hide error containers on last error\n          this.toHide = this.toHide.add(this.containers);\n        }\n\n        this.showErrors();\n        return result;\n      },\n      // http://docs.jquery.com/Plugins/Validation/Validator/showErrors\n      showErrors: function (errors) {\n        if (errors) {\n          // add items to error list and map\n          $.extend(this.errorMap, errors);\n          this.errorList = [];\n\n          for (var name in errors) {\n            this.errorList.push({\n              message: errors[name],\n              element: this.findByName(name)[0]\n            });\n          } // remove items from success list\n\n\n          this.successList = $.grep(this.successList, function (element) {\n            return !(element.name in errors);\n          });\n        }\n\n        if (this.settings.showErrors) {\n          this.settings.showErrors.call(this, this.errorMap, this.errorList);\n        } else {\n          this.defaultShowErrors();\n        }\n      },\n      // http://docs.jquery.com/Plugins/Validation/Validator/resetForm\n      resetForm: function () {\n        if ($.fn.resetForm) {\n          $(this.currentForm).resetForm();\n        }\n\n        this.submitted = {};\n        this.lastElement = null;\n        this.prepareForm();\n        this.hideErrors();\n        this.elements().removeClass(this.settings.errorClass).removeData(\"previousValue\");\n      },\n      numberOfInvalids: function () {\n        return this.objectLength(this.invalid);\n      },\n      objectLength: function (obj) {\n        var count = 0;\n\n        for (var i in obj) {\n          count++;\n        }\n\n        return count;\n      },\n      hideErrors: function () {\n        this.addWrapper(this.toHide).hide();\n      },\n      valid: function () {\n        return this.size() === 0;\n      },\n      size: function () {\n        return this.errorList.length;\n      },\n      focusInvalid: function () {\n        if (this.settings.focusInvalid) {\n          try {\n            $(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(\":visible\").focus() // manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n            .trigger(\"focusin\");\n          } catch (e) {// ignore IE throwing errors when focusing hidden elements\n          }\n        }\n      },\n      findLastActive: function () {\n        var lastActive = this.lastActive;\n        return lastActive && $.grep(this.errorList, function (n) {\n          return n.element.name === lastActive.name;\n        }).length === 1 && lastActive;\n      },\n      elements: function () {\n        var validator = this,\n            rulesCache = {}; // select all valid inputs inside the form (no submit or reset buttons)\n\n        return $(this.currentForm).find(\"input, select, textarea\").not(\":submit, :reset, :image, [disabled]\").not(this.settings.ignore).filter(function () {\n          if (!this.name && validator.settings.debug && window.console) {\n            console.error(\"%o has no name assigned\", this);\n          } // select only the first element for each name, and only those with rules specified\n\n\n          if (this.name in rulesCache || !validator.objectLength($(this).rules())) {\n            return false;\n          }\n\n          rulesCache[this.name] = true;\n          return true;\n        });\n      },\n      clean: function (selector) {\n        return $(selector)[0];\n      },\n      errors: function () {\n        var errorClass = this.settings.errorClass.replace(\" \", \".\");\n        return $(this.settings.errorElement + \".\" + errorClass, this.errorContext);\n      },\n      reset: function () {\n        this.successList = [];\n        this.errorList = [];\n        this.errorMap = {};\n        this.toShow = $([]);\n        this.toHide = $([]);\n        this.currentElements = $([]);\n      },\n      prepareForm: function () {\n        this.reset();\n        this.toHide = this.errors().add(this.containers);\n      },\n      prepareElement: function (element) {\n        this.reset();\n        this.toHide = this.errorsFor(element);\n      },\n      elementValue: function (element) {\n        var type = $(element).attr(\"type\"),\n            val = $(element).val();\n\n        if (type === \"radio\" || type === \"checkbox\") {\n          return $(\"input[name='\" + $(element).attr(\"name\") + \"']:checked\").val();\n        }\n\n        if (typeof val === \"string\") {\n          return val.replace(/\\r/g, \"\");\n        }\n\n        return val;\n      },\n      check: function (element) {\n        element = this.validationTargetFor(this.clean(element));\n        var rules = $(element).rules();\n        var dependencyMismatch = false;\n        var val = this.elementValue(element);\n        var result;\n\n        for (var method in rules) {\n          var rule = {\n            method: method,\n            parameters: rules[method]\n          };\n\n          try {\n            result = $.validator.methods[method].call(this, val, element, rule.parameters); // if a method indicates that the field is optional and therefore valid,\n            // don't mark it as valid when there are no other rules\n\n            if (result === \"dependency-mismatch\") {\n              dependencyMismatch = true;\n              continue;\n            }\n\n            dependencyMismatch = false;\n\n            if (result === \"pending\") {\n              this.toHide = this.toHide.not(this.errorsFor(element));\n              return;\n            }\n\n            if (!result) {\n              this.formatAndAdd(element, rule);\n              return false;\n            }\n          } catch (e) {\n            if (this.settings.debug && window.console) {\n              console.log(\"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e);\n            }\n\n            throw e;\n          }\n        }\n\n        if (dependencyMismatch) {\n          return;\n        }\n\n        if (this.objectLength(rules)) {\n          this.successList.push(element);\n        }\n\n        return true;\n      },\n      // return the custom message for the given element and validation method\n      // specified in the element's HTML5 data attribute\n      customDataMessage: function (element, method) {\n        return $(element).data(\"msg-\" + method.toLowerCase()) || element.attributes && $(element).attr(\"data-msg-\" + method.toLowerCase());\n      },\n      // return the custom message for the given element name and validation method\n      customMessage: function (name, method) {\n        var m = this.settings.messages[name];\n        return m && (m.constructor === String ? m : m[method]);\n      },\n      // return the first defined argument, allowing empty strings\n      findDefined: function () {\n        for (var i = 0; i < arguments.length; i++) {\n          if (arguments[i] !== undefined) {\n            return arguments[i];\n          }\n        }\n\n        return undefined;\n      },\n      defaultMessage: function (element, method) {\n        return this.findDefined(this.customMessage(element.name, method), this.customDataMessage(element, method), // title is never undefined, so handle empty string as undefined\n        !this.settings.ignoreTitle && element.title || undefined, $.validator.messages[method], \"<strong>Warning: No message defined for \" + element.name + \"</strong>\");\n      },\n      formatAndAdd: function (element, rule) {\n        var message = this.defaultMessage(element, rule.method),\n            theregex = /\\$?\\{(\\d+)\\}/g;\n\n        if (typeof message === \"function\") {\n          message = message.call(this, rule.parameters, element);\n        } else if (theregex.test(message)) {\n          message = $.validator.format(message.replace(theregex, \"{$1}\"), rule.parameters);\n        }\n\n        this.errorList.push({\n          message: message,\n          element: element\n        });\n        this.errorMap[element.name] = message;\n        this.submitted[element.name] = message;\n      },\n      addWrapper: function (toToggle) {\n        if (this.settings.wrapper) {\n          toToggle = toToggle.add(toToggle.parent(this.settings.wrapper));\n        }\n\n        return toToggle;\n      },\n      defaultShowErrors: function () {\n        var i, elements;\n\n        for (i = 0; this.errorList[i]; i++) {\n          var error = this.errorList[i];\n\n          if (this.settings.highlight) {\n            this.settings.highlight.call(this, error.element, this.settings.errorClass, this.settings.validClass);\n          }\n\n          this.showLabel(error.element, error.message);\n        }\n\n        if (this.errorList.length) {\n          this.toShow = this.toShow.add(this.containers);\n        }\n\n        if (this.settings.success) {\n          for (i = 0; this.successList[i]; i++) {\n            this.showLabel(this.successList[i]);\n          }\n        }\n\n        if (this.settings.unhighlight) {\n          for (i = 0, elements = this.validElements(); elements[i]; i++) {\n            this.settings.unhighlight.call(this, elements[i], this.settings.errorClass, this.settings.validClass);\n          }\n        }\n\n        this.toHide = this.toHide.not(this.toShow);\n        this.hideErrors();\n        this.addWrapper(this.toShow).show();\n      },\n      validElements: function () {\n        return this.currentElements.not(this.invalidElements());\n      },\n      invalidElements: function () {\n        return $(this.errorList).map(function () {\n          return this.element;\n        });\n      },\n      showLabel: function (element, message) {\n        var label = this.errorsFor(element);\n\n        if (label.length) {\n          // refresh error/success class\n          label.removeClass(this.settings.validClass).addClass(this.settings.errorClass); // replace message on existing label\n\n          label.html(message);\n        } else {\n          // create label\n          label = $(\"<\" + this.settings.errorElement + \">\").attr(\"for\", this.idOrName(element)).addClass(this.settings.errorClass).html(message || \"\");\n\n          if (this.settings.wrapper) {\n            // make sure the element is visible, even in IE\n            // actually showing the wrapped element is handled elsewhere\n            label = label.hide().show().wrap(\"<\" + this.settings.wrapper + \"/>\").parent();\n          }\n\n          if (!this.labelContainer.append(label).length) {\n            if (this.settings.errorPlacement) {\n              this.settings.errorPlacement(label, $(element));\n            } else {\n              label.insertAfter(element);\n            }\n          }\n        }\n\n        if (!message && this.settings.success) {\n          label.text(\"\");\n\n          if (typeof this.settings.success === \"string\") {\n            label.addClass(this.settings.success);\n          } else {\n            this.settings.success(label, element);\n          }\n        }\n\n        this.toShow = this.toShow.add(label);\n      },\n      errorsFor: function (element) {\n        var name = this.idOrName(element);\n        return this.errors().filter(function () {\n          return $(this).attr(\"for\") === name;\n        });\n      },\n      idOrName: function (element) {\n        return this.groups[element.name] || (this.checkable(element) ? element.name : element.id || element.name);\n      },\n      validationTargetFor: function (element) {\n        // if radio/checkbox, validate first element in group instead\n        if (this.checkable(element)) {\n          element = this.findByName(element.name).not(this.settings.ignore)[0];\n        }\n\n        return element;\n      },\n      checkable: function (element) {\n        return /radio|checkbox/i.test(element.type);\n      },\n      findByName: function (name) {\n        return $(this.currentForm).find(\"[name='\" + name + \"']\");\n      },\n      getLength: function (value, element) {\n        switch (element.nodeName.toLowerCase()) {\n          case \"select\":\n            return $(\"option:selected\", element).length;\n\n          case \"input\":\n            if (this.checkable(element)) {\n              return this.findByName(element.name).filter(\":checked\").length;\n            }\n\n        }\n\n        return value.length;\n      },\n      depend: function (param, element) {\n        return this.dependTypes[typeof param] ? this.dependTypes[typeof param](param, element) : true;\n      },\n      dependTypes: {\n        \"boolean\": function (param, element) {\n          return param;\n        },\n        \"string\": function (param, element) {\n          return !!$(param, element.form).length;\n        },\n        \"function\": function (param, element) {\n          return param(element);\n        }\n      },\n      optional: function (element) {\n        var val = this.elementValue(element);\n        return !$.validator.methods.required.call(this, val, element) && \"dependency-mismatch\";\n      },\n      startRequest: function (element) {\n        if (!this.pending[element.name]) {\n          this.pendingRequest++;\n          this.pending[element.name] = true;\n        }\n      },\n      stopRequest: function (element, valid) {\n        this.pendingRequest--; // sometimes synchronization fails, make sure pendingRequest is never < 0\n\n        if (this.pendingRequest < 0) {\n          this.pendingRequest = 0;\n        }\n\n        delete this.pending[element.name];\n\n        if (valid && this.pendingRequest === 0 && this.formSubmitted && this.form()) {\n          $(this.currentForm).submit();\n          this.formSubmitted = false;\n        } else if (!valid && this.pendingRequest === 0 && this.formSubmitted) {\n          $(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n          this.formSubmitted = false;\n        }\n      },\n      previousValue: function (element) {\n        return $.data(element, \"previousValue\") || $.data(element, \"previousValue\", {\n          old: null,\n          valid: true,\n          message: this.defaultMessage(element, \"remote\")\n        });\n      }\n    },\n    classRuleSettings: {\n      required: {\n        required: true\n      },\n      email: {\n        email: true\n      },\n      url: {\n        url: true\n      },\n      date: {\n        date: true\n      },\n      dateISO: {\n        dateISO: true\n      },\n      number: {\n        number: true\n      },\n      digits: {\n        digits: true\n      },\n      creditcard: {\n        creditcard: true\n      }\n    },\n    addClassRules: function (className, rules) {\n      if (className.constructor === String) {\n        this.classRuleSettings[className] = rules;\n      } else {\n        $.extend(this.classRuleSettings, className);\n      }\n    },\n    classRules: function (element) {\n      var rules = {};\n      var classes = $(element).attr(\"class\");\n\n      if (classes) {\n        $.each(classes.split(\" \"), function () {\n          if (this in $.validator.classRuleSettings) {\n            $.extend(rules, $.validator.classRuleSettings[this]);\n          }\n        });\n      }\n\n      return rules;\n    },\n    attributeRules: function (element) {\n      var rules = {};\n      var $element = $(element);\n      var type = $element[0].getAttribute(\"type\");\n\n      for (var method in $.validator.methods) {\n        var value; // support for <input required> in both html5 and older browsers\n\n        if (method === \"required\") {\n          value = $element.get(0).getAttribute(method); // Some browsers return an empty string for the required attribute\n          // and non-HTML5 browsers might have required=\"\" markup\n\n          if (value === \"\") {\n            value = true;\n          } // force non-HTML5 browsers to return bool\n\n\n          value = !!value;\n        } else {\n          value = $element.attr(method);\n        } // convert the value to a number for number inputs, and for text for backwards compability\n        // allows type=\"date\" and others to be compared as strings\n\n\n        if (/min|max/.test(method) && (type === null || /number|range|text/.test(type))) {\n          value = Number(value);\n        }\n\n        if (value) {\n          rules[method] = value;\n        } else if (type === method && type !== 'range') {\n          // exception: the jquery validate 'range' method\n          // does not test for the html5 'range' type\n          rules[method] = true;\n        }\n      } // maxlength may be returned as -1, 2147483647 (IE) and 524288 (safari) for text inputs\n\n\n      if (rules.maxlength && /-1|2147483647|524288/.test(rules.maxlength)) {\n        delete rules.maxlength;\n      }\n\n      return rules;\n    },\n    dataRules: function (element) {\n      var method,\n          value,\n          rules = {},\n          $element = $(element);\n\n      for (method in $.validator.methods) {\n        value = $element.data(\"rule-\" + method.toLowerCase());\n\n        if (value !== undefined) {\n          rules[method] = value;\n        }\n      }\n\n      return rules;\n    },\n    staticRules: function (element) {\n      var rules = {};\n      var validator = $.data(element.form, \"validator\");\n\n      if (validator.settings.rules) {\n        rules = $.validator.normalizeRule(validator.settings.rules[element.name]) || {};\n      }\n\n      return rules;\n    },\n    normalizeRules: function (rules, element) {\n      // handle dependency check\n      $.each(rules, function (prop, val) {\n        // ignore rule when param is explicitly false, eg. required:false\n        if (val === false) {\n          delete rules[prop];\n          return;\n        }\n\n        if (val.param || val.depends) {\n          var keepRule = true;\n\n          switch (typeof val.depends) {\n            case \"string\":\n              keepRule = !!$(val.depends, element.form).length;\n              break;\n\n            case \"function\":\n              keepRule = val.depends.call(element, element);\n              break;\n          }\n\n          if (keepRule) {\n            rules[prop] = val.param !== undefined ? val.param : true;\n          } else {\n            delete rules[prop];\n          }\n        }\n      }); // evaluate parameters\n\n      $.each(rules, function (rule, parameter) {\n        rules[rule] = $.isFunction(parameter) ? parameter(element) : parameter;\n      }); // clean number parameters\n\n      $.each(['minlength', 'maxlength'], function () {\n        if (rules[this]) {\n          rules[this] = Number(rules[this]);\n        }\n      });\n      $.each(['rangelength', 'range'], function () {\n        var parts;\n\n        if (rules[this]) {\n          if ($.isArray(rules[this])) {\n            rules[this] = [Number(rules[this][0]), Number(rules[this][1])];\n          } else if (typeof rules[this] === \"string\") {\n            parts = rules[this].split(/[\\s,]+/);\n            rules[this] = [Number(parts[0]), Number(parts[1])];\n          }\n        }\n      });\n\n      if ($.validator.autoCreateRanges) {\n        // auto-create ranges\n        if (rules.min && rules.max) {\n          rules.range = [rules.min, rules.max];\n          delete rules.min;\n          delete rules.max;\n        }\n\n        if (rules.minlength && rules.maxlength) {\n          rules.rangelength = [rules.minlength, rules.maxlength];\n          delete rules.minlength;\n          delete rules.maxlength;\n        }\n      }\n\n      return rules;\n    },\n    // Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n    normalizeRule: function (data) {\n      if (typeof data === \"string\") {\n        var transformed = {};\n        $.each(data.split(/\\s/), function () {\n          transformed[this] = true;\n        });\n        data = transformed;\n      }\n\n      return data;\n    },\n    // http://docs.jquery.com/Plugins/Validation/Validator/addMethod\n    addMethod: function (name, method, message) {\n      $.validator.methods[name] = method;\n      $.validator.messages[name] = message !== undefined ? message : $.validator.messages[name];\n\n      if (method.length < 3) {\n        $.validator.addClassRules(name, $.validator.normalizeRule(name));\n      }\n    },\n    methods: {\n      // http://docs.jquery.com/Plugins/Validation/Methods/required\n      required: function (value, element, param) {\n        // check if dependency is met\n        if (!this.depend(param, element)) {\n          return \"dependency-mismatch\";\n        }\n\n        if (element.nodeName.toLowerCase() === \"select\") {\n          // could be an array for select-multiple or a string, both are fine this way\n          var val = $(element).val();\n          return val && val.length > 0;\n        }\n\n        if (this.checkable(element)) {\n          return this.getLength(value, element) > 0;\n        }\n\n        return $.trim(value).length > 0;\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/email\n      email: function (value, element) {\n        // contributed by Scott Gonzalez: http://projects.scottsplayground.com/email_address_validation/\n        return this.optional(element) || /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i.test(value);\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/url\n      url: function (value, element) {\n        // contributed by Scott Gonzalez: http://projects.scottsplayground.com/iri/\n        return this.optional(element) || /^(https?|s?ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(value);\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/date\n      date: function (value, element) {\n        return this.optional(element) || !/Invalid|NaN/.test(new Date(value).toString());\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/dateISO\n      dateISO: function (value, element) {\n        return this.optional(element) || /^\\d{4}[\\/\\-]\\d{1,2}[\\/\\-]\\d{1,2}$/.test(value);\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/number\n      number: function (value, element) {\n        return this.optional(element) || /^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(value);\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/digits\n      digits: function (value, element) {\n        return this.optional(element) || /^\\d+$/.test(value);\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/creditcard\n      // based on http://en.wikipedia.org/wiki/Luhn\n      creditcard: function (value, element) {\n        if (this.optional(element)) {\n          return \"dependency-mismatch\";\n        } // accept only spaces, digits and dashes\n\n\n        if (/[^0-9 \\-]+/.test(value)) {\n          return false;\n        }\n\n        var nCheck = 0,\n            nDigit = 0,\n            bEven = false;\n        value = value.replace(/\\D/g, \"\");\n\n        for (var n = value.length - 1; n >= 0; n--) {\n          var cDigit = value.charAt(n);\n          nDigit = parseInt(cDigit, 10);\n\n          if (bEven) {\n            if ((nDigit *= 2) > 9) {\n              nDigit -= 9;\n            }\n          }\n\n          nCheck += nDigit;\n          bEven = !bEven;\n        }\n\n        return nCheck % 10 === 0;\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/minlength\n      minlength: function (value, element, param) {\n        var length = $.isArray(value) ? value.length : this.getLength($.trim(value), element);\n        return this.optional(element) || length >= param;\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/maxlength\n      maxlength: function (value, element, param) {\n        var length = $.isArray(value) ? value.length : this.getLength($.trim(value), element);\n        return this.optional(element) || length <= param;\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/rangelength\n      rangelength: function (value, element, param) {\n        var length = $.isArray(value) ? value.length : this.getLength($.trim(value), element);\n        return this.optional(element) || length >= param[0] && length <= param[1];\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/min\n      min: function (value, element, param) {\n        return this.optional(element) || value >= param;\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/max\n      max: function (value, element, param) {\n        return this.optional(element) || value <= param;\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/range\n      range: function (value, element, param) {\n        return this.optional(element) || value >= param[0] && value <= param[1];\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/equalTo\n      equalTo: function (value, element, param) {\n        // bind to the blur event of the target in order to revalidate whenever the target field is updated\n        // TODO find a way to bind the event just once, avoiding the unbind-rebind overhead\n        var target = $(param);\n\n        if (this.settings.onfocusout) {\n          target.unbind(\".validate-equalTo\").bind(\"blur.validate-equalTo\", function () {\n            $(element).valid();\n          });\n        }\n\n        return value === target.val();\n      },\n      // http://docs.jquery.com/Plugins/Validation/Methods/remote\n      remote: function (value, element, param) {\n        if (this.optional(element)) {\n          return \"dependency-mismatch\";\n        }\n\n        var previous = this.previousValue(element);\n\n        if (!this.settings.messages[element.name]) {\n          this.settings.messages[element.name] = {};\n        }\n\n        previous.originalMessage = this.settings.messages[element.name].remote;\n        this.settings.messages[element.name].remote = previous.message;\n        param = typeof param === \"string\" && {\n          url: param\n        } || param;\n\n        if (previous.old === value) {\n          return previous.valid;\n        }\n\n        previous.old = value;\n        var validator = this;\n        this.startRequest(element);\n        var data = {};\n        data[element.name] = value;\n        $.ajax($.extend(true, {\n          url: param,\n          mode: \"abort\",\n          port: \"validate\" + element.name,\n          dataType: \"json\",\n          data: data,\n          success: function (response) {\n            validator.settings.messages[element.name].remote = previous.originalMessage;\n            var valid = response === true || response === \"true\";\n\n            if (valid) {\n              var submitted = validator.formSubmitted;\n              validator.prepareElement(element);\n              validator.formSubmitted = submitted;\n              validator.successList.push(element);\n              delete validator.invalid[element.name];\n              validator.showErrors();\n            } else {\n              var errors = {};\n              var message = response || validator.defaultMessage(element, \"remote\");\n              errors[element.name] = previous.message = $.isFunction(message) ? message(value) : message;\n              validator.invalid[element.name] = true;\n              validator.showErrors(errors);\n            }\n\n            previous.valid = valid;\n            validator.stopRequest(element, valid);\n          }\n        }, param));\n        return \"pending\";\n      }\n    }\n  }); // deprecated, use $.validator.format instead\n\n  $.format = $.validator.format;\n})(jQuery); // ajax mode: abort\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\n\n(function ($) {\n  var pendingRequests = {}; // Use a prefilter if available (1.5+)\n\n  if ($.ajaxPrefilter) {\n    $.ajaxPrefilter(function (settings, _, xhr) {\n      var port = settings.port;\n\n      if (settings.mode === \"abort\") {\n        if (pendingRequests[port]) {\n          pendingRequests[port].abort();\n        }\n\n        pendingRequests[port] = xhr;\n      }\n    });\n  } else {\n    // Proxy ajax\n    var ajax = $.ajax;\n\n    $.ajax = function (settings) {\n      var mode = (\"mode\" in settings ? settings : $.ajaxSettings).mode,\n          port = (\"port\" in settings ? settings : $.ajaxSettings).port;\n\n      if (mode === \"abort\") {\n        if (pendingRequests[port]) {\n          pendingRequests[port].abort();\n        }\n\n        pendingRequests[port] = ajax.apply(this, arguments);\n        return pendingRequests[port];\n      }\n\n      return ajax.apply(this, arguments);\n    };\n  }\n})(jQuery); // provides delegate(type: String, delegate: Selector, handler: Callback) plugin for easier event delegation\n// handler is only called when $(event.target).is(delegate), in the scope of the jquery-object for event.target\n\n\n(function ($) {\n  $.extend($.fn, {\n    validateDelegate: function (delegate, type, handler) {\n      return this.bind(type, function (event) {\n        var target = $(event.target);\n\n        if (target.is(delegate)) {\n          return handler.apply(target, arguments);\n        }\n      });\n    }\n  });\n})(jQuery);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"helpers.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/helpers.js                                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\npluralize = function (n, thing, options) {\n  var plural = thing;\n\n  if (_.isUndefined(n)) {\n    return thing;\n  } else if (n !== 1) {\n    if (thing.slice(-1) === 's') plural = thing + 'es';else plural = thing + 's';\n  }\n\n  if (options && options.hash && options.hash.wordOnly) return plural;else return n + ' ' + plural;\n};\n\nHandlebars.registerHelper('pluralize', pluralize);\nvar DIMENSIONS = {\n  small: '320x350',\n  large: '640x480',\n  full: '640x800'\n};\nUI.registerHelper('urlImage', function (imageName) {\n  var str = \"\";\n\n  if (imageName instanceof Array) {\n    str = \"url('/img/prods/\" + imageName[0] + \"')\";\n  } else {\n    str = \"url('/img/prods/\" + imageName + \"')\";\n  }\n\n  return str;\n});\nHandlebars.registerHelper('getFirstElement', function (objCol) {\n  var result = NaN;\n\n  if (objCol.count > 0) {\n    result = objCol[0];\n  }\n\n  return result;\n});\nHandlebars.registerHelper('getAllImages', function (imgId) {\n  console.log(\"Getting images\");\n  console.log(Images.count());\n  return Images.find({});\n});\nUI.registerHelper('isNullOrEmpty', function (someObject) {\n  var result = true;\n\n  if (someObject == 'undefined' || someObject == '') {\n    return result;\n  }\n\n  return result;\n});\nUI.registerHelper('getCardImageById', function (ImgId) {\n  console.log(\"Getting from store\");\n  console.log(\"Single Image Id : \" + ImgId);\n  Meteor.subscribe('SingleProductImage', ImgId);\n  var returnimgs = Images.find({\n    ImageId: ImgId\n  }, {\n    limit: 1\n  });\n  return returnimgs;\n});\nUI.registerHelper('thisSelectedProduct', function () {\n  console.log(\"This Selected Product\");\n\n  try {\n    var result;\n    result = Session.get(\"currentProduct\"); //Products.find({_id:Router.current().params._id});\n\n    return result;\n  } catch (error) {\n    throw error;\n  }\n});\nUI.registerHelper('getImageById', function (ImgId) {\n  console.log(\"Getting from store\");\n  console.log(\"Image Id : \" + ImgId);\n  Meteor.subscribe('ProductImages', ImgId);\n  var returnimgs = Images.find({\n    ImageId: ImgId\n  });\n  return returnimgs;\n});\nHandlebars.registerHelper('getFirstElement', function (arr) {\n  if (!isUndefined(arr)) {\n    var result = arr[0];\n    return result;\n  }\n});\nHandlebars.registerHelper('compare', function (v1, v2) {\n  if (typeof v1 === 'object' && typeof v2 === 'object') {\n    return _.isEqual(v1, v2); // do a object comparison\n  } else {\n    return v1 === v2;\n  }\n});\nHandlebars.registerHelper('bigger', function (v1, v2) {\n  if (typeof v1 === 'object' && typeof v2 === 'object') {\n    return _.isEqual(v1, v2); // do a object comparison\n  } else {\n    return v1 > v2;\n  }\n});\nHandlebars.registerHelper('smaller', function (v1, v2) {\n  if (typeof v1 === 'object' && typeof v2 === 'object') {\n    return _.isEqual(v1, v2); // do a object comparison\n  } else {\n    return v1 < v2;\n  }\n});\nHandlebars.registerHelper('isSingle', function (someArr) {\n  if (typeof someArr == 'object') {\n    if (someArr.count == 1) {\n      return true;\n    }\n\n    return false;\n  }\n});\nUI.registerHelper('productPath', function (option) {\n  var pathing = \"/img/prods/\";\n\n  if (option == \"save\") {\n    pathing = Meteor.settings.products.fileSavePath;\n  }\n\n  return pathing;\n});\nUI.registerHelper('getReferenceData', function (refName) {\n  var refData = Session.get('refData'); //return refData.find({name:refName});\n});\nUI.registerHelper('get_Add_Length', function () {\n  console.log(\"refdata sell tmp\");\n  return ReferenceData.find({\n    name: \"addTime\"\n  });\n});\nUI.registerHelper('get_Prod_Cat', function () {\n  console.log(\"Get Product Catalogue\");\n  return ReferenceData.find({\n    name: \"prdCat\"\n  });\n});\nHandlebars.registerHelper('uiLogger', function (someObject) {\n  console.log(\"UI Logging \" + someObject);\n});\nUI.registerHelper('productImage', function (imagename) {\n  return '/img/prods/' + imagename;\n});\nUI.registerHelper('recipeImage', function (options) {\n  var size = options.hash.size || 'large';\n  if (options.hash.recipe) return '/img/recipes/' + DIMENSIONS[size] + '/' + options.hash.recipe.name + '.jpg';\n});\nHandlebars.registerHelper('activePage', function () {\n  // includes Spacebars.kw but that's OK because the route name ain't that.\n  var routeNames = arguments;\n  return _.include(routeNames, Router.current().route.name) && 'active';\n});\nUI.registerHelper('thisUser', function () {\n  var result = \"Not logged in\";\n\n  if (Meteor.userId()) {\n    result = Meteor.usedId().name;\n  }\n\n  return result;\n});\n\nif (Meteor.isServer) {}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"init.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/init.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nMeteor.startup(function () {\n  // Potentially prompts the user to enable location services. We do this early\n  // on in order to have the most accurate location by the time the user shares\n  //if (Meteor.isCordova) {\n  var geoLocation = Geolocation.currentLocation();\n\n  if (geoLocation != null) {\n    console.log(\"Location\");\n    console.log(geoLocation);\n  } //}\n\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"lib\":{\"startup\":{\"apiSetup.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/startup/apiSetup.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nconsole.log(\"Creating Db Collections\");\nReferenceData = new Mongo.Collection('ReferenceData'); //Products = new Mongo.Collection('Products');\n\nSellers = new Mongo.Collection('Sellers'); //const featuredProducts = new Mongo.Collection('featuredProducts');\n// this.autorun(function() {\n//       meteor.subscribe('featuerd')\n//   });\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"fixtures.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/startup/fixtures.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nMeteor.startup(() => {\n  if (Meteor.isServer) {\n    console.log(\"Server Fixture Startup\"); // if the Links collection is empty\n\n    /*\n    console.log(Links.find().count());\n    if (Links.find().count() === 0) {\n      const data = [\n        {\n          title: 'Do the Tutorial',\n          url: 'https://www.meteor.com/try',\n          createdAt: new Date(),\n        },\n        {\n          title: 'Follow the Guide',\n          url: 'http://guide.meteor.com',\n          createdAt: new Date(),\n        },\n        {\n          title: 'Read the Docs',\n          url: 'https://docs.meteor.com',\n          createdAt: new Date(),\n        },\n        {\n          title: 'Discussions',\n          url: 'https://forums.meteor.com',\n          createdAt: new Date(),\n        },\n      ];\n           data.forEach(link => Links.insert(link));\n    }*/\n\n    console.log(\"Reference Data Check : \" + ReferenceData.find().count());\n\n    if (ReferenceData.find().count() === 0) {\n      console.log(\"Adding Reference Data\");\n      const refDatas = [{\n        name: \"busCat\",\n        id: \"0\",\n        value: \"Electronic\"\n      }, {\n        name: \"busCat\",\n        id: \"1\",\n        value: \"Fashion\"\n      }, {\n        name: \"busCat\",\n        id: \"2\",\n        value: \"Convience\"\n      }, {\n        name: \"busCat\",\n        id: \"3\",\n        value: \"Food\"\n      }, {\n        name: \"busCat\",\n        id: \"4\",\n        value: \"Once Off\"\n      }, {\n        name: \"addTime\",\n        id: \"1\",\n        value: \"Free\",\n        timetoadd: 1\n      }, {\n        name: \"addTime\",\n        id: \"2\",\n        value: \"3 Days\",\n        timetoadd: 3\n      }, {\n        name: \"addTime\",\n        id: \"3\",\n        value: \"1 Week\",\n        timetoadd: 7\n      }, {\n        name: \"addTime\",\n        id: \"4\",\n        value: \"2 Weeks\",\n        timetoadd: 14\n      }, {\n        name: \"addTime\",\n        id: \"5\",\n        value: \"1 Month\",\n        timetoadd: 30\n      }, {\n        name: \"prdCat\",\n        id: \"0\",\n        value: \"Deals\"\n      }, {\n        name: \"prdCat\",\n        id: \"1\",\n        value: \"Home\"\n      }, {\n        name: \"prdCat\",\n        id: \"2\",\n        value: \"Food\"\n      }, {\n        name: \"prdCat\",\n        id: \"3\",\n        value: \"Security\"\n      }, {\n        name: \"prdCat\",\n        id: \"4\",\n        value: \"Education\"\n      }, {\n        name: \"prdCat\",\n        id: \"5\",\n        value: \"Cosmetic\"\n      }, {\n        name: \"prdCat\",\n        id: \"6\",\n        value: \"Kitchen\"\n      }, {\n        name: \"prdCat\",\n        id: \"7\",\n        value: \"Services\"\n      }, {\n        name: \"prdCat\",\n        id: \"8\",\n        value: \"Tools\"\n      }, {\n        name: \"prdCat\",\n        id: \"9\",\n        value: \"Fashion\"\n      }, {\n        name: \"prdCat\",\n        id: \"10\",\n        value: \"Motor Sales\"\n      }, {\n        name: \"prdCat\",\n        id: \"11\",\n        value: \"Computer\"\n      }, {\n        name: \"prdCat\",\n        id: \"12\",\n        value: \"Health\"\n      }, {\n        name: \"prdCat\",\n        id: \"13\",\n        value: \"Pop Ups\"\n      }, {\n        name: \"prdCat\",\n        id: \"13\",\n        value: \"Community Events\"\n      }, {\n        name: \"prdCat\",\n        id: \"14\",\n        value: \"Other\"\n      }];\n      refDatas.forEach(refData => ReferenceData.insert(refData));\n      console.log(\"Reference Data Post Insert Check : \" + ReferenceData.find().count());\n    }\n\n    console.log(\"Product Data Check : \" + Products.find().count());\n\n    if (Products.find().count() === 0) {\n      prodData = [{\n        sellerId: \"1\",\n        producttitle: \"some item\",\n        productDescription: \"Some Product description\",\n        price: \"100.00\",\n        prdCat: 0,\n        prodImg: [\"1\"],\n        createdAt: new Date(),\n        expireAt: Date.now() + 150000 * 60\n      }, {\n        sellerId: \"1\",\n        producttitle: \"some item\",\n        productDescription: \"Some Other description\",\n        price: \"100.00\",\n        prdCat: 0,\n        prodImg: [\"2\"],\n        createdAt: new Date(),\n        expireAt: Date.now() + 150000 * 60\n      }, {\n        sellerId: \"1\",\n        producttitle: \"some item\",\n        productDescription: \"Some New description\",\n        price: \"100.00\",\n        prdCat: 0,\n        prodImg: [\"3\"],\n        createdAt: new Date(),\n        expireAt: Date.now() + 150000 * 60\n      }];\n      prodData.forEach(prod => Products.insert(prod));\n      console.log(\"Products Data Post Insert Check : \" + Products.find().count());\n    }\n\n    console.log(\"Selleres Data Check : \" + Sellers.find().count());\n\n    if (Sellers.find().count() === 0) {\n      Sellers.insert({\n        _id: \"1\",\n        busCat: \"Electronic\",\n        businessname: \"Test Business\",\n        businessag: \"tag line\",\n        add1: \"Address 1\",\n        add2: \"Address 2\",\n        add3: \"Address 3\",\n        add4: \"Address 4\",\n        office: \"0118574563\",\n        cell: \"0118574563\",\n        email: \"0118574563\",\n        contact1: \"bob\",\n        contact2: \"rick\",\n        url: \"www.somesite.com\",\n        logoImg: \"http://cooldigital.photography/wp-content/uploads/2014/02/Details-of-a-Marigold-Blossom-620x404.jpg\",\n        createdAt: new Date()\n      });\n      console.log(\"Sellers Data Post Insert Check : \" + Sellers.find().count());\n    }\n\n    if (Images.find().count === 0) {\n      Images.insert({\n        \"original\": {\n          \"name\": \"249442-3600x2395.jpg\",\n          \"updatedAt\": ISODate(\"2014-07-18T11:51:58.000Z\"),\n          \"size\": 1874582,\n          \"type\": \"image/jpeg\"\n        },\n        \"sellerId\": \"1\",\n        \"ImageCat\": \"ProductImage\",\n        \"ImageType\": \"ProductDisplay\",\n        \"ImageId\": \"1\",\n        \"uploadedAt\": ISODate(\"2017-12-25T15:17:25.937Z\"),\n        \"copies\": {\n          \"images\": {\n            \"name\": \"249442-3600x2395.jpg\",\n            \"type\": \"image/jpeg\",\n            \"size\": 1874582,\n            \"key\": \"images-aaEvqjn48EqWDTu5c-249442-3600x2395.jpg\",\n            \"updatedAt\": ISODate(\"2017-12-25T15:17:25.968Z\"),\n            \"createdAt\": ISODate(\"2017-12-25T15:17:25.968Z\")\n          }\n        }\n      });\n      Images.insert({\n        \"original\": {\n          \"name\": \"249442-3600x2395.jpg\",\n          \"updatedAt\": ISODate(\"2014-07-18T11:51:58.000Z\"),\n          \"size\": 1874582,\n          \"type\": \"image/jpeg\"\n        },\n        \"sellerId\": \"1\",\n        \"ImageCat\": \"ProductImage\",\n        \"ImageType\": \"ProductDisplay\",\n        \"ImageId\": \"2\",\n        \"uploadedAt\": ISODate(\"2017-12-25T15:17:25.937Z\"),\n        \"copies\": {\n          \"images\": {\n            \"name\": \"249442-3600x2395.jpg\",\n            \"type\": \"image/jpeg\",\n            \"size\": 1874582,\n            \"key\": \"images-aaEvqjn48EqWDTu5c-249442-3600x2395.jpg\",\n            \"updatedAt\": ISODate(\"2017-12-25T15:17:25.968Z\"),\n            \"createdAt\": ISODate(\"2017-12-25T15:17:25.968Z\")\n          }\n        }\n      });\n      Images.insert({\n        \"original\": {\n          \"name\": \"249442-3600x2395.jpg\",\n          \"updatedAt\": ISODate(\"2014-07-18T11:51:58.000Z\"),\n          \"size\": 1874582,\n          \"type\": \"image/jpeg\"\n        },\n        \"sellerId\": \"1\",\n        \"ImageCat\": \"ProductImage\",\n        \"ImageType\": \"ProductDisplay\",\n        \"ImageId\": \"3\",\n        \"uploadedAt\": ISODate(\"2017-12-25T15:17:25.937Z\"),\n        \"copies\": {\n          \"images\": {\n            \"name\": \"249442-3600x2395.jpg\",\n            \"type\": \"image/jpeg\",\n            \"size\": 1874582,\n            \"key\": \"images-aaEvqjn48EqWDTu5c-249442-3600x2395.jpg\",\n            \"updatedAt\": ISODate(\"2017-12-25T15:17:25.968Z\"),\n            \"createdAt\": ISODate(\"2017-12-25T15:17:25.968Z\")\n          }\n        }\n      });\n    }\n\n    console.log(\"Fixtures Done\");\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"activities.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/activities.js                                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nActivities = new Mongo.Collection('activities');\nActivities.allow({\n  insert: function (userId, doc) {\n    return doc.userId === userId;\n  }\n});\n\nActivities.latest = function () {\n  return Activities.find({}, {\n    sort: {\n      date: -1\n    },\n    limit: 1\n  });\n};\n\nMeteor.methods({\n  createActivity: function (activity, tweet, loc) {\n    check(Meteor.userId(), String);\n    check(activity, {\n      recipeName: String,\n      text: String,\n      image: String\n    });\n    check(tweet, Boolean);\n    check(loc, Match.OneOf(Object, null));\n    activity.userId = Meteor.userId();\n    activity.userAvatar = Meteor.user().services.twitter.profile_image_url_https;\n    activity.userName = Meteor.user().profile.name;\n    activity.date = new Date();\n    if (!this.isSimulation && loc) activity.place = getLocationPlace(loc);\n    var id = Activities.insert(activity);\n    if (!this.isSimulation && tweet) tweetActivity(activity);\n    return id;\n  }\n});\n\nif (Meteor.isServer) {\n  var twitterOauth = function (options) {\n    var config = Meteor.settings.twitter;\n    var userConfig = Meteor.user().services.twitter;\n    return {\n      consumer_key: config.consumerKey,\n      consumer_secret: config.secret,\n      token: userConfig.accessToken,\n      token_secret: userConfig.accessTokenSecret\n    };\n  };\n\n  var tweetActivity = function (activity) {\n    // creates the tweet text, optionally truncating to fit the appended text\n    function appendTweet(text, append) {\n      var MAX = 117; // Max size of tweet with image attached\n\n      if ((text + append).length > MAX) return text.substring(0, MAX - append.length - 3) + '...' + append;else return text + append;\n    } // we need to strip the \"data:image/jpeg;base64,\" bit off the data url\n\n\n    var image = activity.image.replace(/^data.*base64,/, '');\n    var response = HTTP.post('https://upload.twitter.com/1.1/media/upload.json', {\n      params: {\n        media: image\n      },\n      npmRequestOptions: {\n        oauth: twitterOauth()\n      }\n    });\n    if (response.statusCode !== 200) throw new Meteor.Error(500, 'Unable to post image to twitter');\n    if (!response.data) throw new Meteor.Error(500, 'Did not receive attachment from twitter');\n    var attachment = response.data;\n    response = HTTP.post('https://api.twitter.com/1.1/statuses/update.json', {\n      params: {\n        status: appendTweet(activity.text, ' #localmarket'),\n        media_ids: attachment.media_id_string\n      },\n      npmRequestOptions: {\n        oauth: twitterOauth()\n      }\n    });\n    if (response.statusCode !== 200) throw new Meteor.Error(500, 'Unable to create tweet');\n  };\n\n  var getLocationPlace = function (loc) {\n    var url = 'https://api.twitter.com/1.1/geo/reverse_geocode.json' + '?granularity=neighborhood' + '&max_results=1' + '&accuracy=' + loc.coords.accuracy + '&lat=' + loc.coords.latitude + '&long=' + loc.coords.longitude;\n    var response = HTTP.get(url, {\n      npmRequestOptions: {\n        oauth: twitterOauth()\n      }\n    });\n\n    if (response.statusCode === 200 && response.data) {\n      var place = _.find(response.data.result.places, function (place) {\n        return place.place_type === 'neighborhood';\n      });\n\n      return place && place.full_name;\n    }\n  };\n} // Initialize a seed activity\n\n\nMeteor.startup(function () {\n  if (Meteor.isServer && Activities.find().count() === 0) {\n    Activities.insert({\n      recipeName: 'summer-apricots-honey-panna-cotta',\n      text: 'I substituted strawberries for apricots - incredible!',\n      image: '/img/activity/activity-placeholder-strawberry-640x640.jpg',\n      userAvatar: 'https://avatars3.githubusercontent.com/u/204768?v=2&s=400',\n      userName: 'Matt Debergalis',\n      place: 'SoMA, San Francisco',\n      date: new Date()\n    });\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"bookmarks.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/bookmarks.js                                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nBookmarkCounts = new Mongo.Collection('bookmarkCounts');\nMeteor.methods({\n  'bookmarkRecipe': function (recipeName) {\n    check(this.userId, String);\n    check(recipeName, String);\n    var affected = Meteor.users.update({\n      _id: this.userId,\n      bookmarkedRecipeNames: {\n        $ne: recipeName\n      }\n    }, {\n      $addToSet: {\n        bookmarkedRecipeNames: recipeName\n      }\n    });\n    if (affected) BookmarkCounts.update({\n      recipeName: recipeName\n    }, {\n      $inc: {\n        count: 1\n      }\n    });\n  },\n  'unbookmarkRecipe': function (recipeName) {\n    check(this.userId, String);\n    check(recipeName, String);\n    var affected = Meteor.users.update({\n      _id: this.userId,\n      bookmarkedRecipeNames: recipeName\n    }, {\n      $pull: {\n        bookmarkedRecipeNames: recipeName\n      }\n    });\n    if (affected) BookmarkCounts.update({\n      recipeName: recipeName\n    }, {\n      $inc: {\n        count: -1\n      }\n    });\n  }\n}); // Initialize bookmark counts. We could use upsert instead.\n\nif (Meteor.isServer && BookmarkCounts.find().count() === 0) {\n  Meteor.startup(function () {\n    _.each(RecipesData, function (recipe, recipeName) {\n      BookmarkCounts.insert({\n        recipeName: recipeName,\n        count: 0\n      });\n    });\n  });\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"common.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/common.js                                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n//import { Buffer } from \"buffer\";\n// Handlebars.registerHelper('saveImageFile',function(fbinaryData,filename)\n// {\n//   //import {FilesCollection} from 'meteor/ostrio:files';\n//   //var fs = require('meteor/ostrio:files');\n//   var result = false;\n//   var  base64Image = fbinaryData.split(\",\")[1];\n//   var binaryData = new  Buffer(base64Image,'base64').toString('binary') ;\n//   //var filename = \"/img/\" + sellerId+\"_\" + Random.id() +\".jpg\";\n//   //productImage = filename;\n//   var  imagePath = Meteor.settings.products.imgPath;\n//   console.log(imagePath);\n//   try\n//   {\n//   require(\"fs\").writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n//         if (err)\n//         {\n//             console.log(err); // writes out file without error, but it's not a valid image\n//         }\n//         else\n//         {\n//           result = true;\n//         }\n//       });\n//     }\n//     catch(exp)\n//     {\n//       console.log(\"Client side File Save to server...\" + imagePath + filename);\n//       result = false;\n//     }\n//     return result;\n// });\nHandlebars.registerHelper('UILogger', function (source, obj) {\n  console.log(\"UI Logger : \" + source);\n  console.log(\"Object : \" + obj);\n});\n\nfunction newRandomId(prefixStr) {\n  var rnd = prefixStr + \"_\" + require(\"meteor/random\").id();\n\n  return rnd;\n} // Handlebars.registerHelper(\"getReferenceData\",function(refname){\n//   console.log(\"reference data load to cache\");\n//   var result = Meteor.apply('getReferenceData',[refname],{ wait:true,returnStubValue: false });\n// });\n\n\nfunction jsWriteFile(fbinaryData, filename) {\n  var result = false;\n\n  try {\n    //import {FilesCollection} from 'meteor/ostrio:files';\n    //var fs = require('meteor/ostrio:files');\n    // global.Buffer = global.Buffer || Npm.require(\"buffer\").Buffer;\n    var result = true;\n\n    var fs = Npm.require('fs');\n\n    var base64Image = fbinaryData.split(\",\")[1];\n    var binaryData = new Buffer(base64Image, 'base64').toString('binary'); //var filename = \"/img/\" + sellerId+\"_\" + Random.id() +\".jpg\";\n    //productImage = filename;\n\n    console.log(\"Writing file\");\n    var pathtoFile = Meteor.rootPath;\n    var strPath = pathtoFile.substr(0, pathtoFile.length - 7);\n    var imagePath = strPath + Meteor.settings.products.fileSavePath;\n    imagePath = Meteor.settings.products.fileSavePath;\n    var writeFileName = imagePath + filename;\n    console.log(writeFileName);\n\n    try {\n      // var fileWriter = new writeFile()\n      //require(\"fs\").writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n      if (!fs.exists(writeFileName)) {\n        fs.writeFile(imagePath + filename, binaryData, \"binary\", function (err) {\n          if (err) {\n            console.log(err); // writes out file without error, but it's not a valid image\n\n            result = false;\n          } else {\n            result = true;\n          }\n        });\n      }\n    } catch (exp) {\n      console.log(\"Server side File Save to server...\" + imagePath + filename);\n      console.log(exp);\n      result = false;\n    }\n  } catch (error) {\n    result = false;\n  }\n\n  return result;\n}\n\nMeteor.methods({\n  saveImageFile: function (fbinaryData, filename) {\n    try {\n      return jsWriteFile(fbinaryData, filename);\n    } catch (error) {\n      throw error;\n    } //  //import {FilesCollection} from 'meteor/ostrio:files';\n    //  //var fs = require('meteor/ostrio:files');\n    //  // global.Buffer = global.Buffer || Npm.require(\"buffer\").Buffer;\n    //   var result = true;\n    //   var fs = Npm.require('fs');\n    //   var  base64Image = fbinaryData.split(\",\")[1];\n    //   var binaryData = new  Buffer(base64Image,'base64').toString('binary') ;\n    //   //var filename = \"/img/\" + sellerId+\"_\" + Random.id() +\".jpg\";\n    //   //productImage = filename;\n    //   var  imagePath = Meteor.settings.products.fileSavePath;\n    //   var writeFileName = imagePath + filename;\n    //   console.log(writeFileName);\n    //   try\n    //   {\n    //   // var fileWriter = new writeFile()\n    //   //require(\"fs\").writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n    //         if (!fs.exists(writeFileName))\n    //         {   \n    //         fs.writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n    //             if (err)\n    //             {\n    //                 console.log(err); // writes out file without error, but it's not a valid image\n    //                 result = false;\n    //             }\n    //             else\n    //             {\n    //               result = true;\n    //             }\n    //           });\n    //         }\n    //     }\n    //     catch(exp)\n    //     {\n    //       console.log(\"Server side File Save to server...\" + imagePath + filename);\n    //       console.log(exp);\n    //       result = false;\n    //     }\n    //     return result;\n\n  },\n  getReferenceData: function (refName) {\n    switch (refName) {\n      case \"businessCat\":\n        return ReferenceData.find({\n          name: busCat\n        });\n        break;\n\n      case \"productCat\":\n        return ReferenceData.find({\n          name: prdCat\n        });\n        break;\n\n      case \"timeCat\":\n        return ReferenceData.find({\n          name: addTime\n        });\n        break;\n\n      default:\n        return {};\n    }\n  }\n}); // function _saveImageFile()\n// {\n//   var result = false;\n//   var  base64Image = fbinaryData.split(\",\")[1];\n//   var binaryData = new  Buffer(base64Image,'base64').toString('binary') ;\n//   //var filename = \"/img/\" + sellerId+\"_\" + Random.id() +\".jpg\";\n//   //productImage = filename;\n//   var  imagePath = Meteor.settings.product.filePath;\n//   try\n//   {\n//   require(\"fs\").writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n//         if (err)\n//         {\n//             console.log(err); // writes out file without error, but it's not a valid image\n//         }\n//         else\n//         {\n//           result = true;\n//         }\n//       });\n//     }\n//     catch(exp)\n//     {\n//       console.log(\"Client side File Save to server...\" + filename);\n//       result = false;\n//     }\n//     return result;\n// }\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"media.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/media.js                                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nconsole.log(\"Server create FS Media Collection\"); //var imageStore = new FS.Store.GridFS(\"images\", {\n//mongoUrl: 'mongodb://127.0.0.1:3001/justadit/', // optional, defaults to Meteor's local MongoDB\n//mongoOptions: {...},  // optional, see note below\n//transformWrite: myTransformWriteFunction, //optional\n//transformRead: myTransformReadFunction, //optional\n//maxTries: 1, // optional, default 5\n//chunkSize: 1024*1024  // optional, default GridFS chunk size in bytes (can be overridden per file).\n// Default: 2MB. Reasonable range: 512KB - 4MB\n//  });\n\nvar imageStore = new FS.Store.FileSystem(\"images\", {\n  path: \"/var/www/justaditimages/\",\n  //optional, default is \"/cfs/files\" path within app container\n  //transformWrite: function(fileObj, readStream, writeStream) {\n  //console.log(\"Resize Image\");\n  //console.log(fileObj.name() + \" : \"  + fileObj.size());\n  // if (fileObj.size() > 500)\n  // {\n  //     if (gm.isAvailable)\n  //     {\n  //         gm(readStream, fileObj.name()).resize('500').stream().pipe(writeStream);\n  //     }\n  //     else\n  //     {\n  //         console.log(\"No GraphicsMagick Installed.\")\n  //     }\n  // }\n  //},\n  chunkSize: 2 * 1024 * 1024 - 1024,\n  // optional, default GridFS chunk size in bytes (can be overridden per file).\n  //Default: 2MB,//. Reasonable range: 512KB - 4MB\n  //transformWrite: myTransformWriteFunction, //optional\n  //transformRead: myTransformReadFunction, //optional\n  maxTries: 2 //optional, default 5\n\n}); //   var videoStore = new FS.Store.GridFS(\"videos\", {\n//     //mongoUrl: 'mongodb://127.0.0.1:3001/justaditmedia/', // optional, defaults to Meteor's local MongoDB\n//     //mongoOptions: {...},  // optional, see note below\n//     //transformWrite: myTransformWriteFunction, //optional\n//     //transformRead: myTransformReadFunction, //optional\n//     //maxTries: 1, // optional, default 5\n//     //chunkSize: 1024*1024  // optional, default GridFS chunk size in bytes (can be overridden per file).\n//                           // Default: 2MB. Reasonable range: 512KB - 4MB\n//   });\n\nImages = new FS.Collection(\"images\", {\n  stores: [imageStore]\n}); // Videos = new FS.Collection(\"videos\", {\n//   stores: [videoStore]\n// // });\n\nImages.allow({\n  insert: function () {\n    return true;\n  },\n  update: function () {\n    return true;\n  },\n  remove: function () {\n    return true;\n  },\n  download: function () {\n    return true;\n  }\n}); // Videos.allow({ \n//     insert: function() { \n//         return true; \n//     }, \n//     update: function() { \n//         return true; \n//     }, \n//     remove: function() { \n//         return true; \n//     } \n// });\n\nMeteor.methods({\n  getProductImages: function (ImgId) {\n    // var result = Products.find({_id:prodid});\n    var prodImages = Images.find({\n      ImageId: ImgId\n    });\n    var returnImages = [];\n    prodImages.forEach(element => {\n      returnImages.push(element);\n    }); //var sell = Meteor.apply('getProductSeller', [prod.sellerId], { returnStubValue: true });\n    //prod.seller = sell;\n\n    return returnImages; //return Meteor.Mongo.Products.findOne({_id:prodid});\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"news.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/news.js                                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nNews = new Mongo.Collection('news');\nNews.allow({\n  insert: function (userId) {\n    var user = Meteor.users.findOne(userId);\n    return user && user.admin;\n  }\n});\n\nNews.latest = function () {\n  //http://feeds.news24.com/articles/news24/SouthAfrica/rss\n  return News.findOne({}, {\n    sort: {\n      date: -1\n    },\n    limit: 1\n  });\n};\n\nif (Meteor.isServer && News.find().count() === 0) {\n  Meteor.startup(function () {\n    News.insert({\n      text: 'First of the season citrus has just arrived. Get succulent oranges and tangerines in our produce aisle!',\n      date: new Date()\n    });\n  });\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"product.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/product.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nProduct = new Mongo.Collection('Product');\nProduct.allow({\n  insert: function (userId, doc) {\n    return doc.userId === userId;\n  }\n});\nMeteor.methods({\n  'latestProduct': function (id) {\n    return Product.find({}, {\n      order: {\n        createdAt: -1\n      }\n    }); //return result[0];\n  },\n  'QSearchProduct': function (id) {\n    console.log(\"Searching\");\n    Meteor.subscribe('QSearch', id);\n    var results = Products.find({});\n    console.log(results);\n    return results;\n  },\n  'products.insert': function (productObj) {\n    //var fs = Npm.require('fs');\n    var newProd = false;\n\n    if (productObj._id == \"\") {\n      newProd = true;\n    }\n\n    var ProdImgs = [];\n\n    try {\n      // console.log(productObj.prodImg);\n      // for (pImg in productObj.prodImg)\n      // {\n      //   if (newProd)\n      //   {\n      //     var randId = Random.id();// require('random');     \n      //     var FileName = productObj.userId + \"_\" + randId  + \".jpg\";            \n      //     ProdImgs.push(FileName);                \n      //     var busLogCall = Meteor.apply('saveImageFile',[pImg,FileName],{wait:true});                   \n      //   }\n      //   else\n      //   {\n      //     if (!fs.exists(pImg))\n      //     {\n      //       var randId = Random.id();// require('random');     \n      //       var FileName = productObj.userId + \"_\" + randId  + \".jpg\";            \n      //       ProdImgs.push(FileName);                \n      //       var busLogCall = Meteor.apply('saveImageFile',[pImg,FileName],{wait:true}); \n      //     }\n      //   }\n      // }\n      //   productObj.prodImg = ProdImgs;\n      var productResult = Products.upsert({\n        // Selector\n        _id: productObj._id\n      }, {\n        // Modifier\n        $set: {\n          sellerId: productObj.sellerId,\n          producttitle: productObj.producttitle,\n          productDescription: productObj.productDescription,\n          price: productObj.price,\n          prdCat: productObj.prdCat,\n          prodImg: productObj.prodImg,\n          createdAt: productObj.createdAt,\n          expireAt: productObj.expireAt\n        }\n      });\n    } catch (exp) {\n      throw exp;\n    }\n  }\n});\n/*\n\n\nMeteor.methods(\n    \n    {\n  'products.insert'(sellerId,producttitle, productDescription , price,prodCat,createdAt,expireAt, url,prodImg) {\n\n    var ProdInsert = Products.insert({\n      sellerId, \n      producttitle,\n      productDescription , \n      price,\n      prodCat,\n      createdAt,\n      expireAt,\n      url,\n      prodImg\n      \n  });\n  return ProdInsert;\n\n  \n}\n\n\n\n\n  Product.getProduct = function(prodId)\n  {\n    var returnProduct ;\n    console.log(\"Single product Meteor Call method\");\n    try\n    {\n        Meteor.call('getProduct',[ prodId],(error,result)=>{\n            if (error)\n            {\n                console.log(error);\n            }\n            else\n            {\n                console.log(\"Meteor Call to get product : \" + result);\n          \n                returnProduct = result;\n            }\n        });\n      \n      console.log(\"Post Meteor Call after assign \" + returnProduct);\n    }\n    catch(exp)\n    {\n      throw exp;\n    }\n    return returnProduct;\n  }\n\n   */\n\nProduct.MyProducts = function (sellerId) {\n  return Product.find({\n    SellerID: sellerId\n  });\n};\n\nProduct.more = function (continuationValue) {\n  //https://www.npmjs.com/package/mongo-cursor-pagination\n  //Product.find({},{order:{createdAt:-1}});\n  return Product.find({}, {\n    order: {\n      createdAt: -1\n    }\n  });\n};\n/*\nMeteor.methods({\n  createActivity: function(activity, tweet, loc) {\n    Meteor.userId(), String,\n    activity, {\n      recipeName: String,\n      text: String,\n      image: String\n    },\n    tweet, Boolean,\n    loc, Match.OneOf(Object, null),\n    \n    activity.userId = Meteor.userId(,\n    activity.userAvatar = Meteor.user().services.twitter.profile_image_url_https;\n    activity.userName = Meteor.user().profile.name;\n    activity.date = new Date;\n    \n    if (! this.isSimulation && loc)\n      activity.place = getLocationPlace(loc,\n    \n    var id = Activities.insert(activity,\n    \n    if (! this.isSimulation && tweet)\n      tweetActivity(activity,\n    \n    return id;\n  }\n},\n\nif (Meteor.isServer) {\n  var twitterOauth = function(options) {\n    var config = Meteor.settings.twitter\n    var userConfig = Meteor.user().services.twitter;\n\n    return {\n      consumer_key: config.consumerKey,\n      consumer_secret: config.secret,\n      token: userConfig.accessToken,\n      token_secret: userConfig.accessTokenSecret\n    };\n  }\n  \n  var tweetActivity = function(activity) {\n    // creates the tweet text, optionally truncating to fit the appended text\n    function appendTweet(text, append) {\n      var MAX = 117; // Max size of tweet with image attached\n      \n      if ((text + append).length > MAX)\n        return text.substring(0, (MAX - append.length - 3)) + '...' + append;\n      else\n        return text + append;\n    }\n    \n    // we need to strip the \"data:image/jpeg;base64,\" bit off the data url\n    var image = activity.image.replace(/^data.*base64,/, '',\n\n    var response = HTTP.post(\n      'https://upload.twitter.com/1.1/media/upload.json', {\n        params: { media: image },\n        npmRequestOptions: { oauth: twitterOauth() }\n      }\n    ,\n    \n    if (response.statusCode !== 200)\n      throw new Meteor.Error(500, 'Unable to post image to twitter',\n\n    if (! response.data)\n      throw new Meteor.Error(500, 'Did not receive attachment from twitter',\n\n    var attachment = response.data;\n\n    response = HTTP.post(\n      'https://api.twitter.com/1.1/statuses/update.json', {\n        params: {\n          status: appendTweet(activity.text, ' #localmarket'),\n          media_ids: attachment.media_id_string\n        },\n        npmRequestOptions: { oauth: twitterOauth() }\n      }\n    ,\n\n    if (response.statusCode !== 200)\n      throw new Meteor.Error(500, 'Unable to create tweet',\n  }\n  \n  var getLocationPlace = function(loc) {\n    var url = 'https://api.twitter.com/1.1/geo/reverse_geocode.json'\n      + '?granularity=neighborhood'\n      + '&max_results=1'\n      + '&accuracy=' + loc.coords.accuracy\n      + '&lat=' + loc.coords.latitude\n      + '&long=' + loc.coords.longitude;\n    \n    var response = HTTP.get(url,\n                            {npmRequestOptions: { oauth: twitterOauth() } },\n\n    if (response.statusCode === 200 && response.data) {\n      var place = _.find(response.data.result.places, function(place) {\n        return place.place_type === 'neighborhood';\n      },\n      \n      return place && place.full_name;\n    }\n  }\n}\n \n*/\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"products.js\":function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/products.js                                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nProducts = new Mongo.Collection('Products');\nProducts.allow({\n  insert: function (userId, doc) {\n    return doc.userId === userId;\n  },\n  update: function (userId, doc) {\n    return false;\n  }\n});\nMeteor.methods({\n  'featuredProducts': function () {\n    console.log(\"Getting Latest featured products data \" + Meteor.settings.featuredProductsLimit);\n    var prodresult = [];\n\n    try {\n      var prod = Products.find({}, {\n        order: {\n          createdAt: -1\n        }\n      }, {\n        limit: Meteor.settings.featuredProductsLimit\n      });\n      prod.forEach(element => {\n        prodresult.push(element);\n      });\n    } catch (exp) {\n      console.log(\"Error getting featured Products : \" + exp);\n      throw exp;\n    }\n\n    return {\n      Results: prodresult\n    };\n  },\n  'getProduct': function (prodid) {\n    // var result = Products.find({_id:prodid});\n    try {\n      //Meteor.subscribe('product',prodid);\n      //Meteor.subscribe('getSellers');\n      var prod = Products.findOne({\n        _id: prodid\n      });\n\n      if (prod) {\n        var sell = Sellers.findOne({\n          userId: prod.sellerId\n        });\n        var prodImages = Meteor.apply('getProductImages', [prod.prodImg], {\n          returnStubValue: true\n        });\n        prod.seller = sell;\n        prod.prodImgs = prodImages;\n      } //loading.stop();\n\n\n      return prod;\n    } catch (exp) {\n      //loading.halt();\n      console.log(exp);\n    } //return Meteor.Mongo.Products.findOne({_id:prodid});\n\n  },\n  'getProductSeller': function (sellerId) {\n    Meteor.subscribe('getSeller', sellerId);\n    return Sellers.findOne({\n      userId: Meteor.userId()\n    });\n  },\n  'QSearchProducts': function (searchItem) {\n    //debugger;\n    var searchTerms = \"'/^.*\" + searchItem[0] + \".*$/i'\";\n    console.log(searchTerms); //$text: {$search: searchValue} },\n\n    var prods = Products.find({\n      $or: [{\n        \"producttitle\": {\n          $regex: searchTerms\n        }\n      }, {\n        \"productDescrption\": {\n          $regex: searchTerms\n        }\n      }]\n    });\n    var result = [];\n    prods.forEach(element => {\n      result.push(element);\n    }); //var result = Products.find({$text: {$search: searchTerms}}).fetch();\n    //({$text:{$search:\"tutorialspoint\"}})\n\n    console.log(result);\n    return result;\n  },\n  'getSellerProducts': function () {\n    console.log(\"Getting Seller Server Side Products\");\n    var prodresult = []; //Product.find({},{order:{createdAt:-1}});\n\n    var prod = Products.find({\n      sellerId: Meteor.userId()\n    }, {\n      order: {\n        createdAt: -1\n      }\n    });\n    prod.forEach(element => {\n      //console.log(element);\n      prodresult.push(element);\n    });\n    return prodresult;\n  }\n});\n\nProducts.allProducts = function () {\n  console.log(\"Getting latest products\" + Products.count());\n  Meteor.subscribe('allProducts');\n  return Products.find({}, {\n    order: {\n      createdAt: -1\n    }\n  }); // return Products.find({});\n};\n\nProducts.getProduct = function (prodId) {\n  var result;\n  console.log(\"Single product api method\");\n\n  try {\n    result = Products.findOne({\n      _id: prodId\n    }, {\n      limit: 1\n    }); //console.log(result.producttitle);\n  } catch (exp) {\n    throw exp;\n  }\n\n  return result;\n};\n\nProducts.bookedMarked = function () {// here get all my userid Booked marked products and then get each prod and push to array and return the array.\n};\n\nProducts.latestProducts = function () {\n  var result;\n  console.log(\"Api method\");\n\n  try {\n    //Product.find({},{order:{createdAt:-1}});\n    result = Products.find({}, {\n      order: {\n        createdAt: -1\n      }\n    });\n  } catch (exp) {\n    throw exp;\n  }\n\n  return result; //Products.find({}, {sort: {createdAt: -1}, limit: 1});\n};\n\nProducts.MyProducts = function (SellerId) {\n  //Product.find({},{order:{createdAt:-1}});\n  return Products.find({\n    sellerId: SellerId\n  }, {\n    order: {\n      createdAt: -1\n    }\n  });\n  ;\n}; // Products.featuredProducts = function () {\n//   var result = [];\n//   console.log(\"Api method featuredProducts \");\n//   //Meteor.settings.featuredProductsLimit \n//   try {\n//     //result = Products.find({},{sort: {createdAt:1}, limit: 4});\n//     //console.log(result);\n//   }\n//   catch (exp) {\n//     throw exp;\n//   }\n//   return result;//Products.find({}, {sort: {createdAt: -1}, limit: 1});\n//   // var ctr = Meteor.settings.featuredProductsLimit;\n//   // console.log(\"Api Method featured : \" +  ctr);\n//   // var result = Products.find({},{sort:{createdAt:1},limit: 2});//Meteor.settings.featuredProductsLimit}); \n//   // return result;// Products.find({},{sort:{createdAt:1},limit: 2});//Meteor.settings.featuredProductsLimit});\n// }\n\n\nProducts.more = function (continuationValue) {\n  //https://www.npmjs.com/package/mongo-cursor-pagination\n  return Products.find().sort({\n    createdAt: -1\n  }).limit(12).skip(continuationValue);\n};\n\nMeteor.methods({\n  createProduct: function (product, loc) {\n    check(product, {\n      sellerId: String,\n      producttitle: String,\n      productDescription: String,\n      price: Number,\n      prodCat: String,\n      url: String\n    }, loc, Match.OneOf(Object, null));\n    product.sellerId = Meteor.userId;\n    product.createDate = new Date();\n    product.expireDate = require(\"moment\");\n    var ProdInsert = Products.insert({\n      sellerId,\n      producttitle,\n      productDescription,\n      price,\n      prodCat,\n      createdAt,\n      expireAt,\n      url,\n      prodImg\n    });\n    return ProdInsert;\n  }\n});\n/*\nMeteor.methods({\n  createActivity: function(activity, tweet, loc) {\n    Meteor.userId(), String,\n    activity, {\n      recipeName: String,\n      text: String,\n      image: String\n    },\n    tweet, Boolean,\n    loc, Match.OneOf(Object, null),\n    \n    activity.userId = Meteor.userId(,\n    activity.userAvatar = Meteor.user().services.twitter.profile_image_url_https;\n    activity.userName = Meteor.user().profile.name;\n    activity.date = new Date;\n    \n    if (! this.isSimulation && loc)\n      activity.place = getLocationPlace(loc,\n    \n    var id = Activities.insert(activity,\n    \n    if (! this.isSimulation && tweet)\n      tweetActivity(activity,\n    \n    return id;\n  }\n},\n\nif (Meteor.isServer) {\n  var twitterOauth = function(options) {\n    var config = Meteor.settings.twitter\n    var userConfig = Meteor.user().services.twitter;\n\n    return {\n      consumer_key: config.consumerKey,\n      consumer_secret: config.secret,\n      token: userConfig.accessToken,\n      token_secret: userConfig.accessTokenSecret\n    };\n  }\n  \n  var tweetActivity = function(activity) {\n    // creates the tweet text, optionally truncating to fit the appended text\n    function appendTweet(text, append) {\n      var MAX = 117; // Max size of tweet with image attached\n      \n      if ((text + append).length > MAX)\n        return text.substring(0, (MAX - append.length - 3)) + '...' + append;\n      else\n        return text + append;\n    }\n    \n    // we need to strip the \"data:image/jpeg;base64,\" bit off the data url\n    var image = activity.image.replace(/^data.*base64,/, '',\n\n    var response = HTTP.post(\n      'https://upload.twitter.com/1.1/media/upload.json', {\n        params: { media: image },\n        npmRequestOptions: { oauth: twitterOauth() }\n      }\n    ,\n    \n    if (response.statusCode !== 200)\n      throw new Meteor.Error(500, 'Unable to post image to twitter',\n\n    if (! response.data)\n      throw new Meteor.Error(500, 'Did not receive attachment from twitter',\n\n    var attachment = response.data;\n\n    response = HTTP.post(\n      'https://api.twitter.com/1.1/statuses/update.json', {\n        params: {\n          status: appendTweet(activity.text, ' #localmarket'),\n          media_ids: attachment.media_id_string\n        },\n        npmRequestOptions: { oauth: twitterOauth() }\n      }\n    ,\n\n    if (response.statusCode !== 200)\n      throw new Meteor.Error(500, 'Unable to create tweet',\n  }\n  \n  var getLocationPlace = function(loc) {\n    var url = 'https://api.twitter.com/1.1/geo/reverse_geocode.json'\n      + '?granularity=neighborhood'\n      + '&max_results=1'\n      + '&accuracy=' + loc.coords.accuracy\n      + '&lat=' + loc.coords.latitude\n      + '&long=' + loc.coords.longitude;\n    \n    var response = HTTP.get(url,\n                            {npmRequestOptions: { oauth: twitterOauth() } },\n\n    if (response.statusCode === 200 && response.data) {\n      var place = _.find(response.data.result.places, function(place) {\n        return place.place_type === 'neighborhood';\n      },\n      \n      return place && place.full_name;\n    }\n  }\n}\n \n*/\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"recipes-data.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/recipes-data.js                                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nRecipesData = {\n  \"spring-fromage-fort\": {\n    \"title\": \"Fromage Fort\",\n    \"highlighted\": true,\n    \"excerpt\": \"When I’ve got too many cheese bits on hand, it's now fromage fort to the rescue\",\n    \"source\": {\n      \"name\": \"David Lebovitz\",\n      \"url\": \"http://www.davidlebovitz.com/2014/04/fromage-forte-cheese-dip-spread-recipe/\"\n    },\n    \"cookTime\": \"15 min\",\n    \"ingredients\": [\"8 ounces (225g) cheese pieces, hard rinds removed\", \"1 to 2 ounces (30 to 60g) cream cheese\", \"1/4 cup (60ml) dry white wine\", \"1 garlic clove, peeled and minced\", \"a few turns of freshly ground black pepper\", \"pinch of cayenne or red pepper powder\", \"1 tablespoon minced chives or flat-leaf parsley\", \"chives or parsley, for garnish\"],\n    \"directions\": [\"Cut the cheese into bite-sized cubes and put them in the bowl of a food processor with 1 ounce (30g) of the cream cheese, wine, garlic, and the black and red peppers.\", \"Process the mixture until completely smooth. If it is not completely smooth (which may happen if you are starting with an assortment of harder cheeses), add the additional cream cheese, and continue to process.\"],\n    \"name\": \"spring-fromage-fort\"\n  },\n  \"spring-ragu-bolognese\": {\n    \"title\": \"Classic Ragu Bolognese\",\n    \"excerpt\": \"A certain magic happens as the beef and aromatic vegetables slowly cook down with wine, tomato paste, and broth\",\n    \"source\": {\n      \"name\": \"Bon Appétit\",\n      \"url\": \"http://www.bonappetit.com/recipe/classic-rag-bolognese\"\n    },\n    \"cookTime\": \"1 hr 10 min\",\n    \"ingredients\": [\"2 Tbsp. extra-virgin olive oil\", \"2 medium onions, finely chopped (about 1 1/2 cups)\", \"2 celery stalks, finely chopped (about 1 cup)\", \"2 carrots, peeled, finely chopped (about 3/4 cup)\", \"6 oz. ground beef (85% lean)\", \"6 oz. ground veal\", \"3 oz. thinly sliced pancetta, finely chopped\", \"1/2 cup dry red wine\", \"3 cups (about) beef stock or chicken stock, divided\", \"3 Tbsp. tomato paste\", \"Kosher salt and freshly ground black pepper\", \"1 cup whole milk\", \"1 lb. tagliatelle or fettuccine (preferably fresh egg)\", \"Finely grated Parmesan (for serving)\"],\n    \"directions\": [\"Heat oil in a large heavy pot over medium-high heat.\", \"Add onions, celery, and carrots.\"],\n    \"name\": \"spring-ragu-bolognese\"\n  },\n  \"spring-animal-cracker-cookies\": {\n    \"title\": \"Animal-Cracker Cookies\",\n    \"excerpt\": \"Create and decorate magical cookies that are as much fun as a day at the circus!\",\n    \"source\": {\n      \"name\": \"Williams-Sonoma\",\n      \"url\": \"http://www.williams-sonoma.com/recipe/animal-cracker-cookies.html\"\n    },\n    \"cookTime\": \"1 hr\",\n    \"ingredients\": [\"2 1/2 cups all-purpose flour\", \"1 tsp. baking powder\", \"1/2 tsp. salt\", \"1/8 tsp. freshly grated nutmeg\", \"1/8 tsp. mace\", \"12 Tbs. (1 1/2 sticks) unsalted butter, at room temperature\", \"1 cup sugar\", \"1 egg\", \"1 tsp. vanilla extract\"],\n    \"directions\": [\"Over a small bowl, sift together the flour, baking powder, salt, nutmeg and mace. Set aside.\", \"In the bowl of an electric mixer fitted with the flat beater, beat the butter on high speed for 2 minutes. Reduce the speed to medium, slowly add the sugar and beat for 2 minutes, stopping the mixer occasionally to scrape down the sides of the bowl. Add the egg and vanilla and beat for 1 minute, stopping the mixer once to scrape down the sides of the bowl.\"],\n    \"name\": \"spring-animal-cracker-cookies\"\n  },\n  \"spring-chicken-in-mole\": {\n    \"title\": \"Chicken in Molé\",\n    \"excerpt\": \"If there is one dish that could be considered Mexican haute cuisine, then Mole Poblano is surely it\",\n    \"source\": {\n      \"name\": \"Epicurious\",\n      \"url\": \"http://www.epicurious.com/recipes/food/views/Chicken-in-Mole-Puebla-Style-238185\"\n    },\n    \"cookTime\": \"2 hr\",\n    \"ingredients\": [\"4 pounds chicken pieces, skin on\", \"Sea salt and ground black pepper to taste\", \"2 tablespoons sesame seeds, toasted, for garnish\", \"white rice\", \"9 mulato chiles\", \"7 pasilla chiles\", \"6 ancho chiles\", \"1 cup plus 9 tablespoons vegetable oil or lard plus additional as needed\", \"4 or 5 tomatillos, husked and cooked until soft\", \"5 whole cloves\", \"20 whole black peppercorns\", \"1-inch piece of a Mexican cinnamon stick\", \"1 tablespoon seeds from the chiles, toasted\", \"1/2 teaspoon anise seeds, toasted\", \"1/4 teaspoon coriander seeds, toasted\", \"8 tablespoons sesame seeds, toasted\", \"4 garlic cloves, roasted\", \"3 tablespoons raisins\", \"20 whole almonds, blanched\", \"1/4 cup pumpkin seeds\", \"2 corn tortillas, torn into pieces\", \"3 stale French rolls, cut into 1-inch slices\", \"6 to 7 cups reserved chicken broth as needed\", \"1 1/2 ounces Mexican chocolate, chopped\"],\n    \"directions\": [\"In a large stock pot, parboil the chicken in water seasoned with salt and pepper to taste. Drain, reserving cooking broth, and refrigerate until ready to assemble the dish.\", \"Prepare the Mole Poblano. Clean the chiles by removing stems, veins, and seeds; reserve 1 tablespoon of the seeds.\"],\n    \"name\": \"spring-chicken-in-mole\"\n  },\n  \"spring-spanish-asparagus-revuelto\": {\n    \"title\": \"Spanish Asparagus Revuelto\",\n    \"excerpt\": \"In Spain, wild asparagus is very popular, and it’s a sure sign of spring\",\n    \"source\": {\n      \"name\": \"NY Times\",\n      \"url\": \"http://www.nytimes.com/recipes/1016240/spanish-asparagus-revuelto.html\"\n    },\n    \"cookTime\": \"30 min\",\n    \"ingredients\": [\"Olive oil\", \"2 peeled garlic cloves, plus 1/2 teaspoon minced garlic\", \"2 cups bread cubes, made with day-old bread, cut in 1/2-inch cubes\", \"Salt and pepper\", \"2 ounces diced Spanish chorizo\", \"1 bunch thin asparagus, about 1 1/2 pounds, cut in 1- to 2-inch lengths\", \"1 bunch green onions, chopped\", \"8 large eggs, beaten\", \"1/2 teaspoon pimentón\", \"2 tablespoons roughly chopped Italian parsley\"],\n    \"directions\": [\"Put 3 tablespoons olive oil in a cast-iron skillet over medium-high heat. Add peeled garlic cloves and let them sizzle until lightly browned, then remove.\", \"Add bread cubes, season with salt and pepper, lower heat to medium and gently fry until lightly browned and crisp, about 2 minutes. Remove bread and set aside to cool.\"],\n    \"name\": \"spring-spanish-asparagus-revuelto\"\n  },\n  \"spring-meatloaf\": {\n    \"title\": \"Fatted Calf's Meatloaf\",\n    \"highlighted\": true,\n    \"excerpt\": \"It is a thing of beauty, shaped into a large oval loaf and glazed with tangy cocktail sauce\",\n    \"source\": {\n      \"name\": \"Food52\",\n      \"url\": \"http://food52.com/recipes/24302-fatted-calf-s-meatloaf\"\n    },\n    \"cookTime\": \"1 hr 30 min\",\n    \"ingredients\": [\"3/4 teaspoons black peppercorns\", \"2 allspice berries\", \"2 teaspoons fennel seed\", \"1 teaspoon chile flakes\", \"1 whole clove\", \"1 1/4 pound boneless lean beef from eye of round or sirloin, cut into 1-inch cubes\", \"1 pound boneless pork picnic, cut into 1-inch cubes\", \"4 ounces pork back fat, cut into 1-inch cubes\", \"Sea salt\", \"2 teaspoons chopped garlic\", \"4 ounces chopped bacon\", \"2 cups diced yellow onion\", \"2 tablespoons unsalted butter\", \"6 tablespoons fresh breadcrumbs\", \"1 egg lightly beaten\", \"1/2 cup ketchup\", \"1 1/2 teaspoon Tabasco sauce\", \"1 1/4 teaspoon Worcestershire sauce\", \"1 teaspoon grated fresh horseradish\", \"1/4 cup chopped parsley\", \"2 tablespoons chopped oregano\", \"1 tablespoon chopped thyme\", \"1 tablespoon chopped sage\", \"1/4 cup ketchup\", \"1/4 teaspoon sea salt\", \"1/4 teaspoon freshly ground black pepper\", \"1 1/2 teaspoon grated fresh horseradish\", \"1/2 teaspoon Worcestershire sauce\", \"1/2 teaspoon Tabasco sauce\"],\n    \"directions\": [\"Preheat the oven to 325° F (165° C). To make the forcemeat, spread the peppercorns and allspice on a baking sheet and toast for 3 to 5 minutes, until fragrant. Let cool completely.\", \"Toast the fennel seeds the same way, then let cool completely.\"],\n    \"name\": \"spring-meatloaf\"\n  },\n  \"spring-lahmacun-turkish-pizza\": {\n    \"title\": \"Lahmacun - Turkish Pizza\",\n    \"excerpt\": \"\",\n    \"source\": {\n      \"name\": \"Ottolenghi\",\n      \"url\": \"http://www.ottolenghi.co.uk/lahmacun-turkish-pizza-with-spicy-minced-beef-and-salad-topping-shop\"\n    },\n    \"cookTime\": \"40 min\",\n    \"ingredients\": [\"250g minced beef\", \"1 medium onion, finely chopped (180g net)\", \"3 3/4 tsp salt\", \"1 1/2 tsp ground cinnamon\", \"1 1/2 tsp ground allspice\", \"1/2 tsp red chilli flakes\", \"25g flat-leaf parsley, chopped\", \"2 tbsp pomegranate molasses\", \"1 1/2 tbsp sumac\", \"3 tbsp tahini\", \"25g pine nuts\", \"2 tbsp lemon juice\", \"250g white flour, plus extra to dust\", \"1 1/2 tbsp milk powder\", \"1/2 tbsp salt\", \"2 tsp fast-action dried yeast\", \"1/2 tbsp caster sugar\", \"60ml sunflower oil\", \"1 medium egg\", \"100ml lukewarm water\", \"Olive oil for brushing\"],\n    \"directions\": [\"Start with the dough. Put the flour, milk powder, salt, yeast and sugar in a large mixing bowl and stir well to combine.\", \"Make a well in the centre. Add the sunflower oil and egg and stir as you add the water.\"],\n    \"name\": \"spring-lahmacun-turkish-pizza\"\n  },\n  \"spring-easiest-spaghetti-and-meatballs\": {\n    \"title\": \"Easiest Spaghetti & Meatballs\",\n    \"excerpt\": \"No pasta's more iconic than spaghetti and meatballs\",\n    \"source\": {\n      \"name\": \"Martha Stewart\",\n      \"url\": \"http://www.marthastewart.com/336523/easiest-spaghetti-and-meatballs?czone=food%2Fdinner-tonight-center%2Fdinner-tonight-main-courses&gallery=274538&slide=336523&center=276948\"\n    },\n    \"cookTime\": \"30 min\",\n    \"ingredients\": [\"Coarse salt and ground pepper\", \"1/4 cup finely grated Parmesan, plus more for serving\", \"1/4 cup chopped fresh parsley\", \"2 garlic cloves, minced\", \"1 large egg\", \"1 pound ground beef chuck\", \"1/4 cup plain dried breadcrumbs\", \"1 tablespoon olive oil\", \"1 can (28 ounces) crushed tomatoes in puree\", \"3/4 pound spaghetti\"],\n    \"directions\": [\"Set a large pot of salted water to boil. In a bowl, combine Parmesan, parsley, garlic, egg, 1 teaspoon salt, and 1 teaspoon pepper. Add beef and breadcrumbs; mix gently. Form into 16 balls.\", \"In a 5-quart Dutch oven or heavy pot, heat oil over medium. Add meatballs, and cook, turning occasionally, until browned, 8 to 10 minutes.\"],\n    \"name\": \"spring-easiest-spaghetti-and-meatballs\"\n  },\n  \"summer-shaking-beef\": {\n    \"title\": \"Slanted Door's Shaking Beef\",\n    \"excerpt\": \"Cubes of tender filet mignon are sautéed with red onions and a vinaigrette\",\n    \"source\": {\n      \"name\": \"7x7 magazine\",\n      \"url\": \"http://www.7x7.com/recipes/secret-recipe-slanted-doors-shaking-beef\"\n    },\n    \"cookTime\": \"25 min\",\n    \"ingredients\": [\"1 1/2 - 2 pounds filet mignon, fat trimmed and cut into 1 1/4-inch cubes\", \"1 teaspoons ground black pepper\", \"1/2 cup plus 1 tablespoon canola oil\", \"1 cup thinly sliced red onion, preferably spring onions\", \"3 stalks green onion, trimmed and cut to 1-inch lengths\", \"1 tablespoon chopped garlic\", \"2 tablespoons unsalted butter\", \"2 tablespoons white vinegar\", \"1/4 cup white granulated sugar\", \"1/4 cup light soy sauce\", \"1/4 cup fish sauce\", \"1 teaspoon cooking rice wine\"],\n    \"directions\": [\"Marinate meat 1/2 teaspoon black pepper and 1 tablespoon oil for about 2 hours.\", \"Meanwhile, make the stir-fry sauce by combining the white vinegar, sugar, soy, fish sauce, and rice wine. Mix until sugar is dissolved. Set aside.\"],\n    \"name\": \"summer-shaking-beef\"\n  },\n  \"summer-bavarian-pretzel\": {\n    \"title\": \"Bavarian-style Soft Pretzel\",\n    \"excerpt\": \"\",\n    \"source\": {\n      \"name\": \"NY Times\",\n      \"url\": \"http://www.nytimes.com/2010/05/26/dining/26pretzelrex1.html\"\n    },\n    \"cookTime\": \"1 hr 30 min\",\n    \"ingredients\": [\"1 tablespoon barley malt syrup or dark brown sugar\", \"2 tablespoons lard or softened unsalted butter\", \"2 tablespoons instant yeast\", \"6 cups (about 30 ounces) bread flour\", \"1 tablespoon plus 1/2 teaspoon kosher salt\", \"Food-grade lye, for dipping\", \"Coarse sea salt or pretzel salt, for sprinkling (do not substitute kosher salt)\"],\n    \"directions\": [\"In a mixing bowl (or bowl of a mixer), stir together syrup, lard or butter, yeast, 2 cups warm water and half the flour. Add kosher salt and remaining flour and stir just until mixture comes together in a shaggy mass.\", \"Turn out onto counter (or attach dough hook to mixer) and knead for 8 to 10 minutes, until smooth and supple. Cut into 12 pieces and let rest 5 minutes.\"],\n    \"name\": \"summer-bavarian-pretzel\"\n  },\n  \"summer-apricots-honey-panna-cotta\": {\n    \"title\": \"Apricots Honey Panna Cotta\",\n    \"highlighted\": true,\n    \"excerpt\": \"Juicy, fragrant, perfectly textured for a little fire action\",\n    \"source\": {\n      \"name\": \"Tartelette\",\n      \"url\": \"http://www.tarteletteblog.com/2011/07/recipe-gluten-free-apricots-honey-panna.html\"\n    },\n    \"cookTime\": \"35 min\",\n    \"ingredients\": [\"6 apricots\", \"olive oil\", \"1/4 cup water\", \"1 tablespoon powdered gelatin (2 sheets gelatin)\", \"2 cups heavy cream\", \"1/4 cup honey\", \"1 cup full fat buttermilk\"],\n    \"directions\": [\"Cut the apricots in half and remove the pit. Brush lightly with olive oil and grill over hot coals until tender (about 3-4 minutes on each side).\", \"Let cool and puree until smooth in a food processor. Divide the mixture between 6 glasses.\"],\n    \"name\": \"summer-apricots-honey-panna-cotta\"\n  },\n  \"summer-elderberry-syrup\": {\n    \"title\": \"Elderberry Syrup\",\n    \"excerpt\": \"The gorgeous syrup is great in a glass of sparkling water over ice, dripped some over plain yogurt\",\n    \"source\": {\n      \"name\": \"David Lebovitz\",\n      \"url\": \"http://www.davidlebovitz.com/2007/08/respect-your-el/\"\n    },\n    \"cookTime\": \"35 min\",\n    \"ingredients\": [\"2 pounds (1kg) elderberries, stems removed and rinsed\", \"4 cups (1l) water\", \"2 1/2 (500g) cups sugar\", \"squirt of freshly-squeezed lemon juice\"],\n    \"directions\": [\"Put the elderberries in a large, non-reactive pot with the water. Bring to a boil, then reduce heat to a low boil and cook for 15-20 minutes, until tender and soft.\", \"Pass through a food mill, then discard the skins.\"],\n    \"name\": \"summer-elderberry-syrup\"\n  },\n  \"summer-spaghetti-lemon-olive\": {\n    \"title\": \"Spaghetti with Lemon & Olive Oil\",\n    \"excerpt\": \"This is one of those recipes that are almost better off without one\",\n    \"source\": {\n      \"name\": \"Smitten Kitchen\",\n      \"url\": \"http://smittenkitchen.com/blog/2011/02/spaghetti-with-lemon-and-olive-oil-al-limone/\"\n    },\n    \"cookTime\": \"20 min\",\n    \"ingredients\": [\"1 pound spaghetti or linguine\", \"Salt\", \"3 lemons\", \"1/4 cup extra virgin olive oil , plus additional for serving\", \"1/4 cup heavy cream\", \"1 ounce finely grated Parmesan cheese (about 1/2 cup), plus additional for serving\", \"Ground black pepper\", \"Small handful fresh basil or arugula leaves, shredded\"],\n    \"directions\": [\"Cook linguine or spaghetti in well-salted water to your al dente tastes in a large, wide-bottomed pot.\", \"While pasta is cooking, zest lemons until you have a little shy of a tablespoon of zest. Juice lemons — you’ll have anywhere from 1/3 to 1/2 cup lemon juice.\"],\n    \"name\": \"summer-spaghetti-lemon-olive\"\n  },\n  \"summer-homemade-pasta-dough\": {\n    \"title\": \"Homemade Pasta Dough\",\n    \"excerpt\": \"\",\n    \"source\": {\n      \"name\": \"Mario Batali\",\n      \"url\": \"http://www.mariobatali.com/recipes/basic-pasta-dough/\"\n    },\n    \"cookTime\": \"25 min\",\n    \"ingredients\": [\"2 Cups All-Purpose Flour\", \"2 Cups 00 Flour or 4 cups All-Purpose Flour\", \"4 large Eggs\"],\n    \"directions\": [\"Mound the flour in the center of a large wooden board. Make a well in the center of the flour and add the eggs. Using a fork, beat the eggs together and then begin to incorporate the flour; starting with the inner rim of the well. As you expand the well, keep pushing the flour up to retain the well shape (do not worry if it looks messy).\", \"When half of the flour is incorporated, the dough will begin to come together. Start kneading the dough, using primarily the palms of your hands. Once the dough is a cohesive mass, set the dough aside and scrape up and discard any dried bits of dough.\"],\n    \"name\": \"summer-homemade-pasta-dough\"\n  },\n  \"summer-hamburger\": {\n    \"title\": \"Diner Style Hamburgers\",\n    \"excerpt\": \"This is the traditional, griddled hamburger of diners and takeaway spots, smashed thin and cooked crisp on its edges\",\n    \"source\": {\n      \"name\": \"NY Times\",\n      \"url\": \"http://www.nytimes.com/recipes/1016595/hamburgers-diner-style.html\"\n    },\n    \"cookTime\": \"20 min\",\n    \"ingredients\": [\"1/2 teaspoon neutral oil, like canola, or a pat of unsalted butter\", \"2 pounds ground chuck, at least 20 percent fat\", \"Kosher salt and black pepper to taste\", \"8 slices cheese (optional)\", \"8 soft hamburger buns, lightly toasted\", \"Lettuce leaves, sliced tomatoes and condiments\"],\n    \"directions\": [\"Add oil or butter to a large cast-iron or stainless-steel skillet and place over medium heat. Gently divide ground beef into 8 small piles of around 4 ounces each, and even more gently gather them together into orbs that are about 2 inches in height. Do not form patties.\", \"Increase heat under skillet to high. Put half the orbs into the skillet with plenty of distance between them and, using a stiff metal spatula, press down on each one to form a burger that is around 4 inches in diameter and about 1/2 inch thick. Season with salt and pepper.\"],\n    \"name\": \"summer-hamburger\"\n  },\n  \"fall-roasted-butternut-squash-lasagna\": {\n    \"title\": \"Roasted Butternut Squash Lasagna\",\n    \"highlighted\": true,\n    \"excerpt\": \"Making homemade pasta may seem arduous, but this dish is worth the extra work\",\n    \"source\": {\n      \"name\": \"Martha Stewart\",\n      \"url\": \"http://www.marthastewart.com/857657/roasted-butternut-squash-lasagna\"\n    },\n    \"cookTime\": \"1 hr 35 min\",\n    \"ingredients\": [\"2 large butternut squashes (about 2 pounds each), halved lengthwise and seeded\", \"3 tablespoons extra-virgin olive oil\", \"Coarse salt and freshly ground pepper\", \"1 stick unsalted butter, cut into pieces\", \"2 1/4 cups finely grated Parmesan cheese (about 8 ounces)\", \"1/2 cup finely crushed amaretti cookies\", \"1/4 cup finely chopped fresh sage\", \"1/4 teaspoon freshly grated nutmeg\", \"6 tablespoons unsalted butter, cut into pieces\", \"1/4 cup plus 2 tablespoons all-purpose flour\", \"6 cups whole milk\", \"Coarse salt\", \"1/4 teaspoon freshly grated nutmeg\", \"Homemade Pasta\"],\n    \"directions\": [\"Make the filling: Preheat oven to 400 degrees. Drizzle squash halves with oil, and season with salt and pepper. Roast squashes, cut sides down, on a rimmed baking sheet until tender and browned, about 1 hour. Let cool. Scoop flesh from skins, and puree in a food processor until smooth.\", \"Melt butter in a small saucepan over medium heat. Continue to cook until browned and fragrant, about 3 minutes. Transfer to a bowl.\"],\n    \"name\": \"fall-roasted-butternut-squash-lasagna\"\n  },\n  \"summer-grits-icecream\": {\n    \"title\": \"Grits Praline & Brown Butter Ice Cream\",\n    \"excerpt\": \"\\\"Decadent\\\" isn’t a word we throw around lightly\",\n    \"source\": {\n      \"name\": \"Anson Mills\",\n      \"url\": \"http://www.ansonmills.com/recipes/480?recipes_by=grain\"\n    },\n    \"cookTime\": \"2 hr 20 min\",\n    \"ingredients\": [\"2 ounces (4 tablespoons) European-style unsalted butter\", \"1 cup heavy cream\", \"1 cup whole milk\", \"6 large egg yolks\", \"1/3 cup sugar\", \"1 1/2 teaspoons vanilla extract\", \"1/8 teaspoon fine sea salt\", \"2 ounces Anson Mills Antebellum Coarse Yellow Grits or Antebellum Coarse White Grits\", \"2 1/2 cups spring or filtered water\", \"1 teaspoon fine sea salt\", \"3.5 ounces sugar\"],\n    \"directions\": [\"Make the ice cream base: Set a large bowl in a sink or basin filled with lots (at least 3 quarts) of ice cubes and cold water. Have a fine-mesh strainer nearby. Melt the butter in a small heavy-bottomed saucepan over low heat, stirring with a wooden spoon to scrape the browning milk solids back into the butter, until the butter is the color of a hazelnut in the shell and the kitchen smells miraculous, 3 to 5 minutes. Pull the pan off the heat and set it aside.\", \"Pour the cream and milk into a medium heavy-bottomed saucepan set over medium-high heat. Whisk the egg yolks and sugar in a medium bowl. Drizzle the hot butter cautiously into the yolk-sugar mixture a little at a time, whisking well as you do.\"],\n    \"name\": \"summer-grits-icecream\"\n  },\n  \"fall-peanut-butter-cookie\": {\n    \"title\": \"Peanut Butter Cookie with Salted Peanut Caramel\",\n    \"excerpt\": \"This recipe takes Peanut Butter Cookies to the next level\",\n    \"source\": {\n      \"name\": \"David Lebovitz\",\n      \"url\": \"http://www.davidlebovitz.com/2008/12/peanut-butter-cookies-with-salte-1/\"\n    },\n    \"cookTime\": \"45 min\",\n    \"ingredients\": [\"8 tablespoons (115g) unsalted butter, at room temperature\", \"1/2 cup (120g) packed light brown sugar\", \"1/2 cup (100g) granulated sugar\", \"1 large egg, at room temperature\", \"1 teaspoon vanilla extract\", \"3/4 cup (200g) creamy salted peanut butter\", \"1 3/4 cups (250g) flour\", \"1/2 teaspoon baking soda\", \"1/4 teaspoon salt\", \"1 cup (250ml) heavy cream\", \"1/2 cup (125ml) water\", \"1 cup (200g) granulated sugar\", \"1 tablespoon light corn syrup or glucose\", \"1/8 teaspoon coarse salt\", \"3/4 cup (100g) finely chopped roasted salted peanuts\"],\n    \"directions\": [\"Preheat the oven to 350F and line two baking sheets with parchment paper or silicone baking mats.\", \"With an electric mixer, or by hand, make the cookie dough by beating the butter, brown and granulated sugar until smooth. Beat in the egg and vanilla until well blended. If using an electric mixer, scrape down the sides of the bowl.\"],\n    \"name\": \"fall-peanut-butter-cookie\"\n  },\n  \"fall-amatriciana\": {\n    \"title\": \"Bucatini all' Amatriciana\",\n    \"excerpt\": \"This dish is named for the town of Amatrice...considered by many Italians to be birthplace of the best cooks on the peninsula\",\n    \"source\": {\n      \"name\": \"Mario Batali\",\n      \"url\": \"http://www.mariobatali.com/recipes/bucatini-allamatriciana/\"\n    },\n    \"cookTime\": \"30 min\",\n    \"ingredients\": [\"1/4 cup extra-virgin olive oil\", \"12 ounces thinly sliced guanciale pancetta, or good bacon\", \"1 red onion, cut lengthwise in half and then into 1/4-inch-thick half-moons\", \"3 cloves garlic, sliced\", \"1 1/2 teaspoons hot red pepper flakes\", \"2 cups Basic Tomato Sauce\", \"1 pound Bucatini\", \"Freshly grated Pecorino Romano\"],\n    \"directions\": [\"Bring 6 quarts of water to a boil in a large pot, and add 2 tablespoons salt.\", \"Meanwhile, in a 10- to 12-inch saute pan, combine the olive oil, ganciale, onion, garlic, and re pepper flakes; set over low heat and cook until the onion is softened and the guanciale has rendered much of its fat, about 12 minutes.\"],\n    \"name\": \"fall-amatriciana\"\n  },\n  \"fall-orecchiette-sausage-ragu\": {\n    \"title\": \"Orecchiette with red lamb sausage & carrots\",\n    \"excerpt\": \"Chef di Cucina Matt Abdoo expounded on the virtues of the fundamental building block of Italian cooking: fresh pasta\",\n    \"source\": {\n      \"name\": \"Mario Batali\",\n      \"url\": \"http://www.mariobatali.com/recipes/orecchiette-with-red-lamb-sausage-carrots/\"\n    },\n    \"cookTime\": \"45 min\",\n    \"ingredients\": [\"1 pound ground lamb\", \"1 1/2 teaspoons salt\", \"1 tablespoon red wine\", \"1 teaspoon cayenne pepper\", \"2 teaspoons garlic purée\", \"2 tablespoons roasted red pepper purée\", \"1 teaspoon freshly ground black pepper\", \"2 tablespoons sweet paprika\", \"1 teaspoon smoked paprika\", \"1 pint carrot juice\", \"2 cups diced carrots\", \"2 cups chopped carrots\", \"1 teaspoon sugar\", \"Orange zest, to taste\", \"Salt and pepper, to taste\", \"1/4 cup chicken stock\", \"2 tablespoons of unsalted butter\", \"1 pound orecchiette pasta\", \"1/4 cup pecorino cheese\", \"Extra virgin olive oil\", \"Breadcrumbs, for garnish\"],\n    \"directions\": [\"To make the spice mixture for the sausage: In a bowl, combine spices, lamb, salt, and water. Incorporate thoroughly using your hands. Set aside.\", \"To make the carrot puree: Cook carrots in carrot juice until tender. Strain, and reserve the diced carrots. Puree the remaining chopped carrots. Season with orange zest, salt and pepper to taste.  Fold the diced carrots into the seasoned carrot puree. Set aside.\"],\n    \"name\": \"fall-orecchiette-sausage-ragu\"\n  },\n  \"winter-braised-duck\": {\n    \"title\": \"Italian Red-Wine Braised Duck w/ Olive Gremolata\",\n    \"highlighted\": true,\n    \"excerpt\": \"A good braise always trumps a steak or a roast, both in terms of complex flavors and satisfaction\",\n    \"source\": {\n      \"name\": \"NY Times\",\n      \"url\": \"http://www.nytimes.com/recipes/1014424/italian-red-wine-braised-duck-with-olive-gremolata.html\"\n    },\n    \"cookTime\": \"2 hr 30 min\",\n    \"ingredients\": [\"4 Muscovy duck legs (about 4 pounds), untrimmed\", \"Salt and pepper\", \"1/2 teaspoon coriander seed, toasted and coarsely ground\", \"1/2 teaspoon fennel seed, toasted and coarsely ground\", \"2 tablespoons olive oil\", \"2 cups finely diced onion\", \"3/4 cup finely diced carrot\", \"3/4 cup finely diced celery\", \"1 large thyme sprig\", \"1 bay leaf\", \"1 4-inch strip of orange peel, pith removed\", \"4 garlic cloves, minced\", \"2 tablespoons tomato paste\", \"1 cup chopped canned or fresh tomatoes\", \"1 cup dry red wine\", \"3 cups chicken broth\", \"Pinch cayenne or red pepper, optional\", \"Olive gremolata for garnish\"],\n    \"directions\": [\"Trim duck legs of extraneous fat with a sharp knife, leaving a thin layer on top. (It is best to do this straight from the fridge, while fat is still firm.) Save duck fat for rendering.\", \"Season each leg generously with salt and pepper, then sprinkle with ground coriander and fennel. Massage seasoning into meat and leave at room temperature for 30 minutes, or wrap and refrigerate overnight.\"],\n    \"name\": \"winter-braised-duck\"\n  },\n  \"fall-chocolate-chai-cupcake\": {\n    \"title\": \"Chocolate Chai Spice Cupcake\",\n    \"excerpt\": \"The moist chocolatey goodness of the cake can live on its own\",\n    \"source\": {\n      \"name\": \"Cupcake Bakeshop\",\n      \"url\": \"http://cupcakeblog.com/?p=50\"\n    },\n    \"cookTime\": \"55 min\",\n    \"ingredients\": [\"200 gram bar of Valrhona 61% cacao\", \"3 sticks butter\", \"2-1/4 cups sugar\", \"8 eggs\", \"1-1/4 cup flour\", \"1/4 cup cocoa powder, unsweetened\", \"1-1/2 teaspoons baking powder\", \"3 teaspoons chai spice mix\", \"pinch of salt\", \"1 cup (2 sticks) butter\", \"4-5 cups powdered sugar, sifted\", \"1/4 cup milk\", \"2 teaspoons chai spice mix\", \"2 teaspoons minced fresh ginger\"],\n    \"directions\": [\"With a small food processor, grind up the whole fennel and cloves.\", \"Transfer to a small bowl and add remaining spices. Mix to combine.\"],\n    \"name\": \"fall-chocolate-chai-cupcake\"\n  },\n  \"fall-mexican-rice\": {\n    \"title\": \"Mexican Rice\",\n    \"excerpt\": \"\",\n    \"source\": {\n      \"name\": \"NY Times\",\n      \"url\": \"http://www.nytimes.com/recipes/1016674/mexican-rice.html\"\n    },\n    \"cookTime\": \"40 min\",\n    \"ingredients\": [\"1 large clove garlic, roughly chopped\", \"2 cups canned tomatoes (fresh tomatoes can be used)\", \"1/2 cup green bell pepper, roughly chopped\", \"1 medium onion, roughly chopped\", \"1/2 medium jalapeño, seeds and veins removed\", \"1 teaspoon salt\", \"1/2 cup chicken stock or water\", \"2 tablespoons vegetable oil\", \"1 heaping cup long-grain white rice, rinsed\"],\n    \"directions\": [\"Blend vegetables, salt and stock or water together into a mostly smooth purée (a few small pieces of onion and pepper are fine).\", \"In a large skillet with a tightfitting lid, heat oil. Add rice and toast until it absorbs most of the oil and begins to smell nutty.\"],\n    \"name\": \"fall-mexican-rice\"\n  },\n  \"fall-whole-wheat-goldfish-crackers\": {\n    \"title\": \"Whole Wheat Goldfish Crackers\",\n    \"excerpt\": \"\",\n    \"source\": {\n      \"name\": \"Smitten Kitchen\",\n      \"url\": \"http://smittenkitchen.com/blog/2011/03/whole-wheat-goldfish-crackers/\"\n    },\n    \"cookTime\": \"1 hr 5 min\",\n    \"ingredients\": [\"6 ounces (1 1/2 cups coarsely grated) sharp cheddar\", \"4 tablespoons (2 ounces or 57 grams) butter\", \"1/2 cup (2 1/2 ounces or 62 grams) whole wheat flour\", \"1/4 cup (1 1/8 ounces or 31 grams) all-purpose flour\", \"1/8 teaspoon onion powder\", \"1/8 to 1/4 teaspoon table salt\"],\n    \"directions\": [\"Preheat oven to 350°F. Combine all ingredients in a food processor, running the machine until the dough forms a ball, about two minutes.\", \"If the dough feels warm or worrisome-ly soft, wrap it in waxed paper or plastic wrap and chill it in the fridge for 30 to 45 minutes. This also makes it easier to transfer shapes once they are rolled out.\"],\n    \"name\": \"fall-whole-wheat-goldfish-crackers\"\n  },\n  \"winter-world-peace-cookie\": {\n    \"title\": \"P.Hermé & D.Greenspan's World Peace Cookies\",\n    \"excerpt\": \"Shortbread cookie meets salted chocolate chip, and world peace feels within reach\",\n    \"source\": {\n      \"name\": \"Food52\",\n      \"url\": \"http://food52.com/recipes/25372-pierre-herme-dorie-greenspan-s-world-peace-cookies\"\n    },\n    \"cookTime\": \"35 min\",\n    \"ingredients\": [\"1 1/4 cups all-purpose flour\", \"1/3 cup unsweetened cocoa powder\", \"1/2 teaspoon baking soda\", \"1 stick plus 3 tablespoons (11 tablespoons) unsalted butter, room temperature\", \"2/3 cups (packed) light brown sugar\", \"1/4 cup granulated sugar\", \"1/2 teaspoon fleur del sel or 1/4 teaspoon fine sea salt\", \"1 teaspoon pure vanilla extract\", \"5 ounces bittersweet chocolate, chopped into chips, or a generous 3/4 cup store-bought mini chocolate chips\"],\n    \"directions\": [\"Sift the flour, cocoa and baking soda together.\", \"Working with a stand mixer, preferably fitted with a paddle attachment, or with a hand mixer in a large bowl, beat the butter on medium speed until soft and creamy. Add both sugars, the salt and vanilla extract and beat for 2 minutes more.\"],\n    \"name\": \"winter-world-peace-cookie\"\n  },\n  \"winter-chocolate-tart\": {\n    \"title\": \"Chocolate Tart\",\n    \"highlighted\": true,\n    \"excerpt\": \"A good chocolate tart doesn’t need to be fancy, but it needs to be deep, dark, and yes, somewhat decadent.\",\n    \"source\": {\n      \"name\": \"David Lebovitz\",\n      \"url\": \"http://www.davidlebovitz.com/2011/10/chocolate-tart-recipe/\"\n    },\n    \"cookTime\": \"1 hr\",\n    \"ingredients\": [\"1 1/4 cup (250 g) sugar\", \"6 tablespoons (90 ml) warm coffee\", \"4 ounces (115 g) unsalted butter, cubed, room temperature\", \"pinch of sea salt\", \"4 ounces (115 g) bittersweet or semisweet chocolate, chopped\", \"2 ounces (55 g) unsweetened chocolate, chopped\", \"2 large eggs\", \"1/4 cup (35 g) flour\", \"1 tablespoon dark rum or 1 teaspoon vanilla extract\", \"One 9–10 inch prebaked tart shell\"],\n    \"directions\": [\"Preheat oven to 350ºF (180ºC.)\", \"Spread the sugar in an even layer in the bottom of a large, heavy-duty saucepan or Dutch oven. Cook the sugar over moderate heat until the edges liquefy and being to caramelize. Use a heatproof utensil to gently drag the liquefied sugar toward the center of the pan, encouraging the sugar to melt evenly.\"],\n    \"name\": \"winter-chocolate-tart\"\n  },\n  \"winter-braised-eggs-with-beef\": {\n    \"title\": \"Braised eggs w/ beef, smoked aubergine & tomato\",\n    \"excerpt\": \"\",\n    \"source\": {\n      \"name\": \"Ottolenghi\",\n      \"url\": \"http://www.ottolenghi.co.uk/recipes/meat/braised-eggs-with-beef-smoked-aubergine-and-tomato-shop\"\n    },\n    \"cookTime\": \"1 hr 5 min\",\n    \"ingredients\": [\"4 aubergines (1.1kg gross)\", \"1 tbsp olive oil, plus extra for drizzling\", \"1 large onion, finely chopped (200g net)\", \"6 garlic cloves, roughly chopped (20g net)\", \"1/2 tsp chilli flakes\", \"1/2 tsp ground cinnamon\", \"1/2 tsp ground cumin\", \"2 tsp tomato paste\", \"300g minced beef\", \"2 medium tomatoes, chopped (100g net)\", \"2 tsp finely chopped preserved lemon (15g)\", \"4 eggs\", \"3/4 tsp sumac\", \"1 tbsp chopped parsley\", \"Salt and black pepper\", \"40g tahini\", \"2 tbsp lemon juice\", \"1 garlic clove, crushed\"],\n    \"directions\": [\"Pierce the aubergines with a sharp knife in a few places and place each directly over a naked flame on your stovetop. Cook on medium heat for 20 minutes, turning occasionally with metal tongs until the outside is totally burnt and the aubergine starts to collapse on itself. Alternatively, place the pierced aubergines on a tin foil lined tray under a hot grill in the oven for an hour, turning every 20 minutes. Remove from and place in a colander.\", \"Cut a single slit in each aubergine, from top to bottom and allow the juices to strain. Once cool enough to handle, scoop out all the flesh, avoiding all black skin, and set aside. You should have about 370g aubergine flesh.\"],\n    \"name\": \"winter-braised-eggs-with-beef\"\n  },\n  \"winter-cashew-gateau\": {\n    \"title\": \"Cashew Gateau with Coffee Cardamom Mousse\",\n    \"excerpt\": \"The inspiration for the caramel stained \\\"glass\\\" panel comes from my grandmother\",\n    \"source\": {\n      \"name\": \"Tartelette\",\n      \"url\": \"http://www.tarteletteblog.com/2008/08/cashew-gateau-with-coffee-cardamom.html\"\n    },\n    \"cookTime\": \"1 hr 30 min\",\n    \"ingredients\": [\"3/4 cups cashew, toasted/skinned\", \"1/3 cup cake flour, unsifted\", \"1 Tbsp. cornstarch\", \"3 large egg yolks\", \"1/2 cup sugar, divided (2Tb & 6 Tb)\", \"1/2 tsp. vanilla extract\", \"1/2 tsp. grated lemon rind\", \"2 lg. egg whites\", \"2 Tb melted butter, cooled\", \"1/2 teaspoon ground cardamom\", \"1/2 cup espresso or strong coffee\", \"1/4 cup sugar\", \"1 tsp powdered unflavored gelatin, softened in 1 tablespoon cold water\", \"1 cup heavy cream, cold\", \"1/2 cup heavy cream\", \"3/4 cup chopped chocolate or chocolate chips (about 6 oz or 180 gr)\"],\n    \"directions\": [\"Position rack in the lower 3rd of the oven and preheat to 350 degrees.\", \"Grease and flour a 8” X 4” inch round springform pan.\"],\n    \"name\": \"winter-cashew-gateau\"\n  }\n};\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"router.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/router.js                                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar feedSubscription;\nvar thisCurrentProduct; // Handle for launch screen possibly dismissed from app-body.js\n\ndataReadyHold = null; // Global subscriptions\n\nif (Meteor.isClient) {\n  Meteor.subscribe('news');\n  Meteor.subscribe('bookmarkCounts');\n  Meteor.subscribe('images');\n  Meteor.subscribe('getSellers'); // var resultsq = Meteor.subscribe('featuredProducts');\n  // Session.set('featuredProducts',resultsq);\n\n  feedSubscription = Meteor.subscribe('feed');\n}\n\nRouter.configure({\n  layoutTemplate: 'appBody',\n  notFoundTemplate: 'notFound'\n});\n\nif (Meteor.isClient) {\n  // Keep showing the launch screen on mobile devices until we have loaded\n  // the app's data\n  dataReadyHold = LaunchScreen.hold();\n}\n\nProductsController = RouteController.extend({\n  onBeforeAction: function () {\n    Meteor.subscribe('latestProducts', function () {\n      dataReadyHold.release();\n    });\n    Meteor.subscribe('getSellerProducts', function () {\n      dataReadyHold.release();\n    });\n  }\n});\nFeedController = RouteController.extend({\n  onBeforeAction: function () {\n    this.feedSubscription = feedSubscription;\n  }\n});\nRecipesController = RouteController.extend({\n  data: function () {\n    return _.values(RecipesData);\n  }\n});\nBookmarksController = RouteController.extend({\n  onBeforeAction: function () {\n    if (Meteor.user()) Meteor.subscribe('bookmarks');else Overlay.open('authOverlay');\n  },\n  data: function () {\n    if (Meteor.user()) return _.values(_.pick(RecipesData, Meteor.user().bookmarkedRecipeNames));\n  }\n});\nRecipeController = RouteController.extend({\n  onBeforeAction: function () {\n    Meteor.subscribe('recipe', this.params.name);\n  },\n  data: function () {\n    return RecipesData[this.params.name];\n  }\n}); // addSellerController = RouteController.extend({\n//   onBeforeAction:function()\n//   {\n//     console.log('Seller Controller loaded');\n//     if (Meteor.userId())\n//     {\n//       var currentSeller = Meteor.wrapAsync(getThisSeller(Meteor.userId()));     \n//     }\n//   }\n// });\n// function getThisSeller(id)\n// {\n//   console.log(\"Get Seller  : \" + id);\n//   var retProd = {};\n//   var returnProd=[];\n//   var repro =   Meteor.apply('getProductSeller', [id],{wait: true}, function(err,data){\n//     if (!err)\n//     {\n//       Session.set(\"currentSeller\",data);\n//       console.log(data);\n//     }\n//     else\n//     {\n//       console.log(err);\n//     }\n//   });\n// }\n\nProductController = RouteController.extend({\n  onBeforeAction: function () {\n    if (this.params._id) {\n      console.log(\"Product launch :\" + this.params._id);\n      sessionStorage.removeItem(\"currentProduct\");\n      Meteor.subscribe('product', Router.current().params._id);\n      var currentProduct = Meteor.wrapAsync(getThisProdData(this.params._id)); //var productImages = Meteor.wrapAsync(getProductImages(currentProduct.prodImg));\n      //currentProduct.prodImg = productImages;\n\n      dataReadyHold.release();\n    }\n  } // ,\n  // data : function()\n  // {\n  //   currentProduct = Meteor.wrapAsync(getThisProdData(this.params._id));\n  // }\n\n});\n\nfunction getThisProdData(id) {\n  console.log(\"Get Single product publish Router Method : \" + id);\n  var retProd = {};\n  var returnProd = [];\n  var repro = Meteor.apply('getProduct', [id], {\n    wait: false\n  }, function (err, data) {\n    if (!err) {\n      sessionStorage.removeItem(\"currentProduct\");\n      Session.set(\"currentProduct\", data);\n    } else {\n      console.log(err);\n      sessionStorage.removeItem(\"currentProduct\");\n    }\n  });\n}\n\nSellerController = RouteController.extend({\n  onBeforeAction: function () {\n    console.log('Seller Controller loaded');\n\n    if (Meteor.userId()) {\n      //loading.start();\n      //Meteor.subscribe('SellerDetailsImages',Meteor.userId());\n      Meteor.subscribe('getSeller', Meteor.userId());\n      Sellers.findOne({\n        userId: Meteor.userId()\n      }); // Meteor.call('getSeller', [Meteor.userId()], function(error, success) { \n      //   if (error) { \n      //     console.log('error getting seller', error); \n      //     sessionStorage.removeItem(\"currentSeller\");\n      //   } \n      //   if (success) { \n      //     console.log(\"Client Router Seller : \" + success);\n      //     sessionStorage.removeItem(\"currentSeller\");\n      //     Session.set(\"currentSeller\",success);\n      //   } \n      // });\n\n      console.log('Seller Controller reference data');\n      Meteor.subscribe('referenceData', function () {\n        console.log(ReferenceData.find({}).count()); //loading.stop();\n\n        dataReadyHold.release();\n      });\n    }\n  }\n});\nEditProductController = RouteController.extend({\n  onBeforeAction: function () {\n    console.log(\"Edit Product\");\n\n    if (this.params._id) {\n      console.log(\"Edit Product launch :\" + this.params._id);\n      sessionStorage.removeItem(\"currentProduct\");\n      Meteor.subscribe('product', Router.current().params._id);\n      var currentProduct = Meteor.wrapAsync(getThisProdData(this.params._id));\n      dataReadyHold.release();\n    }\n  }\n});\nAdminController = RouteController.extend({\n  onBeforeAction: function () {\n    Meteor.subscribe('news');\n  }\n});\nHomeController = RouteController.extend({\n  onBeforeAction: function () {\n    Meteor.subscribe('featuredProducts');\n    console.log(\"Home from router products \");\n    dataReadyHold.release();\n  }\n});\nRouter.route('home', {\n  path: '/'\n}); // Router.route('products', {\n//   path : '/products/:_searchTerm',\n//   // name: 'products',\n//   // template: 'products',\n//   });\n\nRouter.route('products');\nRouter.route('seller');\nRouter.route('feed');\nRouter.route('recipes');\nRouter.route('bookmarks');\nRouter.route('about');\nRouter.route('recipe', {\n  path: '/recipes/:name'\n});\nRouter.route('product', {\n  path: '/product/:_id',\n  name: 'productPage',\n  template: 'product'\n});\nRouter.route('editproduct', {\n  path: '/editproduct/:_id',\n  name: 'productEditPage',\n  template: 'tmp_product_maintain',\n  layoutTemplate: null,\n  controller: EditProductController\n});\nRouter.route('login', {\n  path: '/login',\n  template: 'authOverlay',\n  layoutTemplate: 'appBody'\n});\nRouter.route('signup', {\n  path: '/signup',\n  template: 'authOverlaySignup',\n  layoutTemplate: 'appBody'\n});\nRouter.route('admin', {\n  layoutTemplate: null\n});\nRouter.onBeforeAction('dataNotFound', {\n  only: 'recipe'\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"seller.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// lib/seller.js                                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nSellers.allow({\n  insert: function (userId, doc) {\n    return doc.userId === userId;\n  },\n  update: function (userId, doc) {\n    return doc.userId === userId;\n  },\n  remove: function (userId, doc) {\n    return doc.userId === userId;\n  }\n});\nMeteor.methods({\n  'getSeller': function (id) {\n    var result = {};\n\n    try {\n      //console.log(\" server find one : \" + id);\n      //loading.start();\n      var SellerResult = Meteor.apply('getProductSeller', [id], {\n        returnStubValue: true\n      }); //console.log(\"Server seller \" );\n\n      if (SellerResult) {\n        //console.log(\"has seller\");\n        result = SellerResult;\n      } else {\n        // console.log(\"has no seller\");\n        result = {\n          _id: \"\",\n          userId: Meteor.userId(),\n          businessname: \"\",\n          busTagLine: \"\",\n          busLogo: \"\",\n          busAvatar: \"\",\n          bustel: \"\",\n          buscel: \"\",\n          busemail: \"\",\n          cont1: \"\",\n          cont2: \"\",\n          add1: \"\",\n          add2: \"\",\n          add3: \"\",\n          add4: \"\",\n          add5: \"\",\n          website: \"\"\n        };\n      } //loading.stop();\n\n    } catch (exp) {\n      //loading.halt();\n      throw exp;\n    } //console.log(result);\n\n\n    return result;\n  },\n  'newSeller': function (sellerObj) {\n    // var result = Products.find({_id:prodid});\n    try {\n      var sellerResult = Sellers.upsert({\n        // Selector\n        userId: sellerObj.userId\n      }, {\n        // Modifier\n        $set: {\n          businessname: sellerObj.businessname,\n          busTagLine: sellerObj.busTagLine,\n          busLogo: sellerObj.busLogo,\n          busAvatar: sellerObj.busAvatar,\n          bustel: sellerObj.bustel,\n          buscel: sellerObj.buscel,\n          busemail: sellerObj.busemail,\n          cont1: sellerObj.cont1,\n          cont2: sellerObj.cont2,\n          add1: sellerObj.add1,\n          add2: sellerObj.add2,\n          add3: sellerObj.add3,\n          add4: sellerObj.add4,\n          add5: sellerObj.add5,\n          website: sellerObj.website\n        }\n      }); //console.log(sellerResult);\n      //return Sellers.insert(sellerObj);\n    } catch (error) {\n      console.log(\"Server - Seller - \" + error);\n      throw error;\n    }\n  },\n  'updateSeller': function (sellerObj) {\n    // var result = Products.find({_id:prodid});\n    return Sellers.findOne({\n      userId: prodid\n    });\n  },\n  'deleteSeller': function (id) {\n    // var result = Products.find({_id:prodid});\n    return Sellers.remove({\n      userId: id\n    });\n  }\n});\n\nSellers.allSellers = function () {\n  return Sellers.find({});\n};\n\nSellers.more = function (continuationValue) {\n  //https://www.npmjs.com/package/mongo-cursor-pagination\n  return Sellers.find({}, {\n    sort: {\n      date: -1\n    }\n  });\n};\n/*\nMeteor.methods({\n  createActivity: function(activity, tweet, loc) {\n    Meteor.userId(), String,\n    activity, {\n      recipeName: String,\n      text: String,\n      image: String\n    },\n    tweet, Boolean,\n    loc, Match.OneOf(Object, null),\n    \n    activity.userId = Meteor.userId(,\n    activity.userAvatar = Meteor.user().services.twitter.profile_image_url_https;\n    activity.userName = Meteor.user().profile.name;\n    activity.date = new Date;\n    \n    if (! this.isSimulation && loc)\n      activity.place = getLocationPlace(loc,\n    \n    var id = Activities.insert(activity,\n    \n    if (! this.isSimulation && tweet)\n      tweetActivity(activity,\n    \n    return id;\n  }\n},\n\nif (Meteor.isServer) {\n  var twitterOauth = function(options) {\n    var config = Meteor.settings.twitter\n    var userConfig = Meteor.user().services.twitter;\n\n    return {\n      consumer_key: config.consumerKey,\n      consumer_secret: config.secret,\n      token: userConfig.accessToken,\n      token_secret: userConfig.accessTokenSecret\n    };\n  }\n  \n  var tweetActivity = function(activity) {\n    // creates the tweet text, optionally truncating to fit the appended text\n    function appendTweet(text, append) {\n      var MAX = 117; // Max size of tweet with image attached\n      \n      if ((text + append).length > MAX)\n        return text.substring(0, (MAX - append.length - 3)) + '...' + append;\n      else\n        return text + append;\n    }\n    \n    // we need to strip the \"data:image/jpeg;base64,\" bit off the data url\n    var image = activity.image.replace(/^data.*base64,/, '',\n\n    var response = HTTP.post(\n      'https://upload.twitter.com/1.1/media/upload.json', {\n        params: { media: image },\n        npmRequestOptions: { oauth: twitterOauth() }\n      }\n    ,\n    \n    if (response.statusCode !== 200)\n      throw new Meteor.Error(500, 'Unable to post image to twitter',\n\n    if (! response.data)\n      throw new Meteor.Error(500, 'Did not receive attachment from twitter',\n\n    var attachment = response.data;\n\n    response = HTTP.post(\n      'https://api.twitter.com/1.1/statuses/update.json', {\n        params: {\n          status: appendTweet(activity.text, ' #localmarket'),\n          media_ids: attachment.media_id_string\n        },\n        npmRequestOptions: { oauth: twitterOauth() }\n      }\n    ,\n\n    if (response.statusCode !== 200)\n      throw new Meteor.Error(500, 'Unable to create tweet',\n  }\n  \n  var getLocationPlace = function(loc) {\n    var url = 'https://api.twitter.com/1.1/geo/reverse_geocode.json'\n      + '?granularity=neighborhood'\n      + '&max_results=1'\n      + '&accuracy=' + loc.coords.accuracy\n      + '&lat=' + loc.coords.latitude\n      + '&long=' + loc.coords.longitude;\n    \n    var response = HTTP.get(url,\n                            {npmRequestOptions: { oauth: twitterOauth() } },\n\n    if (response.statusCode === 200 && response.data) {\n      var place = _.find(response.data.result.places, function(place) {\n        return place.place_type === 'neighborhood';\n      },\n      \n      return place && place.full_name;\n    }\n  }\n}\n \n*/\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".css\",\n    \".less\"\n  ]\n});\nrequire(\"/client/templates/template.Maintain_Product.js\");\nrequire(\"/client/templates/template.Sell_Product.js\");\nrequire(\"/client/templates/template.about.js\");\nrequire(\"/client/templates/template.activity.js\");\nrequire(\"/client/templates/template.admin.js\");\nrequire(\"/client/templates/template.app-body.js\");\nrequire(\"/client/templates/template.auth-overlay.js\");\nrequire(\"/client/templates/template.auth-signup.js\");\nrequire(\"/client/templates/template.bookmarks.js\");\nrequire(\"/client/templates/template.card.js\");\nrequire(\"/client/templates/template.carousel.js\");\nrequire(\"/client/templates/template.home.js\");\nrequire(\"/client/templates/template.login.js\");\nrequire(\"/client/templates/template.nav.js\");\nrequire(\"/client/templates/template.navaddons.js\");\nrequire(\"/client/templates/template.not-found.js\");\nrequire(\"/client/templates/template.overlay.js\");\nrequire(\"/client/templates/template.product-item.js\");\nrequire(\"/client/templates/template.product.js\");\nrequire(\"/client/templates/template.products.js\");\nrequire(\"/client/templates/template.recipe-item.js\");\nrequire(\"/client/templates/template.recipe.js\");\nrequire(\"/client/templates/template.recipes.js\");\nrequire(\"/client/templates/template.search.js\");\nrequire(\"/client/templates/template.seller.js\");\nrequire(\"/client/templates/template.sellerShort.js\");\nrequire(\"/client/templates/template.share-overlay.js\");\nrequire(\"/client/templates/template.shoppingcart.js\");\nrequire(\"/client/templates/template.showEdit_Products.js\");\nrequire(\"/client/templates/template.showImage.js\");\nrequire(\"/client/templates/template.ticker.js\");\nrequire(\"/client/templates/template.whats-cooking.js\");\nrequire(\"/client/lib/JIC.js\");\nrequire(\"/client/lib/common.js\");\nrequire(\"/client/lib/compressjs.js\");\nrequire(\"/client/lib/init.js\");\nrequire(\"/client/lib/jquery.touchwipe.js\");\nrequire(\"/client/lib/jqueryValidate.js\");\nrequire(\"/lib/startup/apiSetup.js\");\nrequire(\"/lib/startup/fixtures.js\");\nrequire(\"/lib/activities.js\");\nrequire(\"/lib/bookmarks.js\");\nrequire(\"/lib/common.js\");\nrequire(\"/lib/media.js\");\nrequire(\"/lib/news.js\");\nrequire(\"/lib/product.js\");\nrequire(\"/lib/products.js\");\nrequire(\"/lib/recipes-data.js\");\nrequire(\"/lib/router.js\");\nrequire(\"/lib/seller.js\");\nrequire(\"/client/templates/Maintain_Product.js\");\nrequire(\"/client/templates/activity.js\");\nrequire(\"/client/templates/admin.js\");\nrequire(\"/client/templates/app-body.js\");\nrequire(\"/client/templates/auth-overlay.js\");\nrequire(\"/client/templates/auth-signup.js\");\nrequire(\"/client/templates/bookmarks.1.js\");\nrequire(\"/client/templates/bookmarks.js\");\nrequire(\"/client/templates/carousel.js\");\nrequire(\"/client/templates/home.js\");\nrequire(\"/client/templates/login.js\");\nrequire(\"/client/templates/nav.js\");\nrequire(\"/client/templates/navaddons.js\");\nrequire(\"/client/templates/overlay.js\");\nrequire(\"/client/templates/product-item.js\");\nrequire(\"/client/templates/product.js\");\nrequire(\"/client/templates/products.js\");\nrequire(\"/client/templates/recipe-item.js\");\nrequire(\"/client/templates/recipe.js\");\nrequire(\"/client/templates/search.js\");\nrequire(\"/client/templates/seller.js\");\nrequire(\"/client/templates/share-overlay.js\");\nrequire(\"/client/templates/shoppingcart.js\");\nrequire(\"/client/templates/showImage.js\");\nrequire(\"/client/templates/ticker.js\");\nrequire(\"/client/templates/whats-cooking.js\");\nrequire(\"/client/helpers.js\");\nrequire(\"/client/init.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["client/templates/Maintain_Product.js","client/templates/activity.js","client/templates/admin.js","client/templates/app-body.js","client/templates/auth-overlay.js","client/templates/auth-signup.js","client/templates/bookmarks.1.js","client/templates/bookmarks.js","client/templates/carousel.js","client/templates/home.js","client/templates/login.js","client/templates/nav.js","client/templates/overlay.js","client/templates/product-item.js","client/templates/product.js","client/templates/products.js","client/templates/recipe-item.js","client/templates/recipe.js","client/templates/search.js","client/templates/seller.js","client/templates/share-overlay.js","client/templates/showImage.js","client/templates/ticker.js","client/templates/whats-cooking.js","client/lib/JIC.js","client/lib/common.js","client/lib/compressjs.js","client/lib/init.js","client/lib/jquery.touchwipe.js","client/lib/jqueryValidate.js","client/helpers.js","client/init.js","lib/startup/apiSetup.js","lib/startup/fixtures.js","lib/activities.js","lib/bookmarks.js","lib/common.js","lib/media.js","lib/news.js","lib/product.js","lib/products.js","lib/recipes-data.js","lib/router.js","lib/seller.js"],"names":["Template","tmp_product_maintain","helpers","create","console","log","rendered","destroyed","events","event","template","ImageId","currentTarget","attributes","value","imageFile","Images","find","_id","remove","alert","activity","onRendered","self","Router","current","params","activityId","data","$activity","$","firstNode","top","offset","$parent","closest","parentTop","scrollTop","firstName","userName","split","recipeTitle","RecipesData","recipeName","title","path","name","query","admin","isAdmin","Meteor","user","latestNews","News","latest","preventDefault","text","target","val","insert","date","Date","loginWithTwitter","ANIMATION_DURATION","NOTIFICATION_TIMEOUT","MENU_KEY","IGNORE_CONNECTION_ISSUE_KEY","CONNECTION_ISSUE_TIMEOUT","Session","setDefault","nextInitiator","initiator","Deps","autorun","notifications","Mongo","Collection","appBody","addNotification","notification","id","setTimeout","startup","document","body","touchwipe","wipeLeft","set","wipeRight","preventDefaultEvents","dataReadyHold","release","_uihooks","insertElement","node","next","insertBefore","start","Velocity","hook","velocity","translateX","duration","easing","queue","removeElement","end","complete","menuOpen","get","overlayOpen","Overlay","isOpen","connected","status","stopImmediatePropagation","history","back","isCordova","window","open","href","_","isFunction","callback","authOverlay","onCreated","userId","close","logout","go","loginStyle","trimInput","replace","isValidPassword","length","isValidEmail","re","RegExp","test","customLogin","e","t","Loading","emailadd","password","email","result","loginWithPassword","err","stop","authOverlaySignup","SignUp","passwordr","Accounts","createUser","username","bookmarks","recipeCount","pluralize","carousel","wipeUp","wipeDown","FEATURED_COUNT","home","featuredRecipes","recipes","values","selection","i","push","splice","random","featuredProducts","subscribe","Products","limit","sort","createdAt","activities","Activities","login","services","_loginButtons","getLoginServices","nav","$nav","siblings","children","first","waypoint","direction","toggleClass","context","state","initial","TEMPLATE_KEY","DATA_KEY","equals","overlay","done","$node","hide","productItem","highlightedClass","size","bookmarkCount","count","getImage","imgid","findOne","getFirstElement","arr","Array","TAB_KEY","product","getProduct","loading","instance","setTab","tab","lastTab","fromProduct","toProduct","isActiveTab","thisProductImages","imageId","ProductImgs","activeTabClass","bookmarked","productData","call","stopPropagation","_searchTerm","products","latestProducts","searchTerm","escape","$or","producttitle","$regex","$options","productDescription","homeProducts","productTitle","recipeItem","recipe","BookmarkCounts","fromRecipe","toRecipe","include","bookmarkedRecipeNames","QuickSearch","searchValue","route","SellerProducts_tmp","error","Seller_tmp","amISeller","businessname","busTagLine","busLogo","busAvatar","bustel","buscel","busemail","cont1","cont2","add1","add2","add3","add4","add5","website","Sellers","seller","tmp_product_sell","fr","FileReader","getElementById","innerHTML","fileCount","files","isToBig","uploadSize","HandleClientImageFile","onload","src","readAsDataURL","businesstagLine","imgBusLogo","bustell","buscell","person1","person2","busLogoFile","fileLogo","randLogoId","Random","buslogImdId","BuslogoImg","FS","File","sellerId","ImageCat","ImageType","fileObj","createDate","now","toLocaleString","currentuser","SellerObj","exp","file","targetElement","preview","querySelector","insertImg","Image","className","image","compressedImage","canvas","createElement","width","naturalWidth","height","naturalHeight","ctx","getContext","drawImage","compressValue","toDataURL","newImg","appendChild","compressImage","source_img_obj","quality","output_format","mime_type","cvs","style","newImageData","result_image_obj","HandleClientImageData","isClient","thisForm","validate","productImages","prodImg","compressedImages","prodimgId","saveId","productImg","extension","type","halt","ImagesInserted","prdTitle","description","prdDesc","img","price","prdprice","prdCat","expireValue","prdExpire","expireDate","timetoadd","ReferenceData","expDate","myExpDate","prodObj","expireAt","TWEETING_KEY","IMAGE_KEY","shareOverlay","attachedImage","avatar","twitter","profile_image_url_https","tweeting","MeteorCamera","getPicture","reason","is","tweet","Geolocation","currentLocation","action","showImage","getSellerImage","getProdCardImage","imgId","getCarouselCardImage","ticker","EthTools","getAllTickers","feed","ready","feedSubscription","jic","compress","upload","compressed_img_obj","upload_url","file_input_name","filename","successCallback","errorCallback","duringCallback","customHeaders","XMLHttpRequest","prototype","sendAsBinary","undefined","string","bytes","map","c","charCodeAt","send","Uint8Array","buffer","substr","toLowerCase","xhr","boundary","setRequestHeader","headerKey","Function","onprogress","evt","lengthComputable","loaded","total","atob","join","onreadystatechange","readyState","responseText","s","r","n","exports","o","l","m","d","Object","defineProperty","configurable","enumerable","__esModule","default","hasOwnProperty","p","arguments","from","querySelectorAll","isArray","forEach","rate","a","dimension","dimen","addEventListener","download","imagePrefix","click","assign","f","inputSelector","dropSelector","rateSelector","parseInt","emit","downloadSelector","u","on","imageSelector","options","Compress","Symbol","iterator","constructor","eval","dataTransfer","apply","concat","TypeError","writable","key","_events","fn","settings","config","min_move_x","min_move_y","extend","each","startX","startY","isMoving","cancelTouch","removeEventListener","onTouchMove","x","touches","pageX","y","pageY","dx","dy","Math","abs","onTouchStart","documentElement","jQuery","debug","warn","validator","attr","onsubmit","validateDelegate","submitHandler","submitButton","hasClass","cancelSubmit","submit","handle","hidden","appendTo","currentForm","form","pendingRequest","formSubmitted","focusInvalid","valid","element","removeAttrs","$element","index","removeAttr","rules","command","argument","staticRules","existingRules","normalizeRule","messages","filtered","method","normalizeRules","classRules","attributeRules","dataRules","required","param","expr","blank","trim","filled","unchecked","prop","defaults","init","format","source","args","makeArray","unshift","slice","groups","errorClass","validClass","errorElement","errorContainer","errorLabelContainer","ignore","ignoreTitle","onfocusin","lastActive","focusCleanup","blockFocusCleanup","unhighlight","addWrapper","errorsFor","onfocusout","checkable","submitted","optional","onkeyup","which","elementValue","lastElement","onclick","parentNode","highlight","findByName","addClass","removeClass","setDefaults","remote","url","dateISO","number","digits","creditcard","equalTo","maxlength","minlength","rangelength","range","max","min","autoCreateRanges","labelContainer","errorContext","containers","add","valueCache","pending","invalid","reset","delegate","eventType","invalidHandler","bind","checkForm","errorMap","triggerHandler","showErrors","prepareForm","elements","currentElements","check","validationTargetFor","clean","prepareElement","numberOfInvalids","toHide","errors","errorList","message","successList","grep","defaultShowErrors","resetForm","hideErrors","removeData","objectLength","obj","findLastActive","filter","focus","trigger","rulesCache","not","selector","toShow","dependencyMismatch","rule","parameters","methods","formatAndAdd","customDataMessage","customMessage","String","findDefined","defaultMessage","theregex","toToggle","wrapper","parent","showLabel","success","validElements","show","invalidElements","label","html","idOrName","wrap","append","errorPlacement","insertAfter","getLength","nodeName","depend","dependTypes","startRequest","stopRequest","previousValue","old","classRuleSettings","addClassRules","classes","getAttribute","Number","depends","keepRule","parameter","parts","transformed","addMethod","toString","nCheck","nDigit","bEven","cDigit","charAt","unbind","previous","originalMessage","ajax","mode","port","dataType","response","pendingRequests","ajaxPrefilter","abort","ajaxSettings","handler","thing","plural","isUndefined","hash","wordOnly","Handlebars","registerHelper","DIMENSIONS","small","large","full","UI","imageName","str","objCol","NaN","someObject","ImgId","returnimgs","v1","v2","isEqual","someArr","option","pathing","fileSavePath","refName","refData","imagename","routeNames","usedId","isServer","geoLocation","refDatas","prodData","prod","busCat","businessag","office","cell","contact1","contact2","logoImg","ISODate","allow","doc","createActivity","loc","Boolean","Match","OneOf","userAvatar","profile","isSimulation","place","getLocationPlace","tweetActivity","twitterOauth","userConfig","consumer_key","consumerKey","consumer_secret","secret","token","accessToken","token_secret","accessTokenSecret","appendTweet","MAX","substring","HTTP","post","media","npmRequestOptions","oauth","statusCode","Error","attachment","media_ids","media_id_string","coords","accuracy","latitude","longitude","places","place_type","full_name","affected","users","update","$ne","$addToSet","$inc","$pull","newRandomId","prefixStr","rnd","require","jsWriteFile","fbinaryData","fs","Npm","base64Image","binaryData","Buffer","pathtoFile","rootPath","strPath","imagePath","writeFileName","exists","writeFile","saveImageFile","getReferenceData","addTime","imageStore","Store","FileSystem","chunkSize","maxTries","stores","getProductImages","prodImages","returnImages","Product","order","results","productObj","newProd","ProdImgs","productResult","upsert","$set","MyProducts","SellerID","more","continuationValue","featuredProductsLimit","prodresult","Results","prodid","sell","returnStubValue","prodImgs","searchItem","searchTerms","prods","allProducts","prodId","bookedMarked","SellerId","skip","createProduct","prodCat","ProdInsert","thisCurrentProduct","configure","layoutTemplate","notFoundTemplate","LaunchScreen","hold","ProductsController","RouteController","onBeforeAction","FeedController","RecipesController","BookmarksController","pick","RecipeController","ProductController","sessionStorage","removeItem","currentProduct","wrapAsync","getThisProdData","retProd","returnProd","repro","wait","SellerController","EditProductController","AdminController","HomeController","controller","only","SellerResult","sellerObj","sellerResult","allSellers"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"/app.js","sourcesContent":["Template.tmp_product_maintain.helpers({ \n    create: function() { \n         console.log(\"Maintain Created\");\n    }, \n    rendered: function() { \n        console.log(\"Maintain rendered\");\n    }, \n    destroyed: function() { \n        console.log(\"Maintain destroyed\");\n    }, \n}); \n\nTemplate.tmp_product_maintain.events({ \n    'click .deleteImg': function(event, template) { \n\n        var ImageId = event.currentTarget.attributes['imgid'].value;\n        imageFile = Images.find({_id:ImageId});  \n        Images.remove({_id:ImageId});\n          \n    },\n    'click .updateRec': function(event,template){\n        alert('update the record')\n    } \n}); \n","Template.activity.onRendered(function() {\n  var self = this;\n\n  // If the activity is in a list, scroll it into view. Note, we can't just use\n  // element.scrollIntoView() because it attempts to scroll in the X direction\n  // messing up our animations\n  if (Router.current().params.activityId === self.data._id) {\n    var $activity = $(self.firstNode);\n    var top = $activity.offset().top;\n    var $parent = $(self.firstNode).closest('.content-scrollable');\n    var parentTop = $parent.offset().top;\n    $parent.scrollTop(top - parentTop);\n  }\n});\n\nTemplate.activity.helpers({\n  firstName: function() {\n    return this.userName.split(' ')[0];\n  },\n  recipeTitle: function() {\n    return RecipesData[this.recipeName].title;\n  },\n  path: function() {\n    return Router.path('recipe', { name: this.recipeName },\n      { query: { activityId: this._id } })\n  }\n})\n","Template.admin.helpers({\n  isAdmin: function() {\n    return Meteor.user() && Meteor.user().admin;\n  },\n  \n  latestNews: function() {\n    return News.latest();\n  }\n});\n\nTemplate.admin.events({\n  'submit form': function(event) {\n    event.preventDefault();\n\n    var text = $(event.target).find('[name=text]').val();\n    News.insert({ text: text, date: new Date });\n\n    alert('Saved latest news');\n  },\n  \n  'click .login': function() {\n    Meteor.loginWithTwitter();\n  }\n})","var ANIMATION_DURATION = 300;\nvar NOTIFICATION_TIMEOUT = 3000;\nvar MENU_KEY = 'menuOpen';\nvar IGNORE_CONNECTION_ISSUE_KEY = 'ignoreConnectionIssue';\nvar CONNECTION_ISSUE_TIMEOUT = 5000;\n\nSession.setDefault(IGNORE_CONNECTION_ISSUE_KEY, true);\nSession.setDefault(MENU_KEY, false);\n\n// XXX: this work around until IR properly supports this\n//   IR refactor will include Location.back, which will ensure that initator is\n//   set \nvar nextInitiator = null, initiator = null;\nDeps.autorun(function() {\n  // add a dep\n  Router.current();\n  \n  initiator = nextInitiator;\n  nextInitiator = null;\n});\n\nvar notifications = new Mongo.Collection(null);\n\nTemplate.appBody.addNotification = function(notification) {\n  var id = notifications.insert(notification);\n\n  Meteor.setTimeout(function() {\n    notifications.remove(id);\n  }, NOTIFICATION_TIMEOUT);\n} \n\nMeteor.startup(function () {\n  // set up a s  left / right handler\n  $(document.body).touchwipe({ \n    wipeLeft: function () {\n      Session.set(MENU_KEY, false);\n    },\n    wipeRight: function () {\n      Session.set(MENU_KEY, true);\n    },\n    preventDefaultEvents: false\n  });\n\n  // Only show the connection error box if it has been 5 seconds since\n  // the app started\n  setTimeout(function () {\n    // Launch screen handle created in lib/router.js\n    dataReadyHold.release();\n\n    // Allow the connection error box to be shown if there is an issue\n    Session.set(IGNORE_CONNECTION_ISSUE_KEY, false);\n  }, CONNECTION_ISSUE_TIMEOUT);\n});\n\nTemplate.appBody.onRendered(function() {\n  this.find(\"#content-container\")._uihooks = {\n    insertElement: function(node, next) {\n      // short-circuit and just do it right away\n      if (initiator === 'menu')\n        return $(node).insertBefore(next);\n\n      var start = (initiator === 'back') ? '-100%' : '100%';\n\n      $.Velocity.hook(node, 'translateX', start);\n      $(node)\n      .insertBefore(next)\n      .velocity({translateX: [0, start]}, {\n        duration: ANIMATION_DURATION,\n        easing: 'ease-in-out',\n        queue: false\n      });\n    },\n    removeElement: function(node) {\n      if (initiator === 'menu')\n        return $(node).remove();\n\n      var end = (initiator === 'back') ? '100%' : '-100%';\n\n      $(node)\n      .velocity({translateX: end}, {\n        duration: ANIMATION_DURATION,\n        easing: 'ease-in-out',\n        queue: false,\n        complete: function() {\n          $(node).remove();\n        }\n      });\n    }\n  };\n\n  this.find(\".notifications\")._uihooks = {\n    insertElement: function(node, next) {\n      $(node)\n      .insertBefore(next)\n      .velocity(\"slideDown\", { \n        duration: ANIMATION_DURATION, \n        easing: [0.175, 0.885, 0.335, 1.05]\n      });\n    },\n    removeElement: function(node) {\n      $(node)\n      .velocity(\"fadeOut\", {\n        duration: ANIMATION_DURATION,\n        complete: function() {\n          $(node).remove();\n        }\n      });\n    }\n  };\n});\n\n\nTemplate.appBody.helpers({\n  menuOpen: function() {\n    return Session.get(MENU_KEY) && 'menu-open';\n  },\n  \n  overlayOpen: function() {\n    return Overlay.isOpen() ? 'overlay-open' : '';\n  },\n  \n  connected: function() {\n    return Session.get(IGNORE_CONNECTION_ISSUE_KEY) ||\n      Meteor.status().connected;\n  },\n  \n  notifications: function() {\n    return notifications.find();\n  }\n});\n\nTemplate.appBody.events({\n  'click .js-menu': function(event) {\n    event.stopImmediatePropagation();\n    event.preventDefault();\n    Session.set(MENU_KEY, ! Session.get(MENU_KEY));\n  },\n\n  'click .js-back': function(event) {\n    nextInitiator = 'back';\n    \n    // XXX: set the back transition via Location.back() when IR 1.0 hits\n    history.back();\n    event.stopImmediatePropagation();\n    event.preventDefault();\n  },\n  \n  'click a.js-open': function(event) {\n    // On Cordova, open links in the system browser rather than In-App\n    if (Meteor.isCordova) {\n      event.preventDefault();\n      window.open(event.target.href, '_system');\n    }\n  },\n\n  'click .content-overlay': function(event) {\n    Session.set(MENU_KEY, false);\n    event.preventDefault();\n  },\n\n  'click #menu a': function(event) {\n    nextInitiator = 'menu'\n    Session.set(MENU_KEY, false);\n  },\n  \n  'click .js-notification-action': function() {\n    if (_.isFunction(this.callback)) {\n      this.callback();\n      notifications.remove(this._id);\n    }\n  }\n});\n","// If the auth overlay is on the screen but the user is logged in,\n//   then we have come back from the loginWithTwitter flow,\n//   and the user has successfully signed in.\n//\n// We have to use an autorun for this as callbacks get lost in the\n//   redirect flow.\nTemplate.authOverlay.onCreated(function() {\n  this.autorun(function() {\n    if (Meteor.userId()  && Overlay.template() === 'authOverlay')\n    {\n      \n      //Router.go(\"/\");\n      Overlay.close();\n    }\n  });\n});\n\nTemplate.logout.events({\n  'click .btnLogout' : function(){\n    Meteor.logout();\n    Router.go(\"/\");\n  },\n  'click .btnCancel' : function(){\n    Router.go(\"/\");\n  }\n});\n\nTemplate.authOverlay.events({\n  'click .js-signin': function() {\n    Meteor.loginWithTwitter({loginStyle: 'redirect'});\n  }\n});\nvar trimInput = function(val) {\n  return val.replace(/^\\s*|\\s*$/g, \"\");\n};\nvar isValidPassword = function(val) {\n  return val.length >= 6 ? true : false; \n}\nvar isValidEmail = function(val) {\n  var re = new RegExp('/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/');\n\n  var isValidEmail = re.test(val) ===null?false:true;\n  \n  return isValidEmail;\n}\n\nTemplate.customLogin.events({\n  'click #btnLogin':function(e,t)\n  {\n    e.preventDefault();\n    Loading.start();\n \n    var emailadd = t.$(\"#emailAddress\").val() ;\n    var password =t.$(\"#password\").val();\n    email = trimInput(emailadd);\n    password = trimInput(password);\n    var result = false;\n   if (isValidEmail(email) && isValidPassword(password))\n   {\n     result = true;\n\n   }\n    if (result)\n    {\n      \n      Meteor.loginWithPassword(email, password, function(err){\n        if (err)\n        {}\n          // The user might not have been found, or their passwword\n          // could be incorrect. Inform the user that their\n          // login attempt has failed. \n        else\n        {\n          Router.go(\"/\");\n        }\n          // The user has been logged in.\n      });\n     \n    }\n    else\n    {\n      alert(\"Invlaid email and Password\");\n      \n    }\n    Loading.stop();\n  } ,\n  'click .btnCancel' : function(){\n    Router.go(\"/\");\n  }\n\n});\nTemplate.customLogin.events({\n  'click .bSignup' : function(e,t) {   \n    Router.go(\"/signup\");\n  }\n});\nTemplate.authOverlay.rendered = function()\n{\n    console.log(\"rendering login\");\n   //alert('Template Login redered');\n \n    \n   \n   \n   // Accounts._loginButtons.data-toggle = \"tab\";\n};\n\n\n// Accounts.ui.config({\n//   requestPermissions: {\n//     facebook: ['user_likes'],\n//     github: ['user', 'repo']\n//   },\n//   requestOfflineToken: {\n//     google: true\n//   },\n//   passwordSignupFields: 'USERNAME_AND_OPTIONAL_EMAIL'\n// });","// If the auth overlay is on the screen but the user is logged in,\n//   then we have come back from the loginWithTwitter flow,\n//   and the user has successfully signed in.\n//\n// We have to use an autorun for this as callbacks get lost in the\n//   redirect flow.\nTemplate.authOverlaySignup.onCreated(function() {\n  this.autorun(function() {\n    if (Meteor.userId()  && Overlay.template() === 'authOverlaySignup')\n    {\n      \n      //Router.go(\"/\");\n      Overlay.close();\n    }\n  });\n});\n\n \n\nTemplate.authOverlaySignup.events({\n  'click .js-signin': function() {\n    Meteor.loginWithTwitter({loginStyle: 'redirect'});\n  }\n});\nvar trimInput = function(val) {\n  return val.replace(/^\\s*|\\s*$/g, \"\");\n};\nvar isValidPassword = function(val) {\n  return val.length >= 6 ? true : false; \n}\nvar isValidEmail = function(val) {\n  var re = new RegExp('/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/');\n\n  var isValidEmail = re.test(val) ===null?false:true;\n  \n  return isValidEmail;\n}\n\nTemplate.SignUp.events({\n  'click .btnSignup':function(e,t)\n  {\n    e.preventDefault();\n    Loading.start();\n \n    var emailadd = t.$(\"#signupEmail\").val() ;\n    var password =t.$(\"#signupPassword\").val();\n    var passwordr =t.$(\"#signupRPassword\").val();\n    email = trimInput(emailadd);\n    password = trimInput(password);\n    passwordr = trimInput(passwordr);\n    var result = false;\n   if (isValidEmail(email) && isValidPassword(password) && password == passwordr )\n   {\n     result = true;\n\n   }\n    if (result)\n    {\n      Accounts.createUser({\n        email: email,\n        username:email,\n        password: password\n            });\n      Meteor.loginWithPassword(email, password, function(err){\n        if (err)\n        {\n            alert('could not be logged in now.')\n        }\n       \n        else\n        {\n          Router.go(\"/\");\n        }\n          // The user has been logged in.\n      });\n     \n    }\n    else\n    {\n      alert(\"Invlaid email and Password\");\n      \n    }\n    Loading.stop();\n  }\n  \n\n});\n\nTemplate.SignUp.events({\n  'click .bLogin' : function(e,t) {\n    Router.go(\"/login\");\n  },\n  'click .btnCancel' : function(){\n    Router.go(\"/\");\n  }\n});\n\n\nTemplate.authOverlaySignup.rendered = function()\n{\n    console.log(\"rendering login\");\n   //alert('Template Login redered');\n \n    \n   \n   \n   // Accounts._loginButtons.data-toggle = \"tab\";\n};\n\n\n// Accounts.ui.config({\n//   requestPermissions: {\n//     facebook: ['user_likes'],\n//     github: ['user', 'repo']\n//   },\n//   requestOfflineToken: {\n//     google: true\n//   },\n//   passwordSignupFields: 'USERNAME_AND_OPTIONAL_EMAIL'\n// });","Template.bookmarks.helpers({\n  recipeCount: function() {\n    return pluralize(this.length, 'recipe');\n  }\n});","Template.bookmarks.helpers({\n  recipeCount: function() {\n    return pluralize(this.length, 'recipe');\n  }\n});","Template.carousel.onRendered(function () {\n   \n    Loading.start();\n    \n    this.$('#Caro').touchwipe({\n      wipeUp: function () {\n          \n        $('#Caro').carousel('prev');\n      },\n      preventDefaultEvents: false\n    });\n    this.$('#CaroImg').touchwipe({\n      wipeDown: function () {\n        $('#Caro').carousel('next');\n      },\n      preventDefaultEvents: false\n    });\n\n\n    Loading.stop();\n  });","var FEATURED_COUNT = 4;\n\nTemplate.home.helpers({\n  // selects FEATURED_COUNT number of recipes at random\n  featuredRecipes: function() {\n    var recipes = _.values(RecipesData);\n    var selection = [];\n    \n    for (var i = 0;i < FEATURED_COUNT;i++)\n    {\n      selection.push(recipes.splice(_.random(recipes.length - 1), 1)[0]);\n    }\n    return selection;\n  },\n  featuredProducts:function(){\n      console.log(\"Featured Products\");\n      //let wrappedAsyncFunction = Loading.wrapAsync(someAsyncFunction);\n      Meteor.subscribe('featuredProducts');\n      return Products.find({},{limit:FEATURED_COUNT,sort:{createdAt:-1}});\n       \n        }\n  ,\n  \n  activities: function() {\n    return Activities.latest();\n  },\n  \n  latestNews: function() {\n    return News.latest();\n  }\n});","Template.login.events({\n    'click #logout-button': function() {\n      Meteor.logout();\n    }\n  });\n\n  Template.login.helpers({\n    services: function() {\n      return Accounts._loginButtons.getLoginServices();\n    }\n  });\n  \n  // Template.login.service = function()\n  // {\n  //     //returns an array like [{name: 'facebook'}];\n  //     return getLoginServices();\n  // }","Template.nav.onRendered(function() {\n  var $nav = this.$('nav');\n  $nav.siblings('.content-scrollable:not(.static-nav)').children().first().waypoint(function(direction) {\n    $nav.toggleClass('scrolled', direction === 'down');\n  }, {\n    context: '.content-scrollable',\n    offset: -200\n  });\n});\n\nTemplate.nav.helpers({\n  // Iron Router stores {initial: true} in history state if this is\n  // the first route that we hit in an app. There are a variety of \n  // unexpected ways that this can happen (for example oauth, or \n  // hot code push), but we can't rely on going back in such cases.\n  back: function () {\n    return this.back && ! history.state.initial;\n  }\n});\n","var TEMPLATE_KEY = 'overlayTemplate';\nvar DATA_KEY = 'overlayData';\nvar ANIMATION_DURATION = 200;\n\nSession.setDefault(TEMPLATE_KEY, null);\n\nOverlay = {\n  open: function(template, data) {\n    Session.set(TEMPLATE_KEY, template);\n    Session.set(DATA_KEY, data);\n  },\n  close: function() {\n    Session.set(TEMPLATE_KEY, null);\n    Session.set(DATA_KEY, null);\n  },\n  isOpen: function() {\n    return ! Session.equals(TEMPLATE_KEY, null);\n  },\n  template: function () {\n    return Session.get(TEMPLATE_KEY);\n  },\n  data: function () {\n    return Session.get(DATA_KEY);\n  }\n}\n\nTemplate.overlay.onRendered(function() {\n  this.find('#overlay-hook')._uihooks = {\n    insertElement: function(node, next, done) {\n      var $node = $(node);\n\n      $node\n      .hide()\n      .insertBefore(next)\n      .velocity('fadeIn', {\n        duration: ANIMATION_DURATION\n      });\n    },\n    removeElement: function(node, done) {\n      var $node = $(node);\n\n      $node\n      .velocity(\"fadeOut\", {\n        duration: ANIMATION_DURATION,\n        complete: function() {\n          $node.remove();\n        }\n      });\n    }\n  }\n});\n\nTemplate.overlay.helpers({\n  template: function() {\n    return Overlay.template();\n  },\n  \n  data: function() {\n    return Overlay.data();\n  }\n});\n\nTemplate.overlay.events({\n  'click .js-close-overlay': function(event) {\n    event.preventDefault();\n    Overlay.close()\n  }\n});\n","Template.productItem.helpers({\n    path: function () {\n      return Router.path('product', this._id);\n    },\n    \n    highlightedClass: function () {\n      if (this.size === 'large')\n        return 'highlighted';\n    },\n    \n    bookmarkCount: function () {\n      var count =  1;//BookmarkCounts.find({}).count());\n      return count && count.count;\n    },\n    getImage: function(imgid) {         \n      return Images.findOne({ImageId:imgid});         \n    },\n    getFirstElement:function(arr)\n    {\n      if ( arr == 'undefined')\n      {return null};\n      if (arr instanceof Array)\n      {\n        return arr[0];\n      }\n       \n      //return str;\n\n\n\n       \n    },\n\n    \n  });\n\n   ","var TAB_KEY = 'productShowTab';\n\nTemplate.product.helpers({ \n  getProduct: function(id) { \n    loading.start();\n    \n    var result = Template.instance.data.Products;\n    //var result = Meteor.apply('getProduct',[id],{wait:true});\n    loading.stop();\n     return result;\n  } \n});\n// Template.product.helpers({\n//   thisSelectedProduct : function(){\n//     var self = this;\n//     try {\n//         var result;\n//         result = Session.get(\"currentProduct\");//Products.find({_id:Router.current().params._id});\n//         return result;\n//     } catch (error) {\n      \n//     }\n    \n    \n//   }\n\n// });\n\nTemplate.product.onCreated(function() {\n    // console.log(\"Create Product template\");\n    // console.log(\"parameter Id \" + Router.current().params._id);\n    var self = this;\n \n    Loading.start();\n    \n  if (Router.current().params._id)\n    Template.product.setTab('feed');\n  else\n    Template.product.setTab('product');\n});\n\nTemplate.product.onRendered(function () {\n   \n  Loading.stop();\n  this.$('.product').touchwipe({\n    wipeDown: function () {\n      if (Session.equals(TAB_KEY, 'product'))\n        Template.productItem.setTab('show')\n    },\n    preventDefaultEvents: false\n  });\n  this.$('.attribution-product').touchwipe({\n    wipeUp: function () {\n      if (! Session.equals(TAB_KEY, 'product'))\n        Template.productItem.setTab('product')\n    },\n    preventDefaultEvents: false\n  });\n});\n\n\n\n// CSS transitions can't tell the difference between e.g. reaching\n//   the \"make\" tab from the expanded state or the \"feed\" tab\n//   so we need to help the transition out by attaching another\n//   class that indicates if the feed tab should slide out of the\n//   way smoothly, right away, or after the transition is over\nTemplate.product.setTab = function(tab) {\n    var lastTab = Session.get(TAB_KEY);\n    Session.set(TAB_KEY, tab);\n    \n    var fromProduct = (lastTab === 'product') && (tab !== 'product');\n    $('.feed-scrollable').toggleClass('instant', fromProduct);\n  \n    var toProduct = (lastTab !== 'product') && (tab === 'product');\n    $('.feed-scrollable').toggleClass('delayed', toProduct);\n  }\n  \n  Template.product.helpers({\n    isActiveTab: function(name) {\n      return Session.equals(TAB_KEY, name);\n    },\n    thisProductImages:function(imageId){\n      console.log(\"Searching for imageid : \" + imageId + \" -  Image Count : \" + Images.count);\n      Meteor.subscribe('ProductImages', imageId)\n      //Loading.start();\n      var ProductImgs = Images.find({});\n      //Loading.stop();\n \n      return ProductImgs;\n    },\n    activeTabClass: function() {\n      return Session.get(TAB_KEY);\n    },\n    bookmarked: function() {\n      return Meteor.user() ;//&& _.include(Meteor.user().bookmarkedRecipeNames, this.name);\n    },\n    activities: function() {\n      return Activities.find({recipeName: this.name}, {sort: {date: -1}});\n    },\n    productData: function() {\n        //console.log(\"Router data \" + Template.instance().data[0]);\n        return Template.instance().data[0];\n    }\n  });\n  \n  Template.product.events({\n    'click .js-add-bookmark': function(event) {\n      event.preventDefault();\n  \n      if (! Meteor.userId())\n        return Overlay.open('authOverlay');\n      \n      Meteor.call('bookmarkRecipe', this.name);\n    },\n  \n    'click .js-remove-bookmark': function(event) {\n      event.preventDefault();\n  \n      Meteor.call('unbookmarkRecipe', this.name);\n    },\n    \n    'click .js-show-recipe': function(event) {\n      event.stopPropagation();\n      Template.product.setTab('make')\n    },\n    \n    'click .js-show-feed': function(event) {\n      event.stopPropagation();\n      Template.product.setTab('feed')\n    },\n    \n    'click .js-uncollapse': function() {\n      Template.product.setTab('recipe')\n    },\n  \n    'click .js-share': function() {\n      Overlay.open('shareOverlay', this);\n    }\n  });\n  ","var TAB_KEY = 'productShowTab';\n\nTemplate.product.onCreated(function() {\n  debugger;\n  if (Router.current().params._searchTerm)\n\n    Template.product.setTab('feed');\n  else\n    Template.product.setTab('product');\n});\n\nTemplate.product.onRendered(function () {\n  // this.$('.product').touchwipe({\n  //   wipeDown: function () {\n  //     if (Session.equals(TAB_KEY, 'product'))\n  //       Template.product.setTab('show')\n  //   },\n  //   preventDefaultEvents: false\n  // });\n  // this.$('.attribution-product').touchwipe({\n  //   wipeUp: function () {\n  //     if (! Session.equals(TAB_KEY, 'product'))\n  //       Template.product.setTab('product')\n  //   },\n  //   preventDefaultEvents: false\n  // });\n});\n\n// CSS transitions can't tell the difference between e.g. reaching\n//   the \"make\" tab from the expanded state or the \"feed\" tab\n//   so we need to help the transition out by attaching another\n//   class that indicates if the feed tab should slide out of the\n//   way smoothly, right away, or after the transition is over\nTemplate.product.setTab = function(tab) {\n  var lastTab = Session.get(TAB_KEY);\n  Session.set(TAB_KEY, tab);\n  \n  var fromProduct = (lastTab === 'product') && (tab !== 'product');\n  $('.feed-scrollable').toggleClass('instant', fromProduct);\n\n  var toProduct = (lastTab !== 'product') && (tab === 'product');\n  $('.feed-scrollable').toggleClass('delayed', toProduct);\n}\n\nTemplate.product.helpers({\n  isActiveTab: function(name) {\n    return Session.equals(TAB_KEY, name);\n  },\n  activeTabClass: function() {\n    return Session.get(TAB_KEY);\n  },\n  bookmarked: function() {\n    return true;//Meteor.user() && _.include(Meteor.user().bookmarkedRecipeNames, this.name);\n  },\n  activities: function() {\n    return Activities.find({recipeName: this.name}, {sort: {date: -1}});\n  }\n});\n\nTemplate.product.events({\n  'click .js-add-bookmark': function(event) {\n    event.preventDefault();\n\n    if (! Meteor.userId())\n      return Overlay.open('authOverlay');\n    \n    Meteor.call('bookmarkRecipe', this.name);\n  },\n\n  'click .js-remove-bookmark': function(event) {\n    event.preventDefault();\n\n    Meteor.call('unbookmarkRecipe', this.name);\n  },\n  \n  'click .js-show-product': function(event) {\n    event.stopPropagation();\n    Template.product.setTab('show')\n  },\n  \n  'click .js-show-feed': function(event) {\n    event.stopPropagation();\n    Template.product.setTab('feed')\n  },\n  \n  'click .js-uncollapse': function() {\n    Template.product.setTab('product')\n  },\n\n  'click .js-share': function() {\n    Overlay.open('shareOverlay', this);\n  }\n});\n\n\n\n\n\n \n  \n  Template.products.helpers({\n    firstName: function() {\n      return this.userName.split(' ')[0];\n    },\n    latestProducts : function()\n    {//({done: false},{order: {status: 1}, limit: 5});\n      //return Products.find({},{sort:{createdAt:-1}});\n      Loading.start();\n      var query =false;\n      if(Router.current().params.searchTerm)\n      {\n       query = RegExp.escape(Router.current().params.searchTerm)  ;\n      }\n      var result ={};\n      if (query && query != \"\")\n      {\n        result = Products.find({$or:[{producttitle:{ $regex: query, $options: 'i' },productDescription:{ $regex: query, $options: 'i' }}]},{sort:{createdAt:-1}});    \n  \n\n      }\n      else\n      {\n        result = Products.find({},{sort:{createdAt:-1}});\n    \n      }\n      Loading.stop();\n      return result;\n    },\n    homeProducts : function()\n    {\n      return Products.find({},{sort:{createdAt:-1},limit:4});\n    },\n    productTitle: function() {\n      return \"\";//RecipesData[this.recipeName].title;\n    },\n    path: function() {\n      return Router.path('product', { id: this._id },\n        { query: { _id: this._id } })\n    }\n  })\n\n  \n","Template.recipeItem.helpers({\n  path: function () {\n    return Router.path('recipe', this.recipe);\n  },\n  \n  highlightedClass: function () {\n    if (this.size === 'large')\n      return 'highlighted';\n  },\n  \n  bookmarkCount: function () {\n    var count = BookmarkCounts.findOne({recipeName: this.name});\n    return count && count.count;\n  }\n});","var TAB_KEY = 'recipeShowTab';\n\nTemplate.recipe.onCreated(function() {\n  if (Router.current().params.activityId)\n    Template.recipe.setTab('feed');\n  else\n    Template.recipe.setTab('recipe');\n});\n\nTemplate.recipe.onRendered(function () {\n  this.$('.recipe').touchwipe({\n    wipeDown: function () {\n      if (Session.equals(TAB_KEY, 'recipe'))\n        Template.recipe.setTab('make')\n    },\n    preventDefaultEvents: false\n  });\n  this.$('.attribution-recipe').touchwipe({\n    wipeUp: function () {\n      if (! Session.equals(TAB_KEY, 'recipe'))\n        Template.recipe.setTab('recipe')\n    },\n    preventDefaultEvents: false\n  });\n});\n\n// CSS transitions can't tell the difference between e.g. reaching\n//   the \"make\" tab from the expanded state or the \"feed\" tab\n//   so we need to help the transition out by attaching another\n//   class that indicates if the feed tab should slide out of the\n//   way smoothly, right away, or after the transition is over\nTemplate.recipe.setTab = function(tab) {\n  var lastTab = Session.get(TAB_KEY);\n  Session.set(TAB_KEY, tab);\n  \n  var fromRecipe = (lastTab === 'recipe') && (tab !== 'recipe');\n  $('.feed-scrollable').toggleClass('instant', fromRecipe);\n\n  var toRecipe = (lastTab !== 'recipe') && (tab === 'recipe');\n  $('.feed-scrollable').toggleClass('delayed', toRecipe);\n}\n\nTemplate.recipe.helpers({\n  isActiveTab: function(name) {\n    return Session.equals(TAB_KEY, name);\n  },\n  activeTabClass: function() {\n    return Session.get(TAB_KEY);\n  },\n  bookmarked: function() {\n    return Meteor.user() && _.include(Meteor.user().bookmarkedRecipeNames, this.name);\n  },\n  activities: function() {\n    return Activities.find({recipeName: this.name}, {sort: {date: -1}});\n  }\n});\n\nTemplate.recipe.events({\n  'click .js-add-bookmark': function(event) {\n    event.preventDefault();\n\n    if (! Meteor.userId())\n      return Overlay.open('authOverlay');\n    \n    Meteor.call('bookmarkRecipe', this.name);\n  },\n\n  'click .js-remove-bookmark': function(event) {\n    event.preventDefault();\n\n    Meteor.call('unbookmarkRecipe', this.name);\n  },\n  \n  'click .js-show-recipe': function(event) {\n    event.stopPropagation();\n    Template.recipe.setTab('make')\n  },\n  \n  'click .js-show-feed': function(event) {\n    event.stopPropagation();\n    Template.recipe.setTab('feed')\n  },\n  \n  'click .js-uncollapse': function() {\n    Template.recipe.setTab('recipe')\n  },\n\n  'click .js-share': function() {\n    Overlay.open('shareOverlay', this);\n  }\n});\n","Template.QuickSearch.helpers({ \n    create: function() { \n         \n    }, \n    rendered: function() { \n         \n    }, \n    destroyed: function() { \n         \n    }, \n}); \n\nTemplate.QuickSearch.events({ \n    'click #btnQSearch': function(event, template) { \n        console.log(\"Searching Quick\");\n        // debugger;\n        var searchValue = template.$('#searchTerm')[0].value;\n        \n        //alert(searchValue);\n        Router.route('pathfor products');\n        }\n    });","\n\nTemplate.SellerProducts_tmp.helpers({\n  'myProducts':function(){\n    console.log(\"This sellers products:\" + Meteor.userId());\n\n    Loading.call(\"getSellerProducts\", [], [], [], function (error, result){\n      if (error)\n      {\n        console.log(\"Error getting seller products \" + error) ;\n      }\n      else\n      {\n        // console.log(\"Got it\");\n        // console.log(result);\n        Session.set(\"SellerProducts\",result);\n      }\n    });\n    \n    \n    return Session.get(\"SellerProducts\");\n  }\n})\n\nTemplate.Seller_tmp.helpers({\n   \n    amISeller: function() {\n      if (Meteor.userId())\n\n      {\n    \n        console.log(\" Client Checking  for seller : \" + Meteor.userId());\n        Meteor.subscribe('getSeller',Meteor.userId());\n         \n        var result =  {\n          _id:\"\",\n           userId:Meteor.userId(),\n           businessname : \"\",\n           busTagLine: \"\",\n           busLogo: \"\",\n           busAvatar: \"\",\n           bustel: \"\",\n           buscel: \"\",\n           busemail: \"\",\n           cont1 : \"\",\n           cont2 : \"\",\n           add1: \"\",\n           add2: \"\",\n           add3: \"\",\n           add4: \"\",\n           add5: \"\",\n           website: \"\"\n          };\n        if (Sellers.find({userId:Meteor.userId()}).count() === 0)\n        {\n          console.log(\"Seller not found\");\n        }        \n        else\n        {\n          result = Sellers.findOne({userId:Meteor.userId()});          \n        }  \n       return result;\n         \n      }\n        \n        \n    },\n    \n});\n\nTemplate.seller.onRendered(function() {\n  console.log(\"Create Seller template\");\n  \n \n \n  \n \n  });\n\n  Template.tmp_product_sell.onRendered(function(){\n   \n     \n  });\n\n  Template.tmp_product_sell.events({\n    'change .prodImg' :function (event,template)\n    {     \n      event.preventDefault();\n      \n      var fr=new FileReader();   \n      document.getElementById('prdImages').innerHTML = \"\";\n \n      var fileCount = event.currentTarget.files.length;\n      \n      if (fileCount > 5)\n      {\n        alert('Oh No Too Many files , please select 5 or less');\n        event.currentTarget  =\"\";        \n        return false;\n      }\n      var isToBig = false;\n      var uploadSize =0;\n      for (i=0 ; i < fileCount ; i++)\n      {\n        console.log(\"Processing files \" + event.currentTarget.files[i].name);\n         //document.querySelector('imgProgress').outerHTML=\"<span>Processing file \"+ event.currentTarget.files[i].name +\"</span>\";\n         HandleClientImageFile(event.currentTarget.files[i],\"prdImages\");\n        //  if (event.currentTarget.files[i].size < 2000000)\n        //   {\n        //     HandleClientImageFile(event.currentTarget.files[i],\"prdImages\");\n        //     uploadSize=+event.currentTarget.files[i].size;        \n        //   }\n        //   else\n        //   {\n        //     isToBig = true;\n        //   }\n      }\n\n      // if (isToBig)\n      // {\n      //   alert('Some files have been removed , as they exceed the 2MB limit.');\n      // }\n     // document.querySelector('imgProgress').outerHTML=\"<span>Processing Complete. Payload size \"+ uploadSize +\"</span>\";\n      \n     event.currentTarget  = \"\";\n     //event.currentTarget.setAttribute(\"multiple\",\"multiple\");\n     //event.currentTarget.setAttribute(\"class\",\"fileUpload\");              \n    }\n  });\n\nTemplate.seller.events({\n   \n    'change .imgBuLogo' :function (event,template)\n    { \n     event.preventDefault();     \n        console.log('Add Seller BusLogo Upload');\n        Loading.start();\n      \n      var fr=new FileReader();        \n      fr.onload=function(event){\n              \n              var data=event.target.result;      \n              template.$('.imgBusLogo')[0].src = data;    \n      }      \n      fr.readAsDataURL(event.currentTarget.files[0]);  \n      \n      Loading.stop();\n    },\n    'change .imgAvatar' :function (event,template)\n    { \n      event.preventDefault();        \n      \n      var fr=new FileReader();        \n      fr.onload=function(event){\n              var data=event.target.result;                            \n              template.$('.imgBusAvatar')[0].src = data;          \n      }\n      if (event.currentTarget.files[0].size < 2000000)\n      {\n       fr.readAsDataURL(event.currentTarget.files[0]);          \n      }\n      else\n      {\n        template.$('.imgBusAvatar')[0].src = \"/img/app/big.jpg\";  \n      }  \n    },\n    'submit .add_Seller_form' :function (event,template)\n    {       \n      \n      event.preventDefault();\n       target = event.target;\n      //'seller.add'(excel) { \n        Loading.start();\n         businessname = target.businessname.value;\n         busTagLine= target.businesstagLine.value;\n         busLogo= target.imgBusLogo.src;\n         //busAvatar= target.imgBusAvatar.src;\n         bustel= target.bustell.value;\n         buscel= target.buscell.value;\n         busemail= target.busemail.value;\n         cont1 = target.person1.value;\n         cont2 = target.person2.value;\n         add1= target.add1.value;\n         add2= target.add2.value;\n         add3= target.add3.value;\n         add4= target.add4.value;\n         add5= target.add5.value;\n         website= target.website.value;\n\n\n         var busLogoFile = target.fileLogo.files;\n         var randLogoId = Random.id();\n         var buslogImdId = Random.id();      \n      \n         if (busLogoFile.length > 0)\n         {\n          var BuslogoImg = new FS.File(busLogoFile[0]);\n           \n            BuslogoImg.sellerId = Meteor.userId();\n            BuslogoImg.ImageCat = \"SellerDetails\";\n            BuslogoImg.ImageType = \"BusLogo\";\n            BuslogoImg.ImageId = randLogoId;\n            try {\n              Images.insert(BuslogoImg, function (err, fileObj) {\n                if (err)\n                {\n             \n                }\n                // Inserted new doc with ID fileObj._id, and kicked off the data upload using HTTP\n              });      \n              \n            } catch (error) {\n              \n            }\n              \n           \n         }\n        \n       \n       createDate = Date.now().toLocaleString();\n\n      if (target.currentuser === null)\n      {\n          alert('You must be logged in to be a seller');\n          return false;\n      }\n     \n      var SellerObj = {\n          //_id:this._id,\n           userId:Meteor.userId(),\n           businessname : target.businessname.value,\n           busTagLine: target.businesstagLine.value,\n           busLogo: randLogoId,\n           //busAvatar: randAvaId,\n           bustel: target.bustell.value,\n           buscel: target.buscell.value,\n           busemail: target.busemail.value,\n           cont1 : target.person1.value,\n           cont2 : target.person2.value,\n           add1: target.add1.value,\n           add2: target.add2.value,\n           add3: target.add3.value,\n           add4: target.add4.value,\n           add5: target.add5.value,\n           website: target.website.value\n\n      }\n\n     // Loading.start();\n      \n  var result =  Meteor.call(\n    'newSeller',\n    SellerObj,\n    (err) =>\n            {\n                if (err)\n                {\n                    console.log(err);\n                    alert('OOps something went wrong adding new seller, please retry .');\n                }\n                else\n                {\n                    //clean up form   \n                    try\n                    {\n                    \n                    }\n                    catch (exp)\n                    {\n                        console.log(exp);\n                    }\n                }\n            });\n\n            Loading.stop();\n  \n  }\n});\n\n \n\n \n\n\n\n  \n  function HandleClientImageFile(file,targetElement)\n  {\n    var preview = document.querySelector(\"#\" + targetElement);\n    var fr = new FileReader();\n   \n    //insertImg.name=\"imgprds\";\n  \n    if (file.name === null)\n    {\n      return null;\n    }\n  \n     \n    fr.onload =function(event)\n    {\n      var data = event.target.result;\n      var insertImg = new Image();\n      insertImg.id = \"prdImages\";\n      //insertImg.style =\"height=100%;width=100%\"; \n      insertImg.className=\"prdImages img-responsive\";    \n      insertImg.src = data;\n     \n      \n\n      var image = new Image();\n      var compressedImage = new Image();\n      image.onload = function() {\n        var canvas = document.createElement(\"canvas\");\n        canvas.width = insertImg.naturalWidth;       \n        canvas.height = insertImg.naturalHeight;        \n       var ctx = canvas.getContext(\"2d\").drawImage(insertImg, 0, 0);//,insertImg.naturalWidth,insertImg.naturalHeight, 0, 0,insertImg.naturalWidth,insertImg.naturalHeight);\n       compressedImage.width =  insertImg.naturalWidth;\n       compressedImage.height = insertImg.naturalHeight;\n        var compressValue = 1/100;\n       switch(true) {\n        case (file.size < 400000):\n            compressValue = 100/100;\n            break;\n        case (file.size < 800000):\n            compressValue = 80/100;\n            break;\n        case (file.size < 2000000):\n            compressValue = 60/100;\n            break;\n        case (file.size < 4000000):\n            compressValue = 40/100;\n            break;    \n        case (file.size < 6000000):\n            compressValue = 20/100;\n            break;     \n        default:\n        compressValue = 10/100;\n        break;     \n    }\n\n       compressedImage = canvas.toDataURL(\"image/jpeg\", compressValue);\n       var newImg  = new Image(); \n        //newImg.height =1000;\n        newImg.id = \"prdImages\";\n        newImg.src = compressedImage;\n        newImg.className=\"prdImages img-responsive\"; \n        preview.appendChild(newImg); \n      };\n      image.src = data;\n\n \n\n       \n      //var compImage = compressImage(image,40,\"jpg\");\n      \n      //insertImg.src = data;    \n      //preview.appendChild(insertImg);    \n      \n\n    }\n  \n    fr.readAsDataURL(file);\n     \n    \n  }\n\n  function compressImage(source_img_obj, quality, output_format){\n             \n    var mime_type = \"image/jpeg\";\n    if(typeof output_format !== \"undefined\" && output_format==\"png\"){\n       mime_type = \"image/png\";\n    }\n    \n\n    var cvs = document.createElement('canvas');\n    cvs.style.width = source_img_obj.naturalWidth;\n    cvs.style.height = source_img_obj.naturalHeight;\n \n    //ctx.drawImage(img,0,0,img.width,img.height,0,0,400,300);\n    var ctx = cvs.getContext(\"2d\").drawImage(source_img_obj, 0, 0,source_img_obj.naturalHeight,source_img_obj.naturalWidth, 0, 0,source_img_obj.naturalHeight,source_img_obj.naturalWidth);\n    var newImageData = cvs.toDataURL(mime_type, quality/100);\n    var result_image_obj = new Image();\n    result_image_obj.src = newImageData;\n    result_image_obj.style.height = source_img_obj.naturalWidth;\n    result_image_obj.style.width = source_img_obj.naturalHeight;\n\n    return result_image_obj; \n}\n\n  function HandleClientImageData(file,targetElement)\n  {\n    var preview = document.querySelector(\"#\" + targetElement);\n     \n \n    //insertImg.name=\"imgprds\";\n  \n    if (file === null)\n    {\n      return null;\n    }\n  \n     \n    \n      var data = file;\n      var insertImg = new Image();\n      insertImg.id = \"prdImages\";\n      insertImg.style =\"height=100%;width=100%\"; \n      insertImg.className=\"prdImages img-responsive\";    \n      insertImg.src = data;    \n      preview.appendChild(insertImg);    \n    \n     \n    \n  }\n  \n  \n  \n  \n  \n  if (Meteor.isClient)\n  {\n  \n\n    \n   \n  \n  Template.tmp_product_sell.events({\n    'submit .product-link-add'(event) {\n      var thisForm = $('.product-link-add');\n      thisForm.validate();\n      event.preventDefault();\n        \n      try {\n      \n\n \n        var productImages = event.target.prodImg.files;\n        var compressedImages = $('.prdImages');\n        var prodimgId = Random.id();\n        var saveId;        \n        if (productImages.length > 0)\n        {\n          \n          for (var i =0;i < productImages.length ; i  ++)\n          {\n            var fr = new FS.File(compressedImages[i].src);\n\n             \n          \n                    Loading.start();\n                    var productImg = new FS.File(productImages[i]);\n                    fr.name = productImg.name;\n                    fr.extension = productImg.extension;\n                    fr.type = productImg.type;\n                    fr.sellerId = Meteor.userId();\n                    fr.ImageCat = \"ProductImage\";\n                    fr.ImageType = \"ProductDisplay\";\n                    fr.ImageId = prodimgId ;\n                    //template.$('.imgBusLogo')[0].src = data;    \n                    saveId = Images.insert(fr, function (err, fileObj) {\n                      // Inserted new doc with ID fileObj._id, and kicked off the data upload using HTTP\n                      });\n                      Loading.stop();\n            \n           \n            // var productImg = new FS.File(productImages[i]);\n            // // if (productImg.size() < 1000000)\n            // // {\n            //   productImg.data = compressedImages[i].src;\n            //   productImg.sellerId = Meteor.userId();\n            //   productImg.ImageCat = \"ProductImage\";\n            //   productImg.ImageType = \"ProductDisplay\";\n            //   productImg.ImageId = prodimgId ;\n\n               \n             \n\n             \n            // }\n        }  \n        }\n        \n       \n        \n      } catch (error) {\n        console.log(\"Error inserting Product Images\");\n        Loading.halt();\n      }\n     \n      var ImagesInserted = prodimgId;\n       \n  \n      //debugger;\n      \n      const target = event.target;\n      const title = target.prdTitle.value;\n      const description = target.prdDesc.value;\n      const img = ImagesInserted;\n      const price = target.prdprice.value;\n      const prdCat = target.prdCat.value;\n      const createDate =  new Date();\n      const expireValue = target.prdExpire.value;\n      const expireDate = new Date();\n      \n       \n      console.log(description);\n  \n   \n        var timetoadd = ReferenceData.findOne({name:\"addTime\",id:expireValue}).timetoadd;\n    \n        var expDate = new Date();//Date.parse(expDate.format());// moment().add(timetoadd,'days');\n        var myExpDate =new Date();// Date.parse(expDate.format());\n  \n        var prodObj =\n        {\n          sellerId:Meteor.userId(),\n          producttitle:title,    \n          productDescription:description,\n          price:price,\n          prdCat:prdCat,\n          prodImg : img,\n          createdAt:createDate,\n          expireAt : new Date(myExpDate) \n        }\n       \n       // Here we need to get the images that have been selected to be uploaded to the server\n        \n      \n  \n        try {\n          Loading.call(\"products.insert\", prodObj, [], [], function (error, result){\n            if (error)\n            {\n              alert('Something went wrong. Please try again.')\n            }\n            else\n            {\n              //clear form.\n            }\n          });\n                   \n        } catch (error) {\n          console.log(\"Error Inserting product\");\n  \n          \n        }\n        \n   \n   \n      \n  \n    }\n  });\n  \n  }","var TWEETING_KEY = 'shareOverlayTweeting';\nvar IMAGE_KEY = 'shareOverlayAttachedImage';\n\nTemplate.shareOverlay.onCreated(function() {\n  Session.set(TWEETING_KEY, true);\n  Session.set(IMAGE_KEY, null);\n});\n\nTemplate.shareOverlay.helpers({\n  attachedImage: function() {\n    return Session.get(IMAGE_KEY);\n  },\n  \n  avatar: function() {\n    return Meteor.user().services.twitter.profile_image_url_https;\n  },\n  \n  tweeting: function() {\n    return Session.get(TWEETING_KEY);\n  }\n});\n\nTemplate.shareOverlay.events({\n  'click .js-attach-image': function() {\n    MeteorCamera.getPicture({width: 320}, function(error, data) {\n      if (error)\n        alert(error.reason);\n      else\n        Session.set(IMAGE_KEY, data);\n    });\n  },\n  \n  'click .js-unattach-image': function() {\n    Session.set(IMAGE_KEY, null);\n  },\n  \n  'change [name=tweeting]': function(event) {\n    Session.set(TWEETING_KEY, $(event.target).is(':checked'));\n  },\n  \n  'submit': function(event, template) {\n    var self = this;\n\n    event.preventDefault();\n    \n    var text = $(event.target).find('[name=text]').val();\n    var tweet = Session.get(TWEETING_KEY);\n    \n    Meteor.call('createActivity', {\n      recipeName: self.name,\n      text: text,\n      image: Session.get(IMAGE_KEY)\n    }, tweet, Geolocation.currentLocation(), function(error, result) {\n      if (error) {\n        alert(error.reason);\n      } else {\n        Template.appBody.addNotification({\n          action: 'View',\n          title: 'Your photo was shared.',\n          callback: function() {\n            Router.go('recipe', { name: self.name }, \n              { query: { activityId: result } });\n\n            Template.recipe.setTab('feed');\n          }\n        });\n      }\n    });\n\n    Overlay.close();\n  }\n});\n","Template.showImage.helpers({\n    getSellerImage: function(imgid) { \n        //console.log(\"Getting Seller images : \" + imgid);\n        var img = Images.findOne({ImageId:imgid});\n        \n        //console.log(img.getFileRecord().collection.storesLookup.images.path);\n        \n        return img;\n         \n    },\n    \n    getProdCardImage:function(imgId){\n        return Images.find({ImageId:imgId},{limit:1});\n    },\n    getCarouselCardImage:function(imgId){\n        return Images.find({ImageId:imgId});\n    },\n});","Template.ticker.helpers({ \n    create: function() { \n        \n    }, \n    rendered: function() { \n        // debugger;\n        // EthTools.ticker.start();\n    }, \n    destroyed: function() { \n        EthTools.ticker.stop();\n    }, \n    getAllTickers:function()\n    {\n    \n        //EthTools.ticker.start();\n        // var results = EthTools.ticker.find().fetch();\n        // for (var i in results)\n        // {\n        //     console.log(i + \" : \" + results[i]);\n        // }\n        //return null;\n    }\n}); \n\n \n","Template.feed.helpers({\n  activities: function() {\n    return Activities.find({}, {sort: {date: -1}});\n  },\n  ready: function() {\n    return Router.current().feedSubscription.ready();\n  }\n})","/*!\n * JIC JavaScript Library v2.0.2\n * https://github.com/brunobar79/J-I-C/\n *\n * Copyright 2016, Bruno Barbieri\n * Dual licensed under the MIT or GPL Version 2 licenses.\n *\n * Date: Tue Jul 11 13:13:03 2016 -0400\n */\n\n\n\n/**\n * Create the jic object.\n * @constructor\n */\n\nvar jic = {\n        /**\n         * Receives an Image Object (can be JPG OR PNG) and returns a new Image Object compressed\n         * @param {Image} source_img_obj The source Image Object\n         * @param {Integer} quality The output quality of Image Object\n         * @param {String} output format. Possible values are jpg and png\n         * @return {Image} result_image_obj The compressed Image Object\n         */\n\n        compress: function(source_img_obj, quality, output_format){\n             \n             var mime_type = \"image/jpeg\";\n             if(typeof output_format !== \"undefined\" && output_format==\"png\"){\n                mime_type = \"image/png\";\n             }\n             \n\n             var cvs = document.createElement('canvas');\n             cvs.width = source_img_obj.naturalWidth;\n             cvs.height = source_img_obj.naturalHeight;\n             var ctx = cvs.getContext(\"2d\").drawImage(source_img_obj, 0, 0);\n             var newImageData = cvs.toDataURL(mime_type, quality/100);\n             var result_image_obj = new Image();\n             result_image_obj.src = newImageData;\n             return result_image_obj;\n        },\n\n        /**\n         * Receives an Image Object and upload it to the server via ajax\n         * @param {Image} compressed_img_obj The Compressed Image Object\n         * @param {String} The server side url to send the POST request\n         * @param {String} file_input_name The name of the input that the server will receive with the file\n         * @param {String} filename The name of the file that will be sent to the server\n         * @param {function} successCallback The callback to trigger when the upload is succesful.\n         * @param {function} (OPTIONAL) errorCallback The callback to trigger when the upload failed.\n\t     * @param {function} (OPTIONAL) duringCallback The callback called to be notified about the image's upload progress.\n\t     * @param {Object} (OPTIONAL) customHeaders An object representing key-value  properties to inject to the request header.\n         */\n\n        upload: function(compressed_img_obj, upload_url, file_input_name, filename, successCallback, errorCallback, duringCallback, customHeaders){\n\n            //ADD sendAsBinary compatibilty to older browsers\n            if (XMLHttpRequest.prototype.sendAsBinary === undefined) {\n                XMLHttpRequest.prototype.sendAsBinary = function(string) {\n                    var bytes = Array.prototype.map.call(string, function(c) {\n                        return c.charCodeAt(0) & 0xff;\n                    });\n                    this.send(new Uint8Array(bytes).buffer);\n                };\n            }\n\n            var type = \"image/jpeg\";\n            if(filename.substr(-4).toLowerCase()==\".png\"){\n                type = \"image/png\";\n            }\n\n            var data = compressed_img_obj.src;\n            data = data.replace('data:' + type + ';base64,', '');\n            \n            var xhr = new XMLHttpRequest();\n            xhr.open('POST', upload_url, true);\n            var boundary = 'someboundary';\n\n            xhr.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);\n\t\t\n\t\t// Set custom request headers if customHeaders parameter is provided\n\t\tif (customHeaders && typeof customHeaders === \"object\") {\n\t\t\tfor (var headerKey in customHeaders){\n\t\t\t\txhr.setRequestHeader(headerKey, customHeaders[headerKey]);\n\t\t\t}\n\t\t}\n\t\t\n\t\t// If a duringCallback function is set as a parameter, call that to notify about the upload progress\n\t\tif (duringCallback && duringCallback instanceof Function) {\n\t\t\txhr.upload.onprogress = function (evt) {\n\t\t\t\tif (evt.lengthComputable) {  \n\t\t\t\t\tduringCallback ((evt.loaded / evt.total)*100);  \n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\t\n            xhr.sendAsBinary(['--' + boundary, 'Content-Disposition: form-data; name=\"' + file_input_name + '\"; filename=\"' + filename + '\"', 'Content-Type: ' + type, '', atob(data), '--' + boundary + '--'].join('\\r\\n'));\n            \n            xhr.onreadystatechange = function() {\n\t\t\tif (this.readyState == 4){\n\t\t\t\tif (this.status == 200) {\n\t\t\t\t\tsuccessCallback(this.responseText);\n\t\t\t\t}else if (this.status >= 400) {\n\t\t\t\t\tif (errorCallback &&  errorCallback instanceof Function) {\n\t\t\t\t\t\terrorCallback(this.responseText);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n            };\n\n\n        }\n};\n","if (Meteor.isClient) {\n    \n    //const compress = require('compress.js');\n    RegExp.escape = function(s) {  \n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n      };\n    \n}","!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"/dists/\",t(t.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){\"use strict\";(function(e){function t(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=r?document.querySelector(e):Array.from(document.querySelectorAll(e));return Array.isArray(o)?o.forEach(function(e){n(e,t,function(e){(0,i.default)(e,p,{rate:a.rate,dimension:a.dimen})})}):n(o,t,function(e){(0,i.default)(e,p,{rate:a.rate,dimension:a.dimen})}),o}function n(e,t,n){e.addEventListener(t,function(e){e.preventDefault(),e.stopPropagation(),n(e)})}function r(e){e.preventDefault(),e.stopPropagation();var t=m=m||document.createElement(\"a\");t.download=a.imagePrefix+a.name.replace(/\\..+/,\"\"),t.href=s[0],t.click()}var o={rate:50,imagePrefix:\"compressed-\",name:\"image\"},a=Object.assign({},o,e),f=[],s=[],d=(a.inputSelector&&t(a.inputSelector,\"change\"),a.dropSelector?t(a.dropSelector,\"drop\"):null);!function(e){e&&(e.addEventListener(\"dragenter\",function(e){e.preventDefault(),console.log(\"drag entered\")}),e.addEventListener(\"dragover\",function(e){e.preventDefault(),console.log(\"drag entered\")}),e.addEventListener(\"dragleave\",function(e){e.preventDefault(),console.log(\"drag entered\")}))}(d);a.rateSelector&&function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=r?document.querySelector(e):Array.from(document.querySelectorAll(e));Array.isArray(o)?o.forEach(function(e){n(e,t,function(e){a.rate=parseInt(e.target.value),p.emit(\"startCompression\",f,p,{rate:a.rate,dimension:a.dimen})})}):n(o,t,function(e){a.rate=parseInt(e.target.value),p.emit(\"startCompression\",f,p,{rate:a.rate,dimension:a.dimen})})}(a.rateSelector,\"change\");(a.downloadSelector?document.querySelector(a.downloadSelector):null).addEventListener(\"click\",r);var m=null,p=new u.default;return p.on(\"startCompression\",l.default),p.on(\"saveFileUrl\",function(e){f=e}),p.on(\"ImageCreated\",function(e){var t=e.map(function(e){return(0,c.compress)(e,a.rate)});p.emit(\"compressed\",t)}),p.on(\"compressed\",function(e){a.imageSelector&&(document.querySelector(a.imageSelector).src=e[0]),s=e}),{options:a,on:function(e,t){p.on(e,t)}}}var o=n(3),i=t(o),a=n(4),u=t(a),c=n(5),l=t(c);e.Compress=r}).call(t,n(2))},function(e,t,n){\"use strict\";var r,o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r=function(){return this}();try{r=r||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"===(\"undefined\"==typeof window?\"undefined\":o(window))&&(r=window)}e.exports=r},function(e,t,n){\"use strict\";function r(e,t){var n=Array.from(e.target.files||e.dataTransfer.files),r=e.target.files?\"changed\":\"dropped\";return t.emit(r,n),n}function o(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=new FileReader,a=0,u=[];i.onload=function(){a--,u.push(i.result),0===a&&(t.emit(\"saveFileUrl\",u),t.emit.apply(t,[\"startCompression\",u,t].concat(r)))},e.forEach(function(e){a++,i.readAsDataURL(e)})}Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];o.apply(void 0,[r(e,t),t].concat(i))}},function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this._events={}}return o(e,[{key:\"on\",value:function(e,t){var n=this._events;n[e]=n[e]||[],n[e].push(t)}},{key:\"emit\",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=this._events;if(!(e in o))return!1;o[e].forEach(function(e){return e.apply(void 0,n)})}}]),e}();t.default=i},function(e,t,n){\"use strict\";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[];return e.map(function(e){var o=new Image;o.src=e,o.onload=function(){r.push({img:o,dimension:Object.assign({},{width:o.width,height:o.height},n)}),t.emit(\"ImageCreated\",r)}})}function o(e,t){var n=a.getContext(\"2d\");return a.width=e.dimension.width,a.height=e.dimension.height,n.drawImage(e.img,0,0,e.dimension.width,e.dimension.height),a.toDataURL(\"image/jpeg\",t/100)}function i(e,t,n){var o=n.dimension;t.emit(\"compressing\"),r(e,t,o)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.compress=o,t.default=i;var a=document.createElement(\"canvas\")}]);"," if (Meteor.isClient) {\n    \n    //const compress = require('compress.js');\n   \n}\n\n ","/**\n * jQuery Plugin to obtain touch gestures from iPhone, iPod Touch and iPad, should also work with Android mobile phones (not tested yet!)\n * Common usage: wipe images (left and right to show the previous or next image)\n * \n * @author Andreas Waltl, netCU Internetagentur (http://www.netcu.de)\n * @version 1.1.1 (9th December 2010) - fix bug (older IE's had problems)\n * @version 1.1 (1st September 2010) - support wipe up and wipe down\n * @version 1.0 (15th July 2010)\n */\n(function($) { \n   $.fn.touchwipe = function(settings) {\n     var config = {\n    \t\tmin_move_x: 20,\n    \t\tmin_move_y: 20,\n \t\t\twipeLeft: function() { },\n \t\t\twipeRight: function() { },\n \t\t\twipeUp: function() { },\n \t\t\twipeDown: function() { },\n\t\t\tpreventDefaultEvents: true\n\t };\n     \n     if (settings) $.extend(config, settings);\n \n     this.each(function() {\n    \t var startX;\n    \t var startY;\n\t\t var isMoving = false;\n\n    \t function cancelTouch() {\n    \t\t this.removeEventListener('touchmove', onTouchMove);\n    \t\t startX = null;\n    \t\t isMoving = false;\n    \t }\t\n    \t \n    \t function onTouchMove(e) {\n    \t\t if(config.preventDefaultEvents) {\n    \t\t\t e.preventDefault();\n    \t\t }\n    \t\t if(isMoving) {\n\t    \t\t var x = e.touches[0].pageX;\n\t    \t\t var y = e.touches[0].pageY;\n\t    \t\t var dx = startX - x;\n\t    \t\t var dy = startY - y;\n\t    \t\t if(Math.abs(dx) >= config.min_move_x) {\n\t    \t\t\tcancelTouch();\n\t    \t\t\tif(dx > 0) {\n\t    \t\t\t\tconfig.wipeLeft();\n\t    \t\t\t}\n\t    \t\t\telse {\n\t    \t\t\t\tconfig.wipeRight();\n\t    \t\t\t}\n\t    \t\t }\n\t    \t\t else if(Math.abs(dy) >= config.min_move_y) {\n\t\t    \t\t\tcancelTouch();\n\t\t    \t\t\tif(dy > 0) {\n\t\t    \t\t\t\tconfig.wipeDown();\n\t\t    \t\t\t}\n\t\t    \t\t\telse {\n\t\t    \t\t\t\tconfig.wipeUp();\n\t\t    \t\t\t}\n\t\t    \t\t }\n    \t\t }\n    \t }\n    \t \n    \t function onTouchStart(e)\n    \t {\n    \t\t if (e.touches.length == 1) {\n    \t\t\t startX = e.touches[0].pageX;\n    \t\t\t startY = e.touches[0].pageY;\n    \t\t\t isMoving = true;\n    \t\t\t this.addEventListener('touchmove', onTouchMove, false);\n    \t\t }\n    \t }    \t \n    \t if ('ontouchstart' in document.documentElement) {\n    \t\t this.addEventListener('touchstart', onTouchStart, false);\n    \t }\n     });\n \n     return this;\n   };\n \n })(jQuery);\n","/*!\n * jQuery Validation Plugin 1.11.1\n *\n * http://bassistance.de/jquery-plugins/jquery-plugin-validation/\n * http://docs.jquery.com/Plugins/Validation\n *\n * Copyright 2013 JÃ¶rn Zaefferer\n * Released under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n */\n\n(function($) {\n    \n    $.extend($.fn, {\n        // http://docs.jquery.com/Plugins/Validation/validate\n        validate: function( options ) {\n    \n            // if nothing is selected, return nothing; can't chain anyway\n            if ( !this.length ) {\n                if ( options && options.debug && window.console ) {\n                    console.warn( \"Nothing selected, can't validate, returning nothing.\" );\n                }\n                return;\n            }\n    \n            // check if a validator for this form was already created\n            var validator = $.data( this[0], \"validator\" );\n            if ( validator ) {\n                return validator;\n            }\n    \n            // Add novalidate tag if HTML5.\n            this.attr( \"novalidate\", \"novalidate\" );\n    \n            validator = new $.validator( options, this[0] );\n            $.data( this[0], \"validator\", validator );\n    \n            if ( validator.settings.onsubmit ) {\n    \n                this.validateDelegate( \":submit\", \"click\", function( event ) {\n                    if ( validator.settings.submitHandler ) {\n                        validator.submitButton = event.target;\n                    }\n                    // allow suppressing validation by adding a cancel class to the submit button\n                    if ( $(event.target).hasClass(\"cancel\") ) {\n                        validator.cancelSubmit = true;\n                    }\n    \n                    // allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n                    if ( $(event.target).attr(\"formnovalidate\") !== undefined ) {\n                        validator.cancelSubmit = true;\n                    }\n                });\n    \n                // validate the form on submit\n                this.submit( function( event ) {\n                    if ( validator.settings.debug ) {\n                        // prevent form submit to be able to see console output\n                        event.preventDefault();\n                    }\n                    function handle() {\n                        var hidden;\n                        if ( validator.settings.submitHandler ) {\n                            if ( validator.submitButton ) {\n                                // insert a hidden input as a replacement for the missing submit button\n                                hidden = $(\"<input type='hidden'/>\").attr(\"name\", validator.submitButton.name).val( $(validator.submitButton).val() ).appendTo(validator.currentForm);\n                            }\n                            validator.settings.submitHandler.call( validator, validator.currentForm, event );\n                            if ( validator.submitButton ) {\n                                // and clean up afterwards; thanks to no-block-scope, hidden can be referenced\n                                hidden.remove();\n                            }\n                            return false;\n                        }\n                        return true;\n                    }\n    \n                    // prevent submit for invalid forms or custom submit handlers\n                    if ( validator.cancelSubmit ) {\n                        validator.cancelSubmit = false;\n                        return handle();\n                    }\n                    if ( validator.form() ) {\n                        if ( validator.pendingRequest ) {\n                            validator.formSubmitted = true;\n                            return false;\n                        }\n                        return handle();\n                    } else {\n                        validator.focusInvalid();\n                        return false;\n                    }\n                });\n            }\n    \n            return validator;\n        },\n        // http://docs.jquery.com/Plugins/Validation/valid\n        valid: function() {\n            if ( $(this[0]).is(\"form\")) {\n                return this.validate().form();\n            } else {\n                var valid = true;\n                var validator = $(this[0].form).validate();\n                this.each(function() {\n                    valid = valid && validator.element(this);\n                });\n                return valid;\n            }\n        },\n        // attributes: space seperated list of attributes to retrieve and remove\n        removeAttrs: function( attributes ) {\n            var result = {},\n                $element = this;\n            $.each(attributes.split(/\\s/), function( index, value ) {\n                result[value] = $element.attr(value);\n                $element.removeAttr(value);\n            });\n            return result;\n        },\n        // http://docs.jquery.com/Plugins/Validation/rules\n        rules: function( command, argument ) {\n            var element = this[0];\n    \n            if ( command ) {\n                var settings = $.data(element.form, \"validator\").settings;\n                var staticRules = settings.rules;\n                var existingRules = $.validator.staticRules(element);\n                switch(command) {\n                case \"add\":\n                    $.extend(existingRules, $.validator.normalizeRule(argument));\n                    // remove messages from rules, but allow them to be set separetely\n                    delete existingRules.messages;\n                    staticRules[element.name] = existingRules;\n                    if ( argument.messages ) {\n                        settings.messages[element.name] = $.extend( settings.messages[element.name], argument.messages );\n                    }\n                    break;\n                case \"remove\":\n                    if ( !argument ) {\n                        delete staticRules[element.name];\n                        return existingRules;\n                    }\n                    var filtered = {};\n                    $.each(argument.split(/\\s/), function( index, method ) {\n                        filtered[method] = existingRules[method];\n                        delete existingRules[method];\n                    });\n                    return filtered;\n                }\n            }\n    \n            var data = $.validator.normalizeRules(\n            $.extend(\n                {},\n                $.validator.classRules(element),\n                $.validator.attributeRules(element),\n                $.validator.dataRules(element),\n                $.validator.staticRules(element)\n            ), element);\n    \n            // make sure required is at front\n            if ( data.required ) {\n                var param = data.required;\n                delete data.required;\n                data = $.extend({required: param}, data);\n            }\n    \n            return data;\n        }\n    });\n    \n    // Custom selectors\n    $.extend($.expr[\":\"], {\n        // http://docs.jquery.com/Plugins/Validation/blank\n        blank: function( a ) { return !$.trim(\"\" + $(a).val()); },\n        // http://docs.jquery.com/Plugins/Validation/filled\n        filled: function( a ) { return !!$.trim(\"\" + $(a).val()); },\n        // http://docs.jquery.com/Plugins/Validation/unchecked\n        unchecked: function( a ) { return !$(a).prop(\"checked\"); }\n    });\n    \n    // constructor for validator\n    $.validator = function( options, form ) {\n        this.settings = $.extend( true, {}, $.validator.defaults, options );\n        this.currentForm = form;\n        this.init();\n    };\n    \n    $.validator.format = function( source, params ) {\n        if ( arguments.length === 1 ) {\n            return function() {\n                var args = $.makeArray(arguments);\n                args.unshift(source);\n                return $.validator.format.apply( this, args );\n            };\n        }\n        if ( arguments.length > 2 && params.constructor !== Array  ) {\n            params = $.makeArray(arguments).slice(1);\n        }\n        if ( params.constructor !== Array ) {\n            params = [ params ];\n        }\n        $.each(params, function( i, n ) {\n            source = source.replace( new RegExp(\"\\\\{\" + i + \"\\\\}\", \"g\"), function() {\n                return n;\n            });\n        });\n        return source;\n    };\n    \n    $.extend($.validator, {\n    \n        defaults: {\n            messages: {},\n            groups: {},\n            rules: {},\n            errorClass: \"error\",\n            validClass: \"valid\",\n            errorElement: \"label\",\n            focusInvalid: true,\n            errorContainer: $([]),\n            errorLabelContainer: $([]),\n            onsubmit: true,\n            ignore: \":hidden\",\n            ignoreTitle: false,\n            onfocusin: function( element, event ) {\n                this.lastActive = element;\n    \n                // hide error label and remove error class on focus if enabled\n                if ( this.settings.focusCleanup && !this.blockFocusCleanup ) {\n                    if ( this.settings.unhighlight ) {\n                        this.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\n                    }\n                    this.addWrapper(this.errorsFor(element)).hide();\n                }\n            },\n            onfocusout: function( element, event ) {\n                if ( !this.checkable(element) && (element.name in this.submitted || !this.optional(element)) ) {\n                    this.element(element);\n                }\n            },\n            onkeyup: function( element, event ) {\n                if ( event.which === 9 && this.elementValue(element) === \"\" ) {\n                    return;\n                } else if ( element.name in this.submitted || element === this.lastElement ) {\n                    this.element(element);\n                }\n            },\n            onclick: function( element, event ) {\n                // click on selects, radiobuttons and checkboxes\n                if ( element.name in this.submitted ) {\n                    this.element(element);\n                }\n                // or option elements, check parent select in that case\n                else if ( element.parentNode.name in this.submitted ) {\n                    this.element(element.parentNode);\n                }\n            },\n            highlight: function( element, errorClass, validClass ) {\n                if ( element.type === \"radio\" ) {\n                    this.findByName(element.name).addClass(errorClass).removeClass(validClass);\n                } else {\n                    $(element).addClass(errorClass).removeClass(validClass);\n                }\n            },\n            unhighlight: function( element, errorClass, validClass ) {\n                if ( element.type === \"radio\" ) {\n                    this.findByName(element.name).removeClass(errorClass).addClass(validClass);\n                } else {\n                    $(element).removeClass(errorClass).addClass(validClass);\n                }\n            }\n        },\n    \n        // http://docs.jquery.com/Plugins/Validation/Validator/setDefaults\n        setDefaults: function( settings ) {\n            $.extend( $.validator.defaults, settings );\n        },\n    \n        messages: {\n            required: \"This field is required.\",\n            remote: \"Please fix this field.\",\n            email: \"Please enter a valid email address.\",\n            url: \"Please enter a valid URL.\",\n            date: \"Please enter a valid date.\",\n            dateISO: \"Please enter a valid date (ISO).\",\n            number: \"Please enter a valid number.\",\n            digits: \"Please enter only digits.\",\n            creditcard: \"Please enter a valid credit card number.\",\n            equalTo: \"Please enter the same value again.\",\n            maxlength: $.validator.format(\"Please enter no more than {0} characters.\"),\n            minlength: $.validator.format(\"Please enter at least {0} characters.\"),\n            rangelength: $.validator.format(\"Please enter a value between {0} and {1} characters long.\"),\n            range: $.validator.format(\"Please enter a value between {0} and {1}.\"),\n            max: $.validator.format(\"Please enter a value less than or equal to {0}.\"),\n            min: $.validator.format(\"Please enter a value greater than or equal to {0}.\")\n        },\n    \n        autoCreateRanges: false,\n    \n        prototype: {\n    \n            init: function() {\n                this.labelContainer = $(this.settings.errorLabelContainer);\n                this.errorContext = this.labelContainer.length && this.labelContainer || $(this.currentForm);\n                this.containers = $(this.settings.errorContainer).add( this.settings.errorLabelContainer );\n                this.submitted = {};\n                this.valueCache = {};\n                this.pendingRequest = 0;\n                this.pending = {};\n                this.invalid = {};\n                this.reset();\n    \n                var groups = (this.groups = {});\n                $.each(this.settings.groups, function( key, value ) {\n                    if ( typeof value === \"string\" ) {\n                        value = value.split(/\\s/);\n                    }\n                    $.each(value, function( index, name ) {\n                        groups[name] = key;\n                    });\n                });\n                var rules = this.settings.rules;\n                $.each(rules, function( key, value ) {\n                    rules[key] = $.validator.normalizeRule(value);\n                });\n    \n                function delegate(event) {\n                    var validator = $.data(this[0].form, \"validator\"),\n                        eventType = \"on\" + event.type.replace(/^validate/, \"\");\n                    if ( validator.settings[eventType] ) {\n                        validator.settings[eventType].call(validator, this[0], event);\n                    }\n                }\n                $(this.currentForm)\n                    .validateDelegate(\":text, [type='password'], [type='file'], select, textarea, \" +\n                        \"[type='number'], [type='search'] ,[type='tel'], [type='url'], \" +\n                        \"[type='email'], [type='datetime'], [type='date'], [type='month'], \" +\n                        \"[type='week'], [type='time'], [type='datetime-local'], \" +\n                        \"[type='range'], [type='color'] \",\n                        \"focusin focusout keyup\", delegate)\n                    .validateDelegate(\"[type='radio'], [type='checkbox'], select, option\", \"click\", delegate);\n    \n                if ( this.settings.invalidHandler ) {\n                    $(this.currentForm).bind(\"invalid-form.validate\", this.settings.invalidHandler);\n                }\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Validator/form\n            form: function() {\n                this.checkForm();\n                $.extend(this.submitted, this.errorMap);\n                this.invalid = $.extend({}, this.errorMap);\n                if ( !this.valid() ) {\n                    $(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n                }\n                this.showErrors();\n                return this.valid();\n            },\n    \n            checkForm: function() {\n                this.prepareForm();\n                for ( var i = 0, elements = (this.currentElements = this.elements()); elements[i]; i++ ) {\n                    this.check( elements[i] );\n                }\n                return this.valid();\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Validator/element\n            element: function( element ) {\n                element = this.validationTargetFor( this.clean( element ) );\n                this.lastElement = element;\n                this.prepareElement( element );\n                this.currentElements = $(element);\n                var result = this.check( element ) !== false;\n                if ( result ) {\n                    delete this.invalid[element.name];\n                } else {\n                    this.invalid[element.name] = true;\n                }\n                if ( !this.numberOfInvalids() ) {\n                    // Hide error containers on last error\n                    this.toHide = this.toHide.add( this.containers );\n                }\n                this.showErrors();\n                return result;\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Validator/showErrors\n            showErrors: function( errors ) {\n                if ( errors ) {\n                    // add items to error list and map\n                    $.extend( this.errorMap, errors );\n                    this.errorList = [];\n                    for ( var name in errors ) {\n                        this.errorList.push({\n                            message: errors[name],\n                            element: this.findByName(name)[0]\n                        });\n                    }\n                    // remove items from success list\n                    this.successList = $.grep( this.successList, function( element ) {\n                        return !(element.name in errors);\n                    });\n                }\n                if ( this.settings.showErrors ) {\n                    this.settings.showErrors.call( this, this.errorMap, this.errorList );\n                } else {\n                    this.defaultShowErrors();\n                }\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Validator/resetForm\n            resetForm: function() {\n                if ( $.fn.resetForm ) {\n                    $(this.currentForm).resetForm();\n                }\n                this.submitted = {};\n                this.lastElement = null;\n                this.prepareForm();\n                this.hideErrors();\n                this.elements().removeClass( this.settings.errorClass ).removeData( \"previousValue\" );\n            },\n    \n            numberOfInvalids: function() {\n                return this.objectLength(this.invalid);\n            },\n    \n            objectLength: function( obj ) {\n                var count = 0;\n                for ( var i in obj ) {\n                    count++;\n                }\n                return count;\n            },\n    \n            hideErrors: function() {\n                this.addWrapper( this.toHide ).hide();\n            },\n    \n            valid: function() {\n                return this.size() === 0;\n            },\n    \n            size: function() {\n                return this.errorList.length;\n            },\n    \n            focusInvalid: function() {\n                if ( this.settings.focusInvalid ) {\n                    try {\n                        $(this.findLastActive() || this.errorList.length && this.errorList[0].element || [])\n                        .filter(\":visible\")\n                        .focus()\n                        // manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n                        .trigger(\"focusin\");\n                    } catch(e) {\n                        // ignore IE throwing errors when focusing hidden elements\n                    }\n                }\n            },\n    \n            findLastActive: function() {\n                var lastActive = this.lastActive;\n                return lastActive && $.grep(this.errorList, function( n ) {\n                    return n.element.name === lastActive.name;\n                }).length === 1 && lastActive;\n            },\n    \n            elements: function() {\n                var validator = this,\n                    rulesCache = {};\n    \n                // select all valid inputs inside the form (no submit or reset buttons)\n                return $(this.currentForm)\n                .find(\"input, select, textarea\")\n                .not(\":submit, :reset, :image, [disabled]\")\n                .not( this.settings.ignore )\n                .filter(function() {\n                    if ( !this.name && validator.settings.debug && window.console ) {\n                        console.error( \"%o has no name assigned\", this);\n                    }\n    \n                    // select only the first element for each name, and only those with rules specified\n                    if ( this.name in rulesCache || !validator.objectLength($(this).rules()) ) {\n                        return false;\n                    }\n    \n                    rulesCache[this.name] = true;\n                    return true;\n                });\n            },\n    \n            clean: function( selector ) {\n                return $(selector)[0];\n            },\n    \n            errors: function() {\n                var errorClass = this.settings.errorClass.replace(\" \", \".\");\n                return $(this.settings.errorElement + \".\" + errorClass, this.errorContext);\n            },\n    \n            reset: function() {\n                this.successList = [];\n                this.errorList = [];\n                this.errorMap = {};\n                this.toShow = $([]);\n                this.toHide = $([]);\n                this.currentElements = $([]);\n            },\n    \n            prepareForm: function() {\n                this.reset();\n                this.toHide = this.errors().add( this.containers );\n            },\n    \n            prepareElement: function( element ) {\n                this.reset();\n                this.toHide = this.errorsFor(element);\n            },\n    \n            elementValue: function( element ) {\n                var type = $(element).attr(\"type\"),\n                    val = $(element).val();\n    \n                if ( type === \"radio\" || type === \"checkbox\" ) {\n                    return $(\"input[name='\" + $(element).attr(\"name\") + \"']:checked\").val();\n                }\n    \n                if ( typeof val === \"string\" ) {\n                    return val.replace(/\\r/g, \"\");\n                }\n                return val;\n            },\n    \n            check: function( element ) {\n                element = this.validationTargetFor( this.clean( element ) );\n    \n                var rules = $(element).rules();\n                var dependencyMismatch = false;\n                var val = this.elementValue(element);\n                var result;\n    \n                for (var method in rules ) {\n                    var rule = { method: method, parameters: rules[method] };\n                    try {\n    \n                        result = $.validator.methods[method].call( this, val, element, rule.parameters );\n    \n                        // if a method indicates that the field is optional and therefore valid,\n                        // don't mark it as valid when there are no other rules\n                        if ( result === \"dependency-mismatch\" ) {\n                            dependencyMismatch = true;\n                            continue;\n                        }\n                        dependencyMismatch = false;\n    \n                        if ( result === \"pending\" ) {\n                            this.toHide = this.toHide.not( this.errorsFor(element) );\n                            return;\n                        }\n    \n                        if ( !result ) {\n                            this.formatAndAdd( element, rule );\n                            return false;\n                        }\n                    } catch(e) {\n                        if ( this.settings.debug && window.console ) {\n                            console.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\n                        }\n                        throw e;\n                    }\n                }\n                if ( dependencyMismatch ) {\n                    return;\n                }\n                if ( this.objectLength(rules) ) {\n                    this.successList.push(element);\n                }\n                return true;\n            },\n    \n            // return the custom message for the given element and validation method\n            // specified in the element's HTML5 data attribute\n            customDataMessage: function( element, method ) {\n                return $(element).data(\"msg-\" + method.toLowerCase()) || (element.attributes && $(element).attr(\"data-msg-\" + method.toLowerCase()));\n            },\n    \n            // return the custom message for the given element name and validation method\n            customMessage: function( name, method ) {\n                var m = this.settings.messages[name];\n                return m && (m.constructor === String ? m : m[method]);\n            },\n    \n            // return the first defined argument, allowing empty strings\n            findDefined: function() {\n                for(var i = 0; i < arguments.length; i++) {\n                    if ( arguments[i] !== undefined ) {\n                        return arguments[i];\n                    }\n                }\n                return undefined;\n            },\n    \n            defaultMessage: function( element, method ) {\n                return this.findDefined(\n                    this.customMessage( element.name, method ),\n                    this.customDataMessage( element, method ),\n                    // title is never undefined, so handle empty string as undefined\n                    !this.settings.ignoreTitle && element.title || undefined,\n                    $.validator.messages[method],\n                    \"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\n                );\n            },\n    \n            formatAndAdd: function( element, rule ) {\n                var message = this.defaultMessage( element, rule.method ),\n                    theregex = /\\$?\\{(\\d+)\\}/g;\n                if ( typeof message === \"function\" ) {\n                    message = message.call(this, rule.parameters, element);\n                } else if (theregex.test(message)) {\n                    message = $.validator.format(message.replace(theregex, \"{$1}\"), rule.parameters);\n                }\n                this.errorList.push({\n                    message: message,\n                    element: element\n                });\n    \n                this.errorMap[element.name] = message;\n                this.submitted[element.name] = message;\n            },\n    \n            addWrapper: function( toToggle ) {\n                if ( this.settings.wrapper ) {\n                    toToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\n                }\n                return toToggle;\n            },\n    \n            defaultShowErrors: function() {\n                var i, elements;\n                for ( i = 0; this.errorList[i]; i++ ) {\n                    var error = this.errorList[i];\n                    if ( this.settings.highlight ) {\n                        this.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\n                    }\n                    this.showLabel( error.element, error.message );\n                }\n                if ( this.errorList.length ) {\n                    this.toShow = this.toShow.add( this.containers );\n                }\n                if ( this.settings.success ) {\n                    for ( i = 0; this.successList[i]; i++ ) {\n                        this.showLabel( this.successList[i] );\n                    }\n                }\n                if ( this.settings.unhighlight ) {\n                    for ( i = 0, elements = this.validElements(); elements[i]; i++ ) {\n                        this.settings.unhighlight.call( this, elements[i], this.settings.errorClass, this.settings.validClass );\n                    }\n                }\n                this.toHide = this.toHide.not( this.toShow );\n                this.hideErrors();\n                this.addWrapper( this.toShow ).show();\n            },\n    \n            validElements: function() {\n                return this.currentElements.not(this.invalidElements());\n            },\n    \n            invalidElements: function() {\n                return $(this.errorList).map(function() {\n                    return this.element;\n                });\n            },\n    \n            showLabel: function( element, message ) {\n                var label = this.errorsFor( element );\n                if ( label.length ) {\n                    // refresh error/success class\n                    label.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\n                    // replace message on existing label\n                    label.html(message);\n                } else {\n                    // create label\n                    label = $(\"<\" + this.settings.errorElement + \">\")\n                        .attr(\"for\", this.idOrName(element))\n                        .addClass(this.settings.errorClass)\n                        .html(message || \"\");\n                    if ( this.settings.wrapper ) {\n                        // make sure the element is visible, even in IE\n                        // actually showing the wrapped element is handled elsewhere\n                        label = label.hide().show().wrap(\"<\" + this.settings.wrapper + \"/>\").parent();\n                    }\n                    if ( !this.labelContainer.append(label).length ) {\n                        if ( this.settings.errorPlacement ) {\n                            this.settings.errorPlacement(label, $(element) );\n                        } else {\n                            label.insertAfter(element);\n                        }\n                    }\n                }\n                if ( !message && this.settings.success ) {\n                    label.text(\"\");\n                    if ( typeof this.settings.success === \"string\" ) {\n                        label.addClass( this.settings.success );\n                    } else {\n                        this.settings.success( label, element );\n                    }\n                }\n                this.toShow = this.toShow.add(label);\n            },\n    \n            errorsFor: function( element ) {\n                var name = this.idOrName(element);\n                return this.errors().filter(function() {\n                    return $(this).attr(\"for\") === name;\n                });\n            },\n    \n            idOrName: function( element ) {\n                return this.groups[element.name] || (this.checkable(element) ? element.name : element.id || element.name);\n            },\n    \n            validationTargetFor: function( element ) {\n                // if radio/checkbox, validate first element in group instead\n                if ( this.checkable(element) ) {\n                    element = this.findByName( element.name ).not(this.settings.ignore)[0];\n                }\n                return element;\n            },\n    \n            checkable: function( element ) {\n                return (/radio|checkbox/i).test(element.type);\n            },\n    \n            findByName: function( name ) {\n                return $(this.currentForm).find(\"[name='\" + name + \"']\");\n            },\n    \n            getLength: function( value, element ) {\n                switch( element.nodeName.toLowerCase() ) {\n                case \"select\":\n                    return $(\"option:selected\", element).length;\n                case \"input\":\n                    if ( this.checkable( element) ) {\n                        return this.findByName(element.name).filter(\":checked\").length;\n                    }\n                }\n                return value.length;\n            },\n    \n            depend: function( param, element ) {\n                return this.dependTypes[typeof param] ? this.dependTypes[typeof param](param, element) : true;\n            },\n    \n            dependTypes: {\n                \"boolean\": function( param, element ) {\n                    return param;\n                },\n                \"string\": function( param, element ) {\n                    return !!$(param, element.form).length;\n                },\n                \"function\": function( param, element ) {\n                    return param(element);\n                }\n            },\n    \n            optional: function( element ) {\n                var val = this.elementValue(element);\n                return !$.validator.methods.required.call(this, val, element) && \"dependency-mismatch\";\n            },\n    \n            startRequest: function( element ) {\n                if ( !this.pending[element.name] ) {\n                    this.pendingRequest++;\n                    this.pending[element.name] = true;\n                }\n            },\n    \n            stopRequest: function( element, valid ) {\n                this.pendingRequest--;\n                // sometimes synchronization fails, make sure pendingRequest is never < 0\n                if ( this.pendingRequest < 0 ) {\n                    this.pendingRequest = 0;\n                }\n                delete this.pending[element.name];\n                if ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {\n                    $(this.currentForm).submit();\n                    this.formSubmitted = false;\n                } else if (!valid && this.pendingRequest === 0 && this.formSubmitted) {\n                    $(this.currentForm).triggerHandler(\"invalid-form\", [this]);\n                    this.formSubmitted = false;\n                }\n            },\n    \n            previousValue: function( element ) {\n                return $.data(element, \"previousValue\") || $.data(element, \"previousValue\", {\n                    old: null,\n                    valid: true,\n                    message: this.defaultMessage( element, \"remote\" )\n                });\n            }\n    \n        },\n    \n        classRuleSettings: {\n            required: {required: true},\n            email: {email: true},\n            url: {url: true},\n            date: {date: true},\n            dateISO: {dateISO: true},\n            number: {number: true},\n            digits: {digits: true},\n            creditcard: {creditcard: true}\n        },\n    \n        addClassRules: function( className, rules ) {\n            if ( className.constructor === String ) {\n                this.classRuleSettings[className] = rules;\n            } else {\n                $.extend(this.classRuleSettings, className);\n            }\n        },\n    \n        classRules: function( element ) {\n            var rules = {};\n            var classes = $(element).attr(\"class\");\n            if ( classes ) {\n                $.each(classes.split(\" \"), function() {\n                    if ( this in $.validator.classRuleSettings ) {\n                        $.extend(rules, $.validator.classRuleSettings[this]);\n                    }\n                });\n            }\n            return rules;\n        },\n    \n        attributeRules: function( element ) {\n            var rules = {};\n            var $element = $(element);\n            var type = $element[0].getAttribute(\"type\");\n    \n            for (var method in $.validator.methods) {\n                var value;\n    \n                // support for <input required> in both html5 and older browsers\n                if ( method === \"required\" ) {\n                    value = $element.get(0).getAttribute(method);\n                    // Some browsers return an empty string for the required attribute\n                    // and non-HTML5 browsers might have required=\"\" markup\n                    if ( value === \"\" ) {\n                        value = true;\n                    }\n                    // force non-HTML5 browsers to return bool\n                    value = !!value;\n                } else {\n                    value = $element.attr(method);\n                }\n    \n                // convert the value to a number for number inputs, and for text for backwards compability\n                // allows type=\"date\" and others to be compared as strings\n                if ( /min|max/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\n                    value = Number(value);\n                }\n    \n                if ( value ) {\n                    rules[method] = value;\n                } else if ( type === method && type !== 'range' ) {\n                    // exception: the jquery validate 'range' method\n                    // does not test for the html5 'range' type\n                    rules[method] = true;\n                }\n            }\n    \n            // maxlength may be returned as -1, 2147483647 (IE) and 524288 (safari) for text inputs\n            if ( rules.maxlength && /-1|2147483647|524288/.test(rules.maxlength) ) {\n                delete rules.maxlength;\n            }\n    \n            return rules;\n        },\n    \n        dataRules: function( element ) {\n            var method, value,\n                rules = {}, $element = $(element);\n            for (method in $.validator.methods) {\n                value = $element.data(\"rule-\" + method.toLowerCase());\n                if ( value !== undefined ) {\n                    rules[method] = value;\n                }\n            }\n            return rules;\n        },\n    \n        staticRules: function( element ) {\n            var rules = {};\n            var validator = $.data(element.form, \"validator\");\n            if ( validator.settings.rules ) {\n                rules = $.validator.normalizeRule(validator.settings.rules[element.name]) || {};\n            }\n            return rules;\n        },\n    \n        normalizeRules: function( rules, element ) {\n            // handle dependency check\n            $.each(rules, function( prop, val ) {\n                // ignore rule when param is explicitly false, eg. required:false\n                if ( val === false ) {\n                    delete rules[prop];\n                    return;\n                }\n                if ( val.param || val.depends ) {\n                    var keepRule = true;\n                    switch (typeof val.depends) {\n                    case \"string\":\n                        keepRule = !!$(val.depends, element.form).length;\n                        break;\n                    case \"function\":\n                        keepRule = val.depends.call(element, element);\n                        break;\n                    }\n                    if ( keepRule ) {\n                        rules[prop] = val.param !== undefined ? val.param : true;\n                    } else {\n                        delete rules[prop];\n                    }\n                }\n            });\n    \n            // evaluate parameters\n            $.each(rules, function( rule, parameter ) {\n                rules[rule] = $.isFunction(parameter) ? parameter(element) : parameter;\n            });\n    \n            // clean number parameters\n            $.each(['minlength', 'maxlength'], function() {\n                if ( rules[this] ) {\n                    rules[this] = Number(rules[this]);\n                }\n            });\n            $.each(['rangelength', 'range'], function() {\n                var parts;\n                if ( rules[this] ) {\n                    if ( $.isArray(rules[this]) ) {\n                        rules[this] = [Number(rules[this][0]), Number(rules[this][1])];\n                    } else if ( typeof rules[this] === \"string\" ) {\n                        parts = rules[this].split(/[\\s,]+/);\n                        rules[this] = [Number(parts[0]), Number(parts[1])];\n                    }\n                }\n            });\n    \n            if ( $.validator.autoCreateRanges ) {\n                // auto-create ranges\n                if ( rules.min && rules.max ) {\n                    rules.range = [rules.min, rules.max];\n                    delete rules.min;\n                    delete rules.max;\n                }\n                if ( rules.minlength && rules.maxlength ) {\n                    rules.rangelength = [rules.minlength, rules.maxlength];\n                    delete rules.minlength;\n                    delete rules.maxlength;\n                }\n            }\n    \n            return rules;\n        },\n    \n        // Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n        normalizeRule: function( data ) {\n            if ( typeof data === \"string\" ) {\n                var transformed = {};\n                $.each(data.split(/\\s/), function() {\n                    transformed[this] = true;\n                });\n                data = transformed;\n            }\n            return data;\n        },\n    \n        // http://docs.jquery.com/Plugins/Validation/Validator/addMethod\n        addMethod: function( name, method, message ) {\n            $.validator.methods[name] = method;\n            $.validator.messages[name] = message !== undefined ? message : $.validator.messages[name];\n            if ( method.length < 3 ) {\n                $.validator.addClassRules(name, $.validator.normalizeRule(name));\n            }\n        },\n    \n        methods: {\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/required\n            required: function( value, element, param ) {\n                // check if dependency is met\n                if ( !this.depend(param, element) ) {\n                    return \"dependency-mismatch\";\n                }\n                if ( element.nodeName.toLowerCase() === \"select\" ) {\n                    // could be an array for select-multiple or a string, both are fine this way\n                    var val = $(element).val();\n                    return val && val.length > 0;\n                }\n                if ( this.checkable(element) ) {\n                    return this.getLength(value, element) > 0;\n                }\n                return $.trim(value).length > 0;\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/email\n            email: function( value, element ) {\n                // contributed by Scott Gonzalez: http://projects.scottsplayground.com/email_address_validation/\n                return this.optional(element) || /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i.test(value);\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/url\n            url: function( value, element ) {\n                // contributed by Scott Gonzalez: http://projects.scottsplayground.com/iri/\n                return this.optional(element) || /^(https?|s?ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(value);\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/date\n            date: function( value, element ) {\n                return this.optional(element) || !/Invalid|NaN/.test(new Date(value).toString());\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/dateISO\n            dateISO: function( value, element ) {\n                return this.optional(element) || /^\\d{4}[\\/\\-]\\d{1,2}[\\/\\-]\\d{1,2}$/.test(value);\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/number\n            number: function( value, element ) {\n                return this.optional(element) || /^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(value);\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/digits\n            digits: function( value, element ) {\n                return this.optional(element) || /^\\d+$/.test(value);\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/creditcard\n            // based on http://en.wikipedia.org/wiki/Luhn\n            creditcard: function( value, element ) {\n                if ( this.optional(element) ) {\n                    return \"dependency-mismatch\";\n                }\n                // accept only spaces, digits and dashes\n                if ( /[^0-9 \\-]+/.test(value) ) {\n                    return false;\n                }\n                var nCheck = 0,\n                    nDigit = 0,\n                    bEven = false;\n    \n                value = value.replace(/\\D/g, \"\");\n    \n                for (var n = value.length - 1; n >= 0; n--) {\n                    var cDigit = value.charAt(n);\n                    nDigit = parseInt(cDigit, 10);\n                    if ( bEven ) {\n                        if ( (nDigit *= 2) > 9 ) {\n                            nDigit -= 9;\n                        }\n                    }\n                    nCheck += nDigit;\n                    bEven = !bEven;\n                }\n    \n                return (nCheck % 10) === 0;\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/minlength\n            minlength: function( value, element, param ) {\n                var length = $.isArray( value ) ? value.length : this.getLength($.trim(value), element);\n                return this.optional(element) || length >= param;\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/maxlength\n            maxlength: function( value, element, param ) {\n                var length = $.isArray( value ) ? value.length : this.getLength($.trim(value), element);\n                return this.optional(element) || length <= param;\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/rangelength\n            rangelength: function( value, element, param ) {\n                var length = $.isArray( value ) ? value.length : this.getLength($.trim(value), element);\n                return this.optional(element) || ( length >= param[0] && length <= param[1] );\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/min\n            min: function( value, element, param ) {\n                return this.optional(element) || value >= param;\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/max\n            max: function( value, element, param ) {\n                return this.optional(element) || value <= param;\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/range\n            range: function( value, element, param ) {\n                return this.optional(element) || ( value >= param[0] && value <= param[1] );\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/equalTo\n            equalTo: function( value, element, param ) {\n                // bind to the blur event of the target in order to revalidate whenever the target field is updated\n                // TODO find a way to bind the event just once, avoiding the unbind-rebind overhead\n                var target = $(param);\n                if ( this.settings.onfocusout ) {\n                    target.unbind(\".validate-equalTo\").bind(\"blur.validate-equalTo\", function() {\n                        $(element).valid();\n                    });\n                }\n                return value === target.val();\n            },\n    \n            // http://docs.jquery.com/Plugins/Validation/Methods/remote\n            remote: function( value, element, param ) {\n                if ( this.optional(element) ) {\n                    return \"dependency-mismatch\";\n                }\n    \n                var previous = this.previousValue(element);\n                if (!this.settings.messages[element.name] ) {\n                    this.settings.messages[element.name] = {};\n                }\n                previous.originalMessage = this.settings.messages[element.name].remote;\n                this.settings.messages[element.name].remote = previous.message;\n    \n                param = typeof param === \"string\" && {url:param} || param;\n    \n                if ( previous.old === value ) {\n                    return previous.valid;\n                }\n    \n                previous.old = value;\n                var validator = this;\n                this.startRequest(element);\n                var data = {};\n                data[element.name] = value;\n                $.ajax($.extend(true, {\n                    url: param,\n                    mode: \"abort\",\n                    port: \"validate\" + element.name,\n                    dataType: \"json\",\n                    data: data,\n                    success: function( response ) {\n                        validator.settings.messages[element.name].remote = previous.originalMessage;\n                        var valid = response === true || response === \"true\";\n                        if ( valid ) {\n                            var submitted = validator.formSubmitted;\n                            validator.prepareElement(element);\n                            validator.formSubmitted = submitted;\n                            validator.successList.push(element);\n                            delete validator.invalid[element.name];\n                            validator.showErrors();\n                        } else {\n                            var errors = {};\n                            var message = response || validator.defaultMessage( element, \"remote\" );\n                            errors[element.name] = previous.message = $.isFunction(message) ? message(value) : message;\n                            validator.invalid[element.name] = true;\n                            validator.showErrors(errors);\n                        }\n                        previous.valid = valid;\n                        validator.stopRequest(element, valid);\n                    }\n                }, param));\n                return \"pending\";\n            }\n    \n        }\n    \n    });\n    \n    // deprecated, use $.validator.format instead\n    $.format = $.validator.format;\n    \n    }(jQuery));\n    \n    // ajax mode: abort\n    // usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n    // if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n    (function($) {\n        var pendingRequests = {};\n        // Use a prefilter if available (1.5+)\n        if ( $.ajaxPrefilter ) {\n            $.ajaxPrefilter(function( settings, _, xhr ) {\n                var port = settings.port;\n                if ( settings.mode === \"abort\" ) {\n                    if ( pendingRequests[port] ) {\n                        pendingRequests[port].abort();\n                    }\n                    pendingRequests[port] = xhr;\n                }\n            });\n        } else {\n            // Proxy ajax\n            var ajax = $.ajax;\n            $.ajax = function( settings ) {\n                var mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\n                    port = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\n                if ( mode === \"abort\" ) {\n                    if ( pendingRequests[port] ) {\n                        pendingRequests[port].abort();\n                    }\n                    pendingRequests[port] = ajax.apply(this, arguments);\n                    return pendingRequests[port];\n                }\n                return ajax.apply(this, arguments);\n            };\n        }\n    }(jQuery));\n    \n    // provides delegate(type: String, delegate: Selector, handler: Callback) plugin for easier event delegation\n    // handler is only called when $(event.target).is(delegate), in the scope of the jquery-object for event.target\n    (function($) {\n        $.extend($.fn, {\n            validateDelegate: function( delegate, type, handler ) {\n                return this.bind(type, function( event ) {\n                    var target = $(event.target);\n                    if ( target.is(delegate) ) {\n                        return handler.apply(target, arguments);\n                    }\n                });\n            }\n        });\n    }(jQuery));","pluralize = function (n, thing, options) {\n  var plural = thing;\n  if (_.isUndefined(n)) {\n    return thing;\n  } else if (n !== 1) {\n    if (thing.slice(-1) === 's')\n      plural = thing + 'es';\n    else\n      plural = thing + 's';\n  }\n\n  if (options && options.hash && options.hash.wordOnly)\n    return plural;\n  else\n    return n + ' ' + plural;\n}\n\nHandlebars.registerHelper('pluralize', pluralize);\n\nvar DIMENSIONS = {\n  small: '320x350',\n  large: '640x480',\n  full: '640x800'\n};\n\nUI.registerHelper('urlImage', function (imageName) {\n\n  var str = \"\";\n  if (imageName instanceof Array) {\n    str = \"url('/img/prods/\" + imageName[0] + \"')\";\n  }\n  else {\n    str = \"url('/img/prods/\" + imageName + \"')\";\n  }\n  return str;\n});\n\nHandlebars.registerHelper('getFirstElement', function (objCol) {\n  var result = NaN;\n  if (objCol.count > 0) {\n    result = objCol[0];\n  }\n  return result;\n});\n\nHandlebars.registerHelper('getAllImages',function (imgId){\n  console.log(\"Getting images\");\n  console.log(Images.count());\n  return Images.find({});\n});\n\nUI.registerHelper('isNullOrEmpty', function (someObject) {\n  var result = true;\n  if ((someObject == 'undefined') || (someObject == '')) {\n    return result;\n  }\n\n  return result;\n});\n\nUI.registerHelper('getCardImageById',function (ImgId){\n  console.log(\"Getting from store\");\n \n  console.log(\"Single Image Id : \" + ImgId);\n  Meteor.subscribe('SingleProductImage',ImgId);\n  var returnimgs = Images.find({ImageId:ImgId},{limit:1});\n  \n  return returnimgs;\n});\n\nUI.registerHelper('thisSelectedProduct',function(){\n  console.log(\"This Selected Product\");\n  try {\n      var result;\n      result = Session.get(\"currentProduct\");//Products.find({_id:Router.current().params._id});\n      \n      return result;\n  } catch (error) {\n    throw error;\n  } \n});\n\nUI.registerHelper('getImageById',function (ImgId){\n  console.log(\"Getting from store\");\n   \n  console.log(\"Image Id : \" + ImgId);\n  Meteor.subscribe('ProductImages',ImgId);\n  var returnimgs = Images.find({ImageId:ImgId});\n  \n  return returnimgs;\n});\n\nHandlebars.registerHelper('getFirstElement', function (arr) {\n  if (!isUndefined(arr))\n\n  {var result = arr[0];\n\n  return result;}\n});\n\nHandlebars.registerHelper('compare', function (v1, v2) {\n  if (typeof v1 === 'object' && typeof v2 === 'object') {\n    return _.isEqual(v1, v2); // do a object comparison\n  } else {\n    return v1 === v2;\n  }\n});\nHandlebars.registerHelper('bigger', function (v1, v2) {\n  if (typeof v1 === 'object' && typeof v2 === 'object') {\n    return _.isEqual(v1, v2); // do a object comparison\n  } else {\n    return v1 > v2;\n  }\n});\nHandlebars.registerHelper('smaller', function (v1, v2) {\n  if (typeof v1 === 'object' && typeof v2 === 'object') {\n    return _.isEqual(v1, v2); // do a object comparison\n  } else {\n    return v1 < v2;\n  }\n});\nHandlebars.registerHelper('isSingle', function (someArr) {\n  if (typeof someArr == 'object') {\n    if (someArr.count == 1) {\n      return true;\n    }\n    return false;\n  }\n});\n\nUI.registerHelper('productPath', function (option) {\n\n  var pathing = \"/img/prods/\";\n\n  if (option == \"save\") {\n    pathing = Meteor.settings.products.fileSavePath;\n  }\n  return pathing;\n\n});\n\nUI.registerHelper('getReferenceData',function (refName){\n    var refData = Session.get('refData');\n    //return refData.find({name:refName});\n});\n\n \nUI.registerHelper('get_Add_Length', function ()\n  {\n    console.log(\"refdata sell tmp\");\n    return ReferenceData.find({name:\"addTime\"});\n  });\nUI.registerHelper('get_Prod_Cat', function()\n  {\n    console.log(\"Get Product Catalogue\");\n    return ReferenceData.find({name:\"prdCat\"});\n  });\n\nHandlebars.registerHelper('uiLogger', function (someObject) {\n  console.log(\"UI Logging \" + someObject);\n});\n\nUI.registerHelper('productImage', function (imagename) {\n  return '/img/prods/' + imagename;\n});\n\nUI.registerHelper('recipeImage', function (options) {\n  var size = options.hash.size || 'large';\n\n  if (options.hash.recipe)\n    return '/img/recipes/' + DIMENSIONS[size] + '/' + options.hash.recipe.name + '.jpg';\n});\n\nHandlebars.registerHelper('activePage', function () {\n  // includes Spacebars.kw but that's OK because the route name ain't that.\n  var routeNames = arguments;\n\n  return _.include(routeNames, Router.current().route.name) && 'active';\n});\n\nUI.registerHelper('thisUser', function () {\n  var result = \"Not logged in\";\n  if (Meteor.userId()) {\n    result = Meteor.usedId().name;\n  }\n  return result;\n})\n\nif (Meteor.isServer) {\n\n\n}","Meteor.startup(function() {\n  // Potentially prompts the user to enable location services. We do this early\n  // on in order to have the most accurate location by the time the user shares\n  \n  //if (Meteor.isCordova) {\n    var geoLocation = Geolocation.currentLocation();\n    if (geoLocation != null)\n    {\n      console.log(\"Location\");\n      console.log(geoLocation);\n    }\n  \n  //}\n  \n \n  \n});\n"," \nconsole.log(\"Creating Db Collections\");\nReferenceData = new Mongo.Collection('ReferenceData');\n//Products = new Mongo.Collection('Products');\nSellers = new Mongo.Collection('Sellers');\n //const featuredProducts = new Mongo.Collection('featuredProducts');\n \n\n// this.autorun(function() {\n     \n//       meteor.subscribe('featuerd')\n     \n//   });","Meteor.startup(() => { \n    if (Meteor.isServer) {\n\n     \n        \n\n    console.log(\"Server Fixture Startup\");  \n      // if the Links collection is empty\n      /*\n      console.log(Links.find().count());\n      if (Links.find().count() === 0) {\n        const data = [\n          {\n            title: 'Do the Tutorial',\n            url: 'https://www.meteor.com/try',\n            createdAt: new Date(),\n          },\n          {\n            title: 'Follow the Guide',\n            url: 'http://guide.meteor.com',\n            createdAt: new Date(),\n          },\n          {\n            title: 'Read the Docs',\n            url: 'https://docs.meteor.com',\n            createdAt: new Date(),\n          },\n          {\n            title: 'Discussions',\n            url: 'https://forums.meteor.com',\n            createdAt: new Date(),\n          },\n        ];\n    \n        data.forEach(link => Links.insert(link));\n      }*/\n    \n      console.log(\"Reference Data Check : \" + ReferenceData.find().count() ) ;\n      \n      if (ReferenceData.find().count() === 0 )\n        {\n          console.log(\"Adding Reference Data\");\n          const refDatas = [\n\n          \n            {name:\"busCat\",id:\"0\",value:\"Electronic\"},\n            {name:\"busCat\",id:\"1\",value:\"Fashion\"},\n            {name:\"busCat\",id:\"2\",value:\"Convience\"},\n            {name:\"busCat\",id:\"3\",value:\"Food\"},     \n            {name:\"busCat\",id:\"4\",value:\"Once Off\"},\n            {name:\"addTime\",id:\"1\",value:\"Free\",timetoadd:1},\n            {name:\"addTime\",id:\"2\",value:\"3 Days\",timetoadd:3},\n            {name:\"addTime\",id:\"3\",value:\"1 Week\",timetoadd:7},\n            {name:\"addTime\",id:\"4\",value:\"2 Weeks\",timetoadd:14},\n            {name:\"addTime\",id:\"5\",value:\"1 Month\",timetoadd:30},\n            {name:\"prdCat\",id:\"0\",value:\"Deals\"},\n            {name:\"prdCat\",id:\"1\",value:\"Home\"},\n            {name:\"prdCat\",id:\"2\",value:\"Food\"},\n            {name:\"prdCat\",id:\"3\",value:\"Security\"},\n            {name:\"prdCat\",id:\"4\",value:\"Education\"},\n            {name:\"prdCat\",id:\"5\",value:\"Cosmetic\"},\n            {name:\"prdCat\",id:\"6\",value:\"Kitchen\"},\n            {name:\"prdCat\",id:\"7\",value:\"Services\"},\n            {name:\"prdCat\",id:\"8\",value:\"Tools\"},\n            {name:\"prdCat\",id:\"9\",value:\"Fashion\"},\n            {name:\"prdCat\",id:\"10\",value:\"Motor Sales\"},\n            {name:\"prdCat\",id:\"11\",value:\"Computer\"},\n            {name:\"prdCat\",id:\"12\",value:\"Health\"},\n            {name:\"prdCat\",id:\"13\",value:\"Pop Ups\"},\n            {name:\"prdCat\",id:\"13\",value:\"Community Events\"},\n            {name:\"prdCat\",id:\"14\",value:\"Other\"}\n                ];\n      \n                refDatas.forEach(refData => ReferenceData.insert(refData));\n                console.log(\"Reference Data Post Insert Check : \" + ReferenceData.find().count() ) ;\n          }\n    \n        console.log(\"Product Data Check : \" + Products.find().count() ) ;\n      \n        \n          \n           \n           \n        if (Products.find().count() === 0)\n        { \n            prodData = [         \n            {\n            sellerId:\"1\",\n            producttitle:\"some item\",\n            productDescription:\"Some Product description\",\n            price:\"100.00\",\n            prdCat:0,    \n            prodImg : [\"1\"],\n            createdAt:new Date(),\n            expireAt : Date.now() + (150000 * 60) \n            },\n        \n            {\n            sellerId:\"1\",\n            producttitle:\"some item\",    \n            productDescription:\"Some Other description\",\n            price:\"100.00\",\n            prdCat:0,\n            prodImg : [\"2\"],\n            createdAt:new Date(),\n            expireAt : Date.now() + (150000 * 60) \n            },\n        \n            {\n            sellerId:\"1\",\n            producttitle:\"some item\",\n            productDescription:\"Some New description\",\n            price:\"100.00\",\n            prdCat:0,\n            prodImg : [ \"3\"],\n            createdAt:new Date(),\n            expireAt : Date.now() + (150000 * 60) \n            }];\n            prodData.forEach(prod => Products.insert(prod));\n            console.log(\"Products Data Post Insert Check : \" + Products.find().count() ) ;\n\n        }\n       \n        console.log(\"Selleres Data Check : \" + Sellers.find().count() ) ;   \n    \n        if (Sellers.find().count() === 0)\n        {\n            Sellers.insert({_id:\"1\",\n              busCat:\"Electronic\",\n            businessname:\"Test Business\",         \n            businessag:\"tag line\",\n            add1:\"Address 1\",\n            add2:\"Address 2\",\n            add3:\"Address 3\",\n            add4:\"Address 4\",\n            office:\"0118574563\",\n            cell:\"0118574563\",\n            email:\"0118574563\",\n            contact1:\"bob\",\n            contact2:\"rick\", \n            url:\"www.somesite.com\",\n            logoImg:\"http://cooldigital.photography/wp-content/uploads/2014/02/Details-of-a-Marigold-Blossom-620x404.jpg\",\n            createdAt: new Date()\n        });\n        console.log(\"Sellers Data Post Insert Check : \" + Sellers.find().count() ) ;\n        }\n\n\n        if (Images.find().count === 0)\n        {\n          Images.insert({\n            \n            \"original\" : {\n                \"name\" : \"249442-3600x2395.jpg\",\n                \"updatedAt\" : ISODate(\"2014-07-18T11:51:58.000Z\"),\n                \"size\" : 1874582,\n                \"type\" : \"image/jpeg\"\n            },\n            \"sellerId\" : \"1\",\n            \"ImageCat\" : \"ProductImage\",\n            \"ImageType\" : \"ProductDisplay\",\n            \"ImageId\" : \"1\",\n            \"uploadedAt\" : ISODate(\"2017-12-25T15:17:25.937Z\"),\n            \"copies\" : {\n                \"images\" : {\n                    \"name\" : \"249442-3600x2395.jpg\",\n                    \"type\" : \"image/jpeg\",\n                    \"size\" : 1874582,\n                    \"key\" : \"images-aaEvqjn48EqWDTu5c-249442-3600x2395.jpg\",\n                    \"updatedAt\" : ISODate(\"2017-12-25T15:17:25.968Z\"),\n                    \"createdAt\" : ISODate(\"2017-12-25T15:17:25.968Z\")\n                }\n            }\n        });\n        Images.insert({\n          \n          \"original\" : {\n              \"name\" : \"249442-3600x2395.jpg\",\n              \"updatedAt\" : ISODate(\"2014-07-18T11:51:58.000Z\"),\n              \"size\" : 1874582,\n              \"type\" : \"image/jpeg\"\n          },\n          \"sellerId\" : \"1\",\n          \"ImageCat\" : \"ProductImage\",\n          \"ImageType\" : \"ProductDisplay\",\n          \"ImageId\" : \"2\",\n          \"uploadedAt\" : ISODate(\"2017-12-25T15:17:25.937Z\"),\n          \"copies\" : {\n              \"images\" : {\n                  \"name\" : \"249442-3600x2395.jpg\",\n                  \"type\" : \"image/jpeg\",\n                  \"size\" : 1874582,\n                  \"key\" : \"images-aaEvqjn48EqWDTu5c-249442-3600x2395.jpg\",\n                  \"updatedAt\" : ISODate(\"2017-12-25T15:17:25.968Z\"),\n                  \"createdAt\" : ISODate(\"2017-12-25T15:17:25.968Z\")\n              }\n          }\n      });\n      Images.insert({\n       \n        \"original\" : {\n            \"name\" : \"249442-3600x2395.jpg\",\n            \"updatedAt\" : ISODate(\"2014-07-18T11:51:58.000Z\"),\n            \"size\" : 1874582,\n            \"type\" : \"image/jpeg\"\n        },\n        \"sellerId\" : \"1\",\n        \"ImageCat\" : \"ProductImage\",\n        \"ImageType\" : \"ProductDisplay\",\n        \"ImageId\" : \"3\",\n        \"uploadedAt\" : ISODate(\"2017-12-25T15:17:25.937Z\"),\n        \"copies\" : {\n            \"images\" : {\n                \"name\" : \"249442-3600x2395.jpg\",\n                \"type\" : \"image/jpeg\",\n                \"size\" : 1874582,\n                \"key\" : \"images-aaEvqjn48EqWDTu5c-249442-3600x2395.jpg\",\n                \"updatedAt\" : ISODate(\"2017-12-25T15:17:25.968Z\"),\n                \"createdAt\" : ISODate(\"2017-12-25T15:17:25.968Z\")\n            }\n        }\n    });\n        }\n      console.log(\"Fixtures Done\");\n     \n      \n    }\n})","Activities = new Mongo.Collection('activities');\n\nActivities.allow({\n  insert: function(userId, doc) {\n    return doc.userId === userId;\n  }\n});\n\nActivities.latest = function() {\n  return Activities.find({}, {sort: {date: -1}, limit: 1});\n}\n\nMeteor.methods({\n  createActivity: function(activity, tweet, loc) {\n    check(Meteor.userId(), String);\n    check(activity, {\n      recipeName: String,\n      text: String,\n      image: String\n    });\n    check(tweet, Boolean);\n    check(loc, Match.OneOf(Object, null));\n    \n    activity.userId = Meteor.userId();\n    activity.userAvatar = Meteor.user().services.twitter.profile_image_url_https;\n    activity.userName = Meteor.user().profile.name;\n    activity.date = new Date;\n    \n    if (! this.isSimulation && loc)\n      activity.place = getLocationPlace(loc);\n    \n    var id = Activities.insert(activity);\n    \n    if (! this.isSimulation && tweet)\n      tweetActivity(activity);\n    \n    return id;\n  }\n});\n\nif (Meteor.isServer) {\n  var twitterOauth = function(options) {\n    var config = Meteor.settings.twitter\n    var userConfig = Meteor.user().services.twitter;\n\n    return {\n      consumer_key: config.consumerKey,\n      consumer_secret: config.secret,\n      token: userConfig.accessToken,\n      token_secret: userConfig.accessTokenSecret\n    };\n  }\n  \n  var tweetActivity = function(activity) {\n    // creates the tweet text, optionally truncating to fit the appended text\n    function appendTweet(text, append) {\n      var MAX = 117; // Max size of tweet with image attached\n      \n      if ((text + append).length > MAX)\n        return text.substring(0, (MAX - append.length - 3)) + '...' + append;\n      else\n        return text + append;\n    }\n    \n    // we need to strip the \"data:image/jpeg;base64,\" bit off the data url\n    var image = activity.image.replace(/^data.*base64,/, '');\n\n    var response = HTTP.post(\n      'https://upload.twitter.com/1.1/media/upload.json', {\n        params: { media: image },\n        npmRequestOptions: { oauth: twitterOauth() }\n      }\n    );\n    \n    if (response.statusCode !== 200)\n      throw new Meteor.Error(500, 'Unable to post image to twitter');\n\n    if (! response.data)\n      throw new Meteor.Error(500, 'Did not receive attachment from twitter');\n\n    var attachment = response.data;\n\n    response = HTTP.post(\n      'https://api.twitter.com/1.1/statuses/update.json', {\n        params: {\n          status: appendTweet(activity.text, ' #localmarket'),\n          media_ids: attachment.media_id_string\n        },\n        npmRequestOptions: { oauth: twitterOauth() }\n      }\n    );\n\n    if (response.statusCode !== 200)\n      throw new Meteor.Error(500, 'Unable to create tweet');\n  }\n  \n  var getLocationPlace = function(loc) {\n    var url = 'https://api.twitter.com/1.1/geo/reverse_geocode.json'\n      + '?granularity=neighborhood'\n      + '&max_results=1'\n      + '&accuracy=' + loc.coords.accuracy\n      + '&lat=' + loc.coords.latitude\n      + '&long=' + loc.coords.longitude;\n    \n    var response = HTTP.get(url,\n                            {npmRequestOptions: { oauth: twitterOauth() } });\n\n    if (response.statusCode === 200 && response.data) {\n      var place = _.find(response.data.result.places, function(place) {\n        return place.place_type === 'neighborhood';\n      });\n      \n      return place && place.full_name;\n    }\n  }\n}\n\n// Initialize a seed activity\nMeteor.startup(function() {\n  if (Meteor.isServer && Activities.find().count() === 0) {\n    Activities.insert({\n      recipeName: 'summer-apricots-honey-panna-cotta',\n      text: 'I substituted strawberries for apricots - incredible!',\n      image: '/img/activity/activity-placeholder-strawberry-640x640.jpg',\n      userAvatar: 'https://avatars3.githubusercontent.com/u/204768?v=2&s=400',\n      userName: 'Matt Debergalis',\n      place: 'SoMA, San Francisco',\n      date: new Date\n    });\n  }\n});\n\n","BookmarkCounts = new Mongo.Collection('bookmarkCounts');\n\nMeteor.methods({\n  'bookmarkRecipe': function(recipeName) {\n    check(this.userId, String);\n    check(recipeName, String);\n\n    var affected = Meteor.users.update({\n      _id: this.userId,\n      bookmarkedRecipeNames: {$ne: recipeName}\n    }, {\n      $addToSet: {bookmarkedRecipeNames: recipeName}\n    });\n\n    if (affected)\n      BookmarkCounts.update({recipeName: recipeName}, {$inc: {count: 1}});\n  },\n\n  'unbookmarkRecipe': function(recipeName) {\n    check(this.userId, String);\n    check(recipeName, String);\n\n    var affected = Meteor.users.update({\n      _id: this.userId,\n      bookmarkedRecipeNames: recipeName\n    }, {\n      $pull: {bookmarkedRecipeNames: recipeName}\n    });\n\n    if (affected)\n      BookmarkCounts.update({recipeName: recipeName}, {$inc: {count: -1}});\n  }\n});\n\n// Initialize bookmark counts. We could use upsert instead.\nif (Meteor.isServer && BookmarkCounts.find().count() === 0) {\n  Meteor.startup(function() {\n    _.each(RecipesData, function(recipe, recipeName) {\n      BookmarkCounts.insert({recipeName: recipeName, count: 0});\n    });\n  });\n}","//import { Buffer } from \"buffer\";\n\n\n \n\n\n// Handlebars.registerHelper('saveImageFile',function(fbinaryData,filename)\n// {\n//   //import {FilesCollection} from 'meteor/ostrio:files';\n//   //var fs = require('meteor/ostrio:files');\n//   var result = false;\n//   var  base64Image = fbinaryData.split(\",\")[1];\n//   var binaryData = new  Buffer(base64Image,'base64').toString('binary') ;\n//   //var filename = \"/img/\" + sellerId+\"_\" + Random.id() +\".jpg\";\n//   //productImage = filename;\n//   var  imagePath = Meteor.settings.products.imgPath;\n//   console.log(imagePath);\n//   try\n//   {\n//   require(\"fs\").writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n//         if (err)\n//         {\n//             console.log(err); // writes out file without error, but it's not a valid image\n//         }\n//         else\n//         {\n//           result = true;\n//         }\n//       });\n//     }\n//     catch(exp)\n//     {\n//       console.log(\"Client side File Save to server...\" + imagePath + filename);\n//       result = false;\n//     }\n//     return result;\n  \n// });\n\nHandlebars.registerHelper('UILogger',function(source,obj)\n{\n  console.log(\"UI Logger : \" + source);\n  console.log(\"Object : \"+ obj);\n});\n\nfunction newRandomId(prefixStr)\n{\n  var rnd = prefixStr + \"_\" + require(\"meteor/random\").id();\n  return rnd;\n}\n\n// Handlebars.registerHelper(\"getReferenceData\",function(refname){\n//   console.log(\"reference data load to cache\");\n//   var result = Meteor.apply('getReferenceData',[refname],{ wait:true,returnStubValue: false });\n// });\n\nfunction jsWriteFile(fbinaryData,filename)\n{\n  var  result = false;\n  try \n  {\n    //import {FilesCollection} from 'meteor/ostrio:files';\n   //var fs = require('meteor/ostrio:files');\n   // global.Buffer = global.Buffer || Npm.require(\"buffer\").Buffer;\n   var result = true;\n   var fs = Npm.require('fs');\n   var  base64Image = fbinaryData.split(\",\")[1];\n   var binaryData = new  Buffer(base64Image,'base64').toString('binary') ;\n   //var filename = \"/img/\" + sellerId+\"_\" + Random.id() +\".jpg\";\n   //productImage = filename;\n  console.log(\"Writing file\");\n     var pathtoFile =  Meteor.rootPath;\n    var strPath = pathtoFile.substr(0,pathtoFile.length - 7);\n\n    \n     \n\n    \n   var  imagePath = strPath + Meteor.settings.products.fileSavePath;\n   imagePath = Meteor.settings.products.fileSavePath;\n   var writeFileName = imagePath + filename;\n  \n   console.log(writeFileName);\n   try\n   {\n   // var fileWriter = new writeFile()\n   //require(\"fs\").writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n         if (!fs.exists(writeFileName))\n         {   \n         fs.writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n\n             if (err)\n             {\n                 console.log(err); // writes out file without error, but it's not a valid image\n                 result = false;\n             }\n             else\n             {\n               result = true;\n             }\n           });\n         }\n     }\n     catch(exp)\n     {\n       console.log(\"Server side File Save to server...\" + imagePath + filename);\n       console.log(exp);\n       result = false;\n     }\n  } \n  catch (error) \n  {\n    result = false;\n  }\n  return result;\n}\n\n\nMeteor.methods({ \n  saveImageFile: function(fbinaryData,filename)\n  {\n    try {\n      return jsWriteFile(fbinaryData,filename);\n    } catch (error) {\n      throw error;\n    }\n\n  //  //import {FilesCollection} from 'meteor/ostrio:files';\n  //  //var fs = require('meteor/ostrio:files');\n  //  // global.Buffer = global.Buffer || Npm.require(\"buffer\").Buffer;\n  //   var result = true;\n  //   var fs = Npm.require('fs');\n  //   var  base64Image = fbinaryData.split(\",\")[1];\n  //   var binaryData = new  Buffer(base64Image,'base64').toString('binary') ;\n  //   //var filename = \"/img/\" + sellerId+\"_\" + Random.id() +\".jpg\";\n  //   //productImage = filename;\n  //   var  imagePath = Meteor.settings.products.fileSavePath;\n  //   var writeFileName = imagePath + filename;\n   \n  //   console.log(writeFileName);\n  //   try\n  //   {\n  //   // var fileWriter = new writeFile()\n  //   //require(\"fs\").writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n  //         if (!fs.exists(writeFileName))\n  //         {   \n  //         fs.writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n\n  //             if (err)\n  //             {\n  //                 console.log(err); // writes out file without error, but it's not a valid image\n  //                 result = false;\n  //             }\n  //             else\n  //             {\n  //               result = true;\n  //             }\n  //           });\n  //         }\n  //     }\n  //     catch(exp)\n  //     {\n  //       console.log(\"Server side File Save to server...\" + imagePath + filename);\n  //       console.log(exp);\n  //       result = false;\n  //     }\n  //     return result;\n    \n  },\n  getReferenceData:function(refName)\n  {\n\n    switch(refName) \n      {\n        case \"businessCat\":\n            return ReferenceData.find({name:busCat});\n            break;\n        case \"productCat\":\n        return ReferenceData.find({name:prdCat});\n            break;\n        case \"timeCat\":\n        return ReferenceData.find({name:addTime});\n        break;\n        default:\n            return {};\n      }\n   \n    \n  }\n});\n// function _saveImageFile()\n// {\n//   var result = false;\n//   var  base64Image = fbinaryData.split(\",\")[1];\n//   var binaryData = new  Buffer(base64Image,'base64').toString('binary') ;\n//   //var filename = \"/img/\" + sellerId+\"_\" + Random.id() +\".jpg\";\n//   //productImage = filename;\n//   var  imagePath = Meteor.settings.product.filePath;\n//   try\n//   {\n//   require(\"fs\").writeFile(imagePath + filename ,binaryData, \"binary\", function(err) {\n//         if (err)\n//         {\n//             console.log(err); // writes out file without error, but it's not a valid image\n//         }\n//         else\n//         {\n//           result = true;\n//         }\n//       });\n//     }\n//     catch(exp)\n//     {\n//       console.log(\"Client side File Save to server...\" + filename);\n//       result = false;\n//     }\n//     return result;\n// }","console.log(\"Server create FS Media Collection\");\n\n//var imageStore = new FS.Store.GridFS(\"images\", {\n//mongoUrl: 'mongodb://127.0.0.1:3001/justadit/', // optional, defaults to Meteor's local MongoDB\n//mongoOptions: {...},  // optional, see note below\n//transformWrite: myTransformWriteFunction, //optional\n//transformRead: myTransformReadFunction, //optional\n//maxTries: 1, // optional, default 5\n//chunkSize: 1024*1024  // optional, default GridFS chunk size in bytes (can be overridden per file).\n// Default: 2MB. Reasonable range: 512KB - 4MB\n//  });\nvar imageStore = new FS.Store.FileSystem(\"images\", {\n    path: \"/var/www/justaditimages/\", //optional, default is \"/cfs/files\" path within app container\n    //transformWrite: function(fileObj, readStream, writeStream) {\n        //console.log(\"Resize Image\");\n        //console.log(fileObj.name() + \" : \"  + fileObj.size());\n        // if (fileObj.size() > 500)\n        // {\n        //     if (gm.isAvailable)\n        //     {\n        //         gm(readStream, fileObj.name()).resize('500').stream().pipe(writeStream);\n        //     }\n        //     else\n        //     {\n        //         console.log(\"No GraphicsMagick Installed.\")\n        //     }\n        // }\n    //},\n    chunkSize: 2*1024*1024 - 1024,  // optional, default GridFS chunk size in bytes (can be overridden per file).\n    //Default: 2MB,//. Reasonable range: 512KB - 4MB\n    //transformWrite: myTransformWriteFunction, //optional\n    //transformRead: myTransformReadFunction, //optional\n    maxTries: 2 //optional, default 5\n});\n//   var videoStore = new FS.Store.GridFS(\"videos\", {\n//     //mongoUrl: 'mongodb://127.0.0.1:3001/justaditmedia/', // optional, defaults to Meteor's local MongoDB\n//     //mongoOptions: {...},  // optional, see note below\n//     //transformWrite: myTransformWriteFunction, //optional\n//     //transformRead: myTransformReadFunction, //optional\n//     //maxTries: 1, // optional, default 5\n//     //chunkSize: 1024*1024  // optional, default GridFS chunk size in bytes (can be overridden per file).\n//                           // Default: 2MB. Reasonable range: 512KB - 4MB\n//   });\n\nImages = new FS.Collection(\"images\", {\n    stores: [imageStore]\n});\n\n\n// Videos = new FS.Collection(\"videos\", {\n//   stores: [videoStore]\n// // });\n\n\nImages.allow({\n    insert: function () {\n        return true;\n    },\n    update: function () {\n        return true;\n    },\n    remove: function () {\n        return true;\n    },\n    download: function () {\n        return true;\n    }\n});\n\n// Videos.allow({ \n//     insert: function() { \n//         return true; \n//     }, \n//     update: function() { \n//         return true; \n//     }, \n//     remove: function() { \n//         return true; \n//     } \n// });\n\n\nMeteor.methods({\n    getProductImages: function (ImgId) {\n \n        // var result = Products.find({_id:prodid});\n        var prodImages = Images.find({ ImageId: ImgId });\n        var returnImages = [];\n        prodImages.forEach(element => {\n            returnImages.push(element);\n\n        });\n        //var sell = Meteor.apply('getProductSeller', [prod.sellerId], { returnStubValue: true });\n        //prod.seller = sell;\n        return returnImages;\n\n        //return Meteor.Mongo.Products.findOne({_id:prodid});\n    },\n});","News = new Mongo.Collection('news');\n\nNews.allow({\n  insert: function(userId) {\n    var user = Meteor.users.findOne(userId);\n    return user && user.admin;\n  }\n});\n\nNews.latest = function() {\n\n  //http://feeds.news24.com/articles/news24/SouthAfrica/rss\n  return News.findOne({}, {sort: {date: -1}, limit: 1});\n}\n\nif (Meteor.isServer && News.find().count() === 0) {\n  Meteor.startup(function() {\n    News.insert({\n      text: 'First of the season citrus has just arrived. Get succulent oranges and tangerines in our produce aisle!',\n      date: new Date\n    });\n  });\n}","Product = new Mongo.Collection('Product');\n\nProduct.allow({\n    insert: function(userId, doc) {\n      return doc.userId === userId;\n    }\n  });\n  \n \n  Meteor.methods({\n    'latestProduct':function(id){\n     \n      return Product.find({},{order:{createdAt:-1}});\n      //return result[0];\n    },\n    'QSearchProduct':function(id){\n      console.log(\"Searching\");\n      Meteor.subscribe('QSearch', id);\n      var results =  Products.find({});\n      console.log(results); \n      return results;\n      \n    },\n    'products.insert':function (productObj)\n    {\n        //var fs = Npm.require('fs');\n        var newProd = false;\n        if (productObj._id == \"\")\n        {\n            newProd = true;\n        }\n        var ProdImgs = [];\n      try \n      {\n        // console.log(productObj.prodImg);\n        // for (pImg in productObj.prodImg)\n        // {\n        //   if (newProd)\n        //   {\n        //     var randId = Random.id();// require('random');     \n        //     var FileName = productObj.userId + \"_\" + randId  + \".jpg\";            \n        //     ProdImgs.push(FileName);                \n        //     var busLogCall = Meteor.apply('saveImageFile',[pImg,FileName],{wait:true});                   \n        //   }\n        //   else\n        //   {\n        //     if (!fs.exists(pImg))\n        //     {\n        //       var randId = Random.id();// require('random');     \n        //       var FileName = productObj.userId + \"_\" + randId  + \".jpg\";            \n        //       ProdImgs.push(FileName);                \n        //       var busLogCall = Meteor.apply('saveImageFile',[pImg,FileName],{wait:true}); \n        //     }\n\n        //   }\n        // }\n        //   productObj.prodImg = ProdImgs;\n          var productResult = \n          Products.upsert({\n          // Selector\n          _id: productObj._id \n          }, {\n          // Modifier\n          $set: {\n            sellerId : productObj.sellerId,\n            producttitle : productObj.producttitle,\n            productDescription : productObj.productDescription,\n            price : productObj.price,\n            prdCat : productObj.prdCat,\n            prodImg : productObj.prodImg,\n            createdAt : productObj.createdAt,\n            expireAt : productObj.expireAt\n            \n           \n          \n          }\n          });\n\n      }\n      catch (exp)\n      {\n        throw exp;\n      }\n    }\n  });\n\n/*\n\n\nMeteor.methods(\n    \n    {\n  'products.insert'(sellerId,producttitle, productDescription , price,prodCat,createdAt,expireAt, url,prodImg) {\n\n    var ProdInsert = Products.insert({\n      sellerId, \n      producttitle,\n      productDescription , \n      price,\n      prodCat,\n      createdAt,\n      expireAt,\n      url,\n      prodImg\n      \n  });\n  return ProdInsert;\n\n  \n}\n\n\n\n\n  Product.getProduct = function(prodId)\n  {\n    var returnProduct ;\n    console.log(\"Single product Meteor Call method\");\n    try\n    {\n        Meteor.call('getProduct',[ prodId],(error,result)=>{\n            if (error)\n            {\n                console.log(error);\n            }\n            else\n            {\n                console.log(\"Meteor Call to get product : \" + result);\n          \n                returnProduct = result;\n            }\n        });\n      \n      console.log(\"Post Meteor Call after assign \" + returnProduct);\n    }\n    catch(exp)\n    {\n      throw exp;\n    }\n    return returnProduct;\n  }\n\n   */\n\n  Product.MyProducts= function(sellerId){\n      return Product.find({SellerID:sellerId});\n  }\n\n  Product.more = function(continuationValue){\n      //https://www.npmjs.com/package/mongo-cursor-pagination\n      //Product.find({},{order:{createdAt:-1}});\n      return Product.find({}, {order: {createdAt: -1}});\n    \n  } \n\n   \n  /*\n  Meteor.methods({\n    createActivity: function(activity, tweet, loc) {\n      Meteor.userId(), String,\n      activity, {\n        recipeName: String,\n        text: String,\n        image: String\n      },\n      tweet, Boolean,\n      loc, Match.OneOf(Object, null),\n      \n      activity.userId = Meteor.userId(,\n      activity.userAvatar = Meteor.user().services.twitter.profile_image_url_https;\n      activity.userName = Meteor.user().profile.name;\n      activity.date = new Date;\n      \n      if (! this.isSimulation && loc)\n        activity.place = getLocationPlace(loc,\n      \n      var id = Activities.insert(activity,\n      \n      if (! this.isSimulation && tweet)\n        tweetActivity(activity,\n      \n      return id;\n    }\n  },\n  \n  if (Meteor.isServer) {\n    var twitterOauth = function(options) {\n      var config = Meteor.settings.twitter\n      var userConfig = Meteor.user().services.twitter;\n  \n      return {\n        consumer_key: config.consumerKey,\n        consumer_secret: config.secret,\n        token: userConfig.accessToken,\n        token_secret: userConfig.accessTokenSecret\n      };\n    }\n    \n    var tweetActivity = function(activity) {\n      // creates the tweet text, optionally truncating to fit the appended text\n      function appendTweet(text, append) {\n        var MAX = 117; // Max size of tweet with image attached\n        \n        if ((text + append).length > MAX)\n          return text.substring(0, (MAX - append.length - 3)) + '...' + append;\n        else\n          return text + append;\n      }\n      \n      // we need to strip the \"data:image/jpeg;base64,\" bit off the data url\n      var image = activity.image.replace(/^data.*base64,/, '',\n  \n      var response = HTTP.post(\n        'https://upload.twitter.com/1.1/media/upload.json', {\n          params: { media: image },\n          npmRequestOptions: { oauth: twitterOauth() }\n        }\n      ,\n      \n      if (response.statusCode !== 200)\n        throw new Meteor.Error(500, 'Unable to post image to twitter',\n  \n      if (! response.data)\n        throw new Meteor.Error(500, 'Did not receive attachment from twitter',\n  \n      var attachment = response.data;\n  \n      response = HTTP.post(\n        'https://api.twitter.com/1.1/statuses/update.json', {\n          params: {\n            status: appendTweet(activity.text, ' #localmarket'),\n            media_ids: attachment.media_id_string\n          },\n          npmRequestOptions: { oauth: twitterOauth() }\n        }\n      ,\n  \n      if (response.statusCode !== 200)\n        throw new Meteor.Error(500, 'Unable to create tweet',\n    }\n    \n    var getLocationPlace = function(loc) {\n      var url = 'https://api.twitter.com/1.1/geo/reverse_geocode.json'\n        + '?granularity=neighborhood'\n        + '&max_results=1'\n        + '&accuracy=' + loc.coords.accuracy\n        + '&lat=' + loc.coords.latitude\n        + '&long=' + loc.coords.longitude;\n      \n      var response = HTTP.get(url,\n                              {npmRequestOptions: { oauth: twitterOauth() } },\n  \n      if (response.statusCode === 200 && response.data) {\n        var place = _.find(response.data.result.places, function(place) {\n          return place.place_type === 'neighborhood';\n        },\n        \n        return place && place.full_name;\n      }\n    }\n  }\n   \n  */","Products = new Mongo.Collection('Products');\n\n\n\nProducts.allow({\n  insert: function (userId, doc) {\n    return doc.userId === userId;\n  },\n  update:function(userId,doc)\n  {\n    return false;\n  }\n});\n\n\nMeteor.methods({\n  'featuredProducts': function () {\n    \n    console.log(\"Getting Latest featured products data \" + Meteor.settings.featuredProductsLimit);\n \n \n    var prodresult = [];\n    try\n    {\n    \n    var prod = Products.find({},{order:{createdAt: -1}},{limit: Meteor.settings.featuredProductsLimit});\n   \n    prod.forEach(element => {\n \n      prodresult.push(element);\n    });\n  }\n  catch(exp)\n  {\n    console.log(\"Error getting featured Products : \" + exp);\n    throw exp;\n  }\n      \n \n    return {Results:prodresult};\n  },\n  'getProduct': function (prodid) {\n    // var result = Products.find({_id:prodid});\n    try\n    {\n     \n      //Meteor.subscribe('product',prodid);\n      //Meteor.subscribe('getSellers');\n     \n    var prod = Products.findOne({ _id: prodid });\n    if (prod)\n    {\n      var sell = Sellers.findOne({userId:prod.sellerId});\n      var prodImages = Meteor.apply('getProductImages', [prod.prodImg], { returnStubValue: true });\n      prod.seller = sell;\n      prod.prodImgs = prodImages;\n    }\n    //loading.stop();\n    return prod;\n    }\n    catch (exp)\n    {\n      //loading.halt();\n      console.log(exp);\n    }\n\n    //return Meteor.Mongo.Products.findOne({_id:prodid});\n  },\n  \n  'getProductSeller': function (sellerId) {\n    Meteor.subscribe('getSeller',sellerId);\n    return Sellers.findOne({ userId: Meteor.userId() });\n  },\n  'QSearchProducts' : function (searchItem)\n  {\n    //debugger;\n    var searchTerms = \"'/^.*\" + searchItem[0] + \".*$/i'\";\n    console.log(searchTerms);\n    //$text: {$search: searchValue} },\n    var prods = Products.find({$or:[{\"producttitle\":{$regex:searchTerms}} , {\"productDescrption\":{$regex:searchTerms}}]});\n    var result = [];\n    prods.forEach(element => {\n      result.push(element);\n    });\n    //var result = Products.find({$text: {$search: searchTerms}}).fetch();\n    //({$text:{$search:\"tutorialspoint\"}})\n    \n    console.log(result);\n    return result;\n  },\n  'getSellerProducts': function () {\n    console.log(\"Getting Seller Server Side Products\");\n\n    var prodresult = [];\n\n    //Product.find({},{order:{createdAt:-1}});\n    var prod = Products.find({sellerId:Meteor.userId()},{order:{createdAt: -1}});\n    prod.forEach(element => {\n      //console.log(element);\n      prodresult.push(element);\n    });\n\n    return prodresult;\n  }\n\n});\n\nProducts.allProducts = function () {\n  console.log(\"Getting latest products\" + Products.count());\n  Meteor.subscribe('allProducts');\n  return Products.find({},{order:{createdAt: -1}});\n  // return Products.find({});\n}\nProducts.getProduct = function (prodId) {\n  var result;\n  console.log(\"Single product api method\");\n  try {\n    result = Products.findOne({ _id: prodId }, { limit: 1 });\n    //console.log(result.producttitle);\n  }\n  catch (exp) {\n    throw exp;\n  }\n  return result;\n}\n\nProducts.bookedMarked = function () {\n  // here get all my userid Booked marked products and then get each prod and push to array and return the array.\n}\n\nProducts.latestProducts = function () {\n  var result;\n  console.log(\"Api method\");\n  try {\n    //Product.find({},{order:{createdAt:-1}});\n    result = Products.find({},{order:{createdAt: -1}});\n\n  }\n  catch (exp) {\n    throw exp;\n  }\n\n\n  return result;//Products.find({}, {sort: {createdAt: -1}, limit: 1});\n\n\n}\n\nProducts.MyProducts = function (SellerId) {\n  //Product.find({},{order:{createdAt:-1}});\n  return Products.find({ sellerId: SellerId },{order:{createdAt: -1}});;\n}\n\n// Products.featuredProducts = function () {\n\n \n//   var result = [];\n//   console.log(\"Api method featuredProducts \");\n//   //Meteor.settings.featuredProductsLimit \n//   try {\n//     //result = Products.find({},{sort: {createdAt:1}, limit: 4});\n//     //console.log(result);\n\n//   }\n//   catch (exp) {\n//     throw exp;\n//   }\n\n\n//   return result;//Products.find({}, {sort: {createdAt: -1}, limit: 1});\n\n\n//   // var ctr = Meteor.settings.featuredProductsLimit;\n//   // console.log(\"Api Method featured : \" +  ctr);\n//   // var result = Products.find({},{sort:{createdAt:1},limit: 2});//Meteor.settings.featuredProductsLimit}); \n//   // return result;// Products.find({},{sort:{createdAt:1},limit: 2});//Meteor.settings.featuredProductsLimit});\n// }\n\nProducts.more = function (continuationValue) {\n  //https://www.npmjs.com/package/mongo-cursor-pagination\n  return Products.find().sort({createdAt:-1}).limit(12).skip(continuationValue);\n\n}\n\nMeteor.methods({\n  createProduct: function (product, loc) {\n    check(product, {\n      sellerId: String,\n      producttitle: String,\n      productDescription: String,\n      price: Number,\n      prodCat: String,\n      url: String\n    },\n      loc, Match.OneOf(Object, null));\n\n    product.sellerId = Meteor.userId;\n    product.createDate = new Date;\n    product.expireDate = require(\"moment\");\n    var ProdInsert = Products.insert({\n      sellerId,\n      producttitle,\n      productDescription,\n      price,\n      prodCat,\n      createdAt,\n      expireAt,\n      url,\n      prodImg\n\n    });\n    return ProdInsert;\n\n  },\n\n});\n  /*\n  Meteor.methods({\n    createActivity: function(activity, tweet, loc) {\n      Meteor.userId(), String,\n      activity, {\n        recipeName: String,\n        text: String,\n        image: String\n      },\n      tweet, Boolean,\n      loc, Match.OneOf(Object, null),\n      \n      activity.userId = Meteor.userId(,\n      activity.userAvatar = Meteor.user().services.twitter.profile_image_url_https;\n      activity.userName = Meteor.user().profile.name;\n      activity.date = new Date;\n      \n      if (! this.isSimulation && loc)\n        activity.place = getLocationPlace(loc,\n      \n      var id = Activities.insert(activity,\n      \n      if (! this.isSimulation && tweet)\n        tweetActivity(activity,\n      \n      return id;\n    }\n  },\n  \n  if (Meteor.isServer) {\n    var twitterOauth = function(options) {\n      var config = Meteor.settings.twitter\n      var userConfig = Meteor.user().services.twitter;\n  \n      return {\n        consumer_key: config.consumerKey,\n        consumer_secret: config.secret,\n        token: userConfig.accessToken,\n        token_secret: userConfig.accessTokenSecret\n      };\n    }\n    \n    var tweetActivity = function(activity) {\n      // creates the tweet text, optionally truncating to fit the appended text\n      function appendTweet(text, append) {\n        var MAX = 117; // Max size of tweet with image attached\n        \n        if ((text + append).length > MAX)\n          return text.substring(0, (MAX - append.length - 3)) + '...' + append;\n        else\n          return text + append;\n      }\n      \n      // we need to strip the \"data:image/jpeg;base64,\" bit off the data url\n      var image = activity.image.replace(/^data.*base64,/, '',\n  \n      var response = HTTP.post(\n        'https://upload.twitter.com/1.1/media/upload.json', {\n          params: { media: image },\n          npmRequestOptions: { oauth: twitterOauth() }\n        }\n      ,\n      \n      if (response.statusCode !== 200)\n        throw new Meteor.Error(500, 'Unable to post image to twitter',\n  \n      if (! response.data)\n        throw new Meteor.Error(500, 'Did not receive attachment from twitter',\n  \n      var attachment = response.data;\n  \n      response = HTTP.post(\n        'https://api.twitter.com/1.1/statuses/update.json', {\n          params: {\n            status: appendTweet(activity.text, ' #localmarket'),\n            media_ids: attachment.media_id_string\n          },\n          npmRequestOptions: { oauth: twitterOauth() }\n        }\n      ,\n  \n      if (response.statusCode !== 200)\n        throw new Meteor.Error(500, 'Unable to create tweet',\n    }\n    \n    var getLocationPlace = function(loc) {\n      var url = 'https://api.twitter.com/1.1/geo/reverse_geocode.json'\n        + '?granularity=neighborhood'\n        + '&max_results=1'\n        + '&accuracy=' + loc.coords.accuracy\n        + '&lat=' + loc.coords.latitude\n        + '&long=' + loc.coords.longitude;\n      \n      var response = HTTP.get(url,\n                              {npmRequestOptions: { oauth: twitterOauth() } },\n  \n      if (response.statusCode === 200 && response.data) {\n        var place = _.find(response.data.result.places, function(place) {\n          return place.place_type === 'neighborhood';\n        },\n        \n        return place && place.full_name;\n      }\n    }\n  }\n   \n  */","RecipesData = {\n\"spring-fromage-fort\": {\n  \"title\": \"Fromage Fort\",\n  \"highlighted\": true,\n  \"excerpt\": \"When I’ve got too many cheese bits on hand, it's now fromage fort to the rescue\",\n  \"source\": {\n    \"name\": \"David Lebovitz\",\n    \"url\": \"http://www.davidlebovitz.com/2014/04/fromage-forte-cheese-dip-spread-recipe/\"\n  },\n  \"cookTime\": \"15 min\",\n  \"ingredients\": [\n    \"8 ounces (225g) cheese pieces, hard rinds removed\",\n    \"1 to 2 ounces (30 to 60g) cream cheese\",\n    \"1/4 cup (60ml) dry white wine\",\n    \"1 garlic clove, peeled and minced\",\n    \"a few turns of freshly ground black pepper\",\n    \"pinch of cayenne or red pepper powder\",\n    \"1 tablespoon minced chives or flat-leaf parsley\",\n    \"chives or parsley, for garnish\"\n  ],\n  \"directions\": [\n    \"Cut the cheese into bite-sized cubes and put them in the bowl of a food processor with 1 ounce (30g) of the cream cheese, wine, garlic, and the black and red peppers.\",\n    \"Process the mixture until completely smooth. If it is not completely smooth (which may happen if you are starting with an assortment of harder cheeses), add the additional cream cheese, and continue to process.\"\n  ],\n  \"name\": \"spring-fromage-fort\"\n},\n\"spring-ragu-bolognese\": {\n  \"title\": \"Classic Ragu Bolognese\",\n  \"excerpt\": \"A certain magic happens as the beef and aromatic vegetables slowly cook down with wine, tomato paste, and broth\",\n  \"source\": {\n    \"name\": \"Bon Appétit\",\n    \"url\": \"http://www.bonappetit.com/recipe/classic-rag-bolognese\"\n  },\n  \"cookTime\": \"1 hr 10 min\",\n  \"ingredients\": [\n    \"2 Tbsp. extra-virgin olive oil\",\n    \"2 medium onions, finely chopped (about 1 1/2 cups)\",\n    \"2 celery stalks, finely chopped (about 1 cup)\",\n    \"2 carrots, peeled, finely chopped (about 3/4 cup)\",\n    \"6 oz. ground beef (85% lean)\",\n    \"6 oz. ground veal\",\n    \"3 oz. thinly sliced pancetta, finely chopped\",\n    \"1/2 cup dry red wine\",\n    \"3 cups (about) beef stock or chicken stock, divided\",\n    \"3 Tbsp. tomato paste\",\n    \"Kosher salt and freshly ground black pepper\",\n    \"1 cup whole milk\",\n    \"1 lb. tagliatelle or fettuccine (preferably fresh egg)\",\n    \"Finely grated Parmesan (for serving)\"\n  ],\n  \"directions\": [\n    \"Heat oil in a large heavy pot over medium-high heat.\",\n    \"Add onions, celery, and carrots.\"\n  ],\n  \"name\": \"spring-ragu-bolognese\"\n},\n\"spring-animal-cracker-cookies\": {\n  \"title\": \"Animal-Cracker Cookies\",\n  \"excerpt\": \"Create and decorate magical cookies that are as much fun as a day at the circus!\",\n  \"source\": {\n    \"name\": \"Williams-Sonoma\",\n    \"url\": \"http://www.williams-sonoma.com/recipe/animal-cracker-cookies.html\"\n  },\n  \"cookTime\": \"1 hr\",\n  \"ingredients\": [\n    \"2 1/2 cups all-purpose flour\",\n    \"1 tsp. baking powder\",\n    \"1/2 tsp. salt\",\n    \"1/8 tsp. freshly grated nutmeg\",\n    \"1/8 tsp. mace\",\n    \"12 Tbs. (1 1/2 sticks) unsalted butter, at room temperature\",\n    \"1 cup sugar\",\n    \"1 egg\",\n    \"1 tsp. vanilla extract\"\n  ],\n  \"directions\": [\n    \"Over a small bowl, sift together the flour, baking powder, salt, nutmeg and mace. Set aside.\",\n    \"In the bowl of an electric mixer fitted with the flat beater, beat the butter on high speed for 2 minutes. Reduce the speed to medium, slowly add the sugar and beat for 2 minutes, stopping the mixer occasionally to scrape down the sides of the bowl. Add the egg and vanilla and beat for 1 minute, stopping the mixer once to scrape down the sides of the bowl.\"\n  ],\n  \"name\": \"spring-animal-cracker-cookies\"\n},\n\"spring-chicken-in-mole\": {\n  \"title\": \"Chicken in Molé\",\n  \"excerpt\": \"If there is one dish that could be considered Mexican haute cuisine, then Mole Poblano is surely it\",\n  \"source\": {\n    \"name\": \"Epicurious\",\n    \"url\": \"http://www.epicurious.com/recipes/food/views/Chicken-in-Mole-Puebla-Style-238185\"\n  },\n  \"cookTime\": \"2 hr\",\n  \"ingredients\": [\n    \"4 pounds chicken pieces, skin on\",\n    \"Sea salt and ground black pepper to taste\",\n    \"2 tablespoons sesame seeds, toasted, for garnish\",\n    \"white rice\",\n    \"9 mulato chiles\",\n    \"7 pasilla chiles\",\n    \"6 ancho chiles\",\n    \"1 cup plus 9 tablespoons vegetable oil or lard plus additional as needed\",\n    \"4 or 5 tomatillos, husked and cooked until soft\",\n    \"5 whole cloves\",\n    \"20 whole black peppercorns\",\n    \"1-inch piece of a Mexican cinnamon stick\",\n    \"1 tablespoon seeds from the chiles, toasted\",\n    \"1/2 teaspoon anise seeds, toasted\",\n    \"1/4 teaspoon coriander seeds, toasted\",\n    \"8 tablespoons sesame seeds, toasted\",\n    \"4 garlic cloves, roasted\",\n    \"3 tablespoons raisins\",\n    \"20 whole almonds, blanched\",\n    \"1/4 cup pumpkin seeds\",\n    \"2 corn tortillas, torn into pieces\",\n    \"3 stale French rolls, cut into 1-inch slices\",\n    \"6 to 7 cups reserved chicken broth as needed\",\n    \"1 1/2 ounces Mexican chocolate, chopped\"\n  ],\n  \"directions\": [\n    \"In a large stock pot, parboil the chicken in water seasoned with salt and pepper to taste. Drain, reserving cooking broth, and refrigerate until ready to assemble the dish.\",\n    \"Prepare the Mole Poblano. Clean the chiles by removing stems, veins, and seeds; reserve 1 tablespoon of the seeds.\"\n  ],\n  \"name\": \"spring-chicken-in-mole\"\n},\n\"spring-spanish-asparagus-revuelto\": {\n  \"title\": \"Spanish Asparagus Revuelto\",\n  \"excerpt\": \"In Spain, wild asparagus is very popular, and it’s a sure sign of spring\",\n  \"source\": {\n    \"name\": \"NY Times\",\n    \"url\": \"http://www.nytimes.com/recipes/1016240/spanish-asparagus-revuelto.html\"\n  },\n  \"cookTime\": \"30 min\",\n  \"ingredients\": [\n    \"Olive oil\",\n    \"2 peeled garlic cloves, plus 1/2 teaspoon minced garlic\",\n    \"2 cups bread cubes, made with day-old bread, cut in 1/2-inch cubes\",\n    \"Salt and pepper\",\n    \"2 ounces diced Spanish chorizo\",\n    \"1 bunch thin asparagus, about 1 1/2 pounds, cut in 1- to 2-inch lengths\",\n    \"1 bunch green onions, chopped\",\n    \"8 large eggs, beaten\",\n    \"1/2 teaspoon pimentón\",\n    \"2 tablespoons roughly chopped Italian parsley\"\n  ],\n  \"directions\": [\n    \"Put 3 tablespoons olive oil in a cast-iron skillet over medium-high heat. Add peeled garlic cloves and let them sizzle until lightly browned, then remove.\",\n    \"Add bread cubes, season with salt and pepper, lower heat to medium and gently fry until lightly browned and crisp, about 2 minutes. Remove bread and set aside to cool.\"\n  ],\n  \"name\": \"spring-spanish-asparagus-revuelto\"\n},\n\"spring-meatloaf\": {\n  \"title\": \"Fatted Calf's Meatloaf\",\n  \"highlighted\": true,\n  \"excerpt\": \"It is a thing of beauty, shaped into a large oval loaf and glazed with tangy cocktail sauce\",\n  \"source\": {\n    \"name\": \"Food52\",\n    \"url\": \"http://food52.com/recipes/24302-fatted-calf-s-meatloaf\"\n  },\n  \"cookTime\": \"1 hr 30 min\",\n  \"ingredients\": [\n    \"3/4 teaspoons black peppercorns\",\n    \"2 allspice berries\",\n    \"2 teaspoons fennel seed\",\n    \"1 teaspoon chile flakes\",\n    \"1 whole clove\",\n    \"1 1/4 pound boneless lean beef from eye of round or sirloin, cut into 1-inch cubes\",\n    \"1 pound boneless pork picnic, cut into 1-inch cubes\",\n    \"4 ounces pork back fat, cut into 1-inch cubes\",\n    \"Sea salt\",\n    \"2 teaspoons chopped garlic\",\n    \"4 ounces chopped bacon\",\n    \"2 cups diced yellow onion\",\n    \"2 tablespoons unsalted butter\",\n    \"6 tablespoons fresh breadcrumbs\",\n    \"1 egg lightly beaten\",\n    \"1/2 cup ketchup\",\n    \"1 1/2 teaspoon Tabasco sauce\",\n    \"1 1/4 teaspoon Worcestershire sauce\",\n    \"1 teaspoon grated fresh horseradish\",\n    \"1/4 cup chopped parsley\",\n    \"2 tablespoons chopped oregano\",\n    \"1 tablespoon chopped thyme\",\n    \"1 tablespoon chopped sage\",\n    \"1/4 cup ketchup\",\n    \"1/4 teaspoon sea salt\",\n    \"1/4 teaspoon freshly ground black pepper\",\n    \"1 1/2 teaspoon grated fresh horseradish\",\n    \"1/2 teaspoon Worcestershire sauce\",\n    \"1/2 teaspoon Tabasco sauce\"\n  ],\n  \"directions\": [\n    \"Preheat the oven to 325° F (165° C). To make the forcemeat, spread the peppercorns and allspice on a baking sheet and toast for 3 to 5 minutes, until fragrant. Let cool completely.\",\n    \"Toast the fennel seeds the same way, then let cool completely.\"\n  ],\n  \"name\": \"spring-meatloaf\"\n},\n\"spring-lahmacun-turkish-pizza\": {\n  \"title\": \"Lahmacun - Turkish Pizza\",\n  \"excerpt\": \"\",\n  \"source\": {\n    \"name\": \"Ottolenghi\",\n    \"url\": \"http://www.ottolenghi.co.uk/lahmacun-turkish-pizza-with-spicy-minced-beef-and-salad-topping-shop\"\n  },\n  \"cookTime\": \"40 min\",\n  \"ingredients\": [\n    \"250g minced beef\",\n    \"1 medium onion, finely chopped (180g net)\",\n    \"3 3/4 tsp salt\",\n    \"1 1/2 tsp ground cinnamon\",\n    \"1 1/2 tsp ground allspice\",\n    \"1/2 tsp red chilli flakes\",\n    \"25g flat-leaf parsley, chopped\",\n    \"2 tbsp pomegranate molasses\",\n    \"1 1/2 tbsp sumac\",\n    \"3 tbsp tahini\",\n    \"25g pine nuts\",\n    \"2 tbsp lemon juice\",\n    \"250g white flour, plus extra to dust\",\n    \"1 1/2 tbsp milk powder\",\n    \"1/2 tbsp salt\",\n    \"2 tsp fast-action dried yeast\",\n    \"1/2 tbsp caster sugar\",\n    \"60ml sunflower oil\",\n    \"1 medium egg\",\n    \"100ml lukewarm water\",\n    \"Olive oil for brushing\"\n  ],\n  \"directions\": [\n    \"Start with the dough. Put the flour, milk powder, salt, yeast and sugar in a large mixing bowl and stir well to combine.\",\n    \"Make a well in the centre. Add the sunflower oil and egg and stir as you add the water.\"\n  ],\n  \"name\": \"spring-lahmacun-turkish-pizza\"\n},\n\"spring-easiest-spaghetti-and-meatballs\": {\n  \"title\": \"Easiest Spaghetti & Meatballs\",\n  \"excerpt\": \"No pasta's more iconic than spaghetti and meatballs\",\n  \"source\": {\n    \"name\": \"Martha Stewart\",\n    \"url\": \"http://www.marthastewart.com/336523/easiest-spaghetti-and-meatballs?czone=food%2Fdinner-tonight-center%2Fdinner-tonight-main-courses&gallery=274538&slide=336523&center=276948\"\n  },\n  \"cookTime\": \"30 min\",\n  \"ingredients\": [\n    \"Coarse salt and ground pepper\",\n    \"1/4 cup finely grated Parmesan, plus more for serving\",\n    \"1/4 cup chopped fresh parsley\",\n    \"2 garlic cloves, minced\",\n    \"1 large egg\",\n    \"1 pound ground beef chuck\",\n    \"1/4 cup plain dried breadcrumbs\",\n    \"1 tablespoon olive oil\",\n    \"1 can (28 ounces) crushed tomatoes in puree\",\n    \"3/4 pound spaghetti\"\n  ],\n  \"directions\": [\n    \"Set a large pot of salted water to boil. In a bowl, combine Parmesan, parsley, garlic, egg, 1 teaspoon salt, and 1 teaspoon pepper. Add beef and breadcrumbs; mix gently. Form into 16 balls.\",\n    \"In a 5-quart Dutch oven or heavy pot, heat oil over medium. Add meatballs, and cook, turning occasionally, until browned, 8 to 10 minutes.\"\n  ],\n  \"name\": \"spring-easiest-spaghetti-and-meatballs\"\n},\n\"summer-shaking-beef\": {\n  \"title\": \"Slanted Door's Shaking Beef\",\n  \"excerpt\": \"Cubes of tender filet mignon are sautéed with red onions and a vinaigrette\",\n  \"source\": {\n    \"name\": \"7x7 magazine\",\n    \"url\": \"http://www.7x7.com/recipes/secret-recipe-slanted-doors-shaking-beef\"\n  },\n  \"cookTime\": \"25 min\",\n  \"ingredients\": [\n    \"1 1/2 - 2 pounds filet mignon, fat trimmed and cut into 1 1/4-inch cubes\",\n    \"1 teaspoons ground black pepper\",\n    \"1/2 cup plus 1 tablespoon canola oil\",\n    \"1 cup thinly sliced red onion, preferably spring onions\",\n    \"3 stalks green onion, trimmed and cut to 1-inch lengths\",\n    \"1 tablespoon chopped garlic\",\n    \"2 tablespoons unsalted butter\",\n    \"2 tablespoons white vinegar\",\n    \"1/4 cup white granulated sugar\",\n    \"1/4 cup light soy sauce\",\n    \"1/4 cup fish sauce\",\n    \"1 teaspoon cooking rice wine\"\n  ],\n  \"directions\": [\n    \"Marinate meat 1/2 teaspoon black pepper and 1 tablespoon oil for about 2 hours.\",\n    \"Meanwhile, make the stir-fry sauce by combining the white vinegar, sugar, soy, fish sauce, and rice wine. Mix until sugar is dissolved. Set aside.\"\n  ],\n  \"name\": \"summer-shaking-beef\"\n},\n\"summer-bavarian-pretzel\": {\n  \"title\": \"Bavarian-style Soft Pretzel\",\n  \"excerpt\": \"\",\n  \"source\": {\n    \"name\": \"NY Times\",\n    \"url\": \"http://www.nytimes.com/2010/05/26/dining/26pretzelrex1.html\"\n  },\n  \"cookTime\": \"1 hr 30 min\",\n  \"ingredients\": [\n    \"1 tablespoon barley malt syrup or dark brown sugar\",\n    \"2 tablespoons lard or softened unsalted butter\",\n    \"2 tablespoons instant yeast\",\n    \"6 cups (about 30 ounces) bread flour\",\n    \"1 tablespoon plus 1/2 teaspoon kosher salt\",\n    \"Food-grade lye, for dipping\",\n    \"Coarse sea salt or pretzel salt, for sprinkling (do not substitute kosher salt)\"\n  ],\n  \"directions\": [\n    \"In a mixing bowl (or bowl of a mixer), stir together syrup, lard or butter, yeast, 2 cups warm water and half the flour. Add kosher salt and remaining flour and stir just until mixture comes together in a shaggy mass.\",\n    \"Turn out onto counter (or attach dough hook to mixer) and knead for 8 to 10 minutes, until smooth and supple. Cut into 12 pieces and let rest 5 minutes.\"\n  ],\n  \"name\": \"summer-bavarian-pretzel\"\n},\n\"summer-apricots-honey-panna-cotta\": {\n  \"title\": \"Apricots Honey Panna Cotta\",\n  \"highlighted\": true,\n  \"excerpt\": \"Juicy, fragrant, perfectly textured for a little fire action\",\n  \"source\": {\n    \"name\": \"Tartelette\",\n    \"url\": \"http://www.tarteletteblog.com/2011/07/recipe-gluten-free-apricots-honey-panna.html\"\n  },\n  \"cookTime\": \"35 min\",\n  \"ingredients\": [\n    \"6 apricots\",\n    \"olive oil\",\n    \"1/4 cup water\",\n    \"1 tablespoon powdered gelatin (2 sheets gelatin)\",\n    \"2 cups heavy cream\",\n    \"1/4 cup honey\",\n    \"1 cup full fat buttermilk\"\n  ],\n  \"directions\": [\n    \"Cut the apricots in half and remove the pit. Brush lightly with olive oil and grill over hot coals until tender (about 3-4 minutes on each side).\",\n    \"Let cool and puree until smooth in a food processor. Divide the mixture between 6 glasses.\"\n  ],\n  \"name\": \"summer-apricots-honey-panna-cotta\"\n},\n\"summer-elderberry-syrup\": {\n  \"title\": \"Elderberry Syrup\",\n  \"excerpt\": \"The gorgeous syrup is great in a glass of sparkling water over ice, dripped some over plain yogurt\",\n  \"source\": {\n    \"name\": \"David Lebovitz\",\n    \"url\": \"http://www.davidlebovitz.com/2007/08/respect-your-el/\"\n  },\n  \"cookTime\": \"35 min\",\n  \"ingredients\": [\n    \"2 pounds (1kg) elderberries, stems removed and rinsed\",\n    \"4 cups (1l) water\",\n    \"2 1/2 (500g) cups sugar\",\n    \"squirt of freshly-squeezed lemon juice\"\n  ],\n  \"directions\": [\n    \"Put the elderberries in a large, non-reactive pot with the water. Bring to a boil, then reduce heat to a low boil and cook for 15-20 minutes, until tender and soft.\",\n    \"Pass through a food mill, then discard the skins.\"\n  ],\n  \"name\": \"summer-elderberry-syrup\"\n},\n\"summer-spaghetti-lemon-olive\": {\n  \"title\": \"Spaghetti with Lemon & Olive Oil\",\n  \"excerpt\": \"This is one of those recipes that are almost better off without one\",\n  \"source\": {\n    \"name\": \"Smitten Kitchen\",\n    \"url\": \"http://smittenkitchen.com/blog/2011/02/spaghetti-with-lemon-and-olive-oil-al-limone/\"\n  },\n  \"cookTime\": \"20 min\",\n  \"ingredients\": [\n    \"1 pound spaghetti or linguine\",\n    \"Salt\",\n    \"3 lemons\",\n    \"1/4 cup extra virgin olive oil , plus additional for serving\",\n    \"1/4 cup heavy cream\",\n    \"1 ounce finely grated Parmesan cheese (about 1/2 cup), plus additional for serving\",\n    \"Ground black pepper\",\n    \"Small handful fresh basil or arugula leaves, shredded\"\n  ],\n  \"directions\": [\n    \"Cook linguine or spaghetti in well-salted water to your al dente tastes in a large, wide-bottomed pot.\",\n    \"While pasta is cooking, zest lemons until you have a little shy of a tablespoon of zest. Juice lemons — you’ll have anywhere from 1/3 to 1/2 cup lemon juice.\"\n  ],\n  \"name\": \"summer-spaghetti-lemon-olive\"\n},\n\"summer-homemade-pasta-dough\": {\n  \"title\": \"Homemade Pasta Dough\",\n  \"excerpt\": \"\",\n  \"source\": {\n    \"name\": \"Mario Batali\",\n    \"url\": \"http://www.mariobatali.com/recipes/basic-pasta-dough/\"\n  },\n  \"cookTime\": \"25 min\",\n  \"ingredients\": [\n    \"2 Cups All-Purpose Flour\",\n    \"2 Cups 00 Flour or 4 cups All-Purpose Flour\",\n    \"4 large Eggs\"\n  ],\n  \"directions\": [\n    \"Mound the flour in the center of a large wooden board. Make a well in the center of the flour and add the eggs. Using a fork, beat the eggs together and then begin to incorporate the flour; starting with the inner rim of the well. As you expand the well, keep pushing the flour up to retain the well shape (do not worry if it looks messy).\",\n    \"When half of the flour is incorporated, the dough will begin to come together. Start kneading the dough, using primarily the palms of your hands. Once the dough is a cohesive mass, set the dough aside and scrape up and discard any dried bits of dough.\"\n  ],\n  \"name\": \"summer-homemade-pasta-dough\"\n},\n\"summer-hamburger\": {\n  \"title\": \"Diner Style Hamburgers\",\n  \"excerpt\": \"This is the traditional, griddled hamburger of diners and takeaway spots, smashed thin and cooked crisp on its edges\",\n  \"source\": {\n    \"name\": \"NY Times\",\n    \"url\": \"http://www.nytimes.com/recipes/1016595/hamburgers-diner-style.html\"\n  },\n  \"cookTime\": \"20 min\",\n  \"ingredients\": [\n    \"1/2 teaspoon neutral oil, like canola, or a pat of unsalted butter\",\n    \"2 pounds ground chuck, at least 20 percent fat\",\n    \"Kosher salt and black pepper to taste\",\n    \"8 slices cheese (optional)\",\n    \"8 soft hamburger buns, lightly toasted\",\n    \"Lettuce leaves, sliced tomatoes and condiments\"\n  ],\n  \"directions\": [\n    \"Add oil or butter to a large cast-iron or stainless-steel skillet and place over medium heat. Gently divide ground beef into 8 small piles of around 4 ounces each, and even more gently gather them together into orbs that are about 2 inches in height. Do not form patties.\",\n    \"Increase heat under skillet to high. Put half the orbs into the skillet with plenty of distance between them and, using a stiff metal spatula, press down on each one to form a burger that is around 4 inches in diameter and about 1/2 inch thick. Season with salt and pepper.\"\n  ],\n  \"name\": \"summer-hamburger\"\n},\n\"fall-roasted-butternut-squash-lasagna\": {\n  \"title\": \"Roasted Butternut Squash Lasagna\",\n  \"highlighted\": true,\n  \"excerpt\": \"Making homemade pasta may seem arduous, but this dish is worth the extra work\",\n  \"source\": {\n    \"name\": \"Martha Stewart\",\n    \"url\": \"http://www.marthastewart.com/857657/roasted-butternut-squash-lasagna\"\n  },\n  \"cookTime\": \"1 hr 35 min\",\n  \"ingredients\": [\n    \"2 large butternut squashes (about 2 pounds each), halved lengthwise and seeded\",\n    \"3 tablespoons extra-virgin olive oil\",\n    \"Coarse salt and freshly ground pepper\",\n    \"1 stick unsalted butter, cut into pieces\",\n    \"2 1/4 cups finely grated Parmesan cheese (about 8 ounces)\",\n    \"1/2 cup finely crushed amaretti cookies\",\n    \"1/4 cup finely chopped fresh sage\",\n    \"1/4 teaspoon freshly grated nutmeg\",\n    \"6 tablespoons unsalted butter, cut into pieces\",\n    \"1/4 cup plus 2 tablespoons all-purpose flour\",\n    \"6 cups whole milk\",\n    \"Coarse salt\",\n    \"1/4 teaspoon freshly grated nutmeg\",\n    \"Homemade Pasta\"\n  ],\n  \"directions\": [\n    \"Make the filling: Preheat oven to 400 degrees. Drizzle squash halves with oil, and season with salt and pepper. Roast squashes, cut sides down, on a rimmed baking sheet until tender and browned, about 1 hour. Let cool. Scoop flesh from skins, and puree in a food processor until smooth.\",\n    \"Melt butter in a small saucepan over medium heat. Continue to cook until browned and fragrant, about 3 minutes. Transfer to a bowl.\"\n  ],\n  \"name\": \"fall-roasted-butternut-squash-lasagna\"\n},\n\"summer-grits-icecream\": {\n  \"title\": \"Grits Praline & Brown Butter Ice Cream\",\n  \"excerpt\": \"\\\"Decadent\\\" isn’t a word we throw around lightly\",\n  \"source\": {\n    \"name\": \"Anson Mills\",\n    \"url\": \"http://www.ansonmills.com/recipes/480?recipes_by=grain\"\n  },\n  \"cookTime\": \"2 hr 20 min\",\n  \"ingredients\": [\n    \"2 ounces (4 tablespoons) European-style unsalted butter\",\n    \"1 cup heavy cream\",\n    \"1 cup whole milk\",\n    \"6 large egg yolks\",\n    \"1/3 cup sugar\",\n    \"1 1/2 teaspoons vanilla extract\",\n    \"1/8 teaspoon fine sea salt\",\n    \"2 ounces Anson Mills Antebellum Coarse Yellow Grits or Antebellum Coarse White Grits\",\n    \"2 1/2 cups spring or filtered water\",\n    \"1 teaspoon fine sea salt\",\n    \"3.5 ounces sugar\"\n  ],\n  \"directions\": [\n    \"Make the ice cream base: Set a large bowl in a sink or basin filled with lots (at least 3 quarts) of ice cubes and cold water. Have a fine-mesh strainer nearby. Melt the butter in a small heavy-bottomed saucepan over low heat, stirring with a wooden spoon to scrape the browning milk solids back into the butter, until the butter is the color of a hazelnut in the shell and the kitchen smells miraculous, 3 to 5 minutes. Pull the pan off the heat and set it aside.\",\n    \"Pour the cream and milk into a medium heavy-bottomed saucepan set over medium-high heat. Whisk the egg yolks and sugar in a medium bowl. Drizzle the hot butter cautiously into the yolk-sugar mixture a little at a time, whisking well as you do.\"\n  ],\n  \"name\": \"summer-grits-icecream\"\n},\n\"fall-peanut-butter-cookie\": {\n  \"title\": \"Peanut Butter Cookie with Salted Peanut Caramel\",\n  \"excerpt\": \"This recipe takes Peanut Butter Cookies to the next level\",\n  \"source\": {\n    \"name\": \"David Lebovitz\",\n    \"url\": \"http://www.davidlebovitz.com/2008/12/peanut-butter-cookies-with-salte-1/\"\n  },\n  \"cookTime\": \"45 min\",\n  \"ingredients\": [\n    \"8 tablespoons (115g) unsalted butter, at room temperature\",\n    \"1/2 cup (120g) packed light brown sugar\",\n    \"1/2 cup (100g) granulated sugar\",\n    \"1 large egg, at room temperature\",\n    \"1 teaspoon vanilla extract\",\n    \"3/4 cup (200g) creamy salted peanut butter\",\n    \"1 3/4 cups (250g) flour\",\n    \"1/2 teaspoon baking soda\",\n    \"1/4 teaspoon salt\",\n    \"1 cup (250ml) heavy cream\",\n    \"1/2 cup (125ml) water\",\n    \"1 cup (200g) granulated sugar\",\n    \"1 tablespoon light corn syrup or glucose\",\n    \"1/8 teaspoon coarse salt\",\n    \"3/4 cup (100g) finely chopped roasted salted peanuts\"\n  ],\n  \"directions\": [\n    \"Preheat the oven to 350F and line two baking sheets with parchment paper or silicone baking mats.\",\n    \"With an electric mixer, or by hand, make the cookie dough by beating the butter, brown and granulated sugar until smooth. Beat in the egg and vanilla until well blended. If using an electric mixer, scrape down the sides of the bowl.\"\n  ],\n  \"name\": \"fall-peanut-butter-cookie\"\n},\n\"fall-amatriciana\": {\n  \"title\": \"Bucatini all' Amatriciana\",\n  \"excerpt\": \"This dish is named for the town of Amatrice...considered by many Italians to be birthplace of the best cooks on the peninsula\",\n  \"source\": {\n    \"name\": \"Mario Batali\",\n    \"url\": \"http://www.mariobatali.com/recipes/bucatini-allamatriciana/\"\n  },\n  \"cookTime\": \"30 min\",\n  \"ingredients\": [\n    \"1/4 cup extra-virgin olive oil\",\n    \"12 ounces thinly sliced guanciale pancetta, or good bacon\",\n    \"1 red onion, cut lengthwise in half and then into 1/4-inch-thick half-moons\",\n    \"3 cloves garlic, sliced\",\n    \"1 1/2 teaspoons hot red pepper flakes\",\n    \"2 cups Basic Tomato Sauce\",\n    \"1 pound Bucatini\",\n    \"Freshly grated Pecorino Romano\"\n  ],\n  \"directions\": [\n    \"Bring 6 quarts of water to a boil in a large pot, and add 2 tablespoons salt.\",\n    \"Meanwhile, in a 10- to 12-inch saute pan, combine the olive oil, ganciale, onion, garlic, and re pepper flakes; set over low heat and cook until the onion is softened and the guanciale has rendered much of its fat, about 12 minutes.\"\n  ],\n  \"name\": \"fall-amatriciana\"\n},\n\"fall-orecchiette-sausage-ragu\": {\n  \"title\": \"Orecchiette with red lamb sausage & carrots\",\n  \"excerpt\": \"Chef di Cucina Matt Abdoo expounded on the virtues of the fundamental building block of Italian cooking: fresh pasta\",\n  \"source\": {\n    \"name\": \"Mario Batali\",\n    \"url\": \"http://www.mariobatali.com/recipes/orecchiette-with-red-lamb-sausage-carrots/\"\n  },\n  \"cookTime\": \"45 min\",\n  \"ingredients\": [\n    \"1 pound ground lamb\",\n    \"1 1/2 teaspoons salt\",\n    \"1 tablespoon red wine\",\n    \"1 teaspoon cayenne pepper\",\n    \"2 teaspoons garlic purée\",\n    \"2 tablespoons roasted red pepper purée\",\n    \"1 teaspoon freshly ground black pepper\",\n    \"2 tablespoons sweet paprika\",\n    \"1 teaspoon smoked paprika\",\n    \"1 pint carrot juice\",\n    \"2 cups diced carrots\",\n    \"2 cups chopped carrots\",\n    \"1 teaspoon sugar\",\n    \"Orange zest, to taste\",\n    \"Salt and pepper, to taste\",\n    \"1/4 cup chicken stock\",\n    \"2 tablespoons of unsalted butter\",\n    \"1 pound orecchiette pasta\",\n    \"1/4 cup pecorino cheese\",\n    \"Extra virgin olive oil\",\n    \"Breadcrumbs, for garnish\"\n  ],\n  \"directions\": [\n    \"To make the spice mixture for the sausage: In a bowl, combine spices, lamb, salt, and water. Incorporate thoroughly using your hands. Set aside.\",\n    \"To make the carrot puree: Cook carrots in carrot juice until tender. Strain, and reserve the diced carrots. Puree the remaining chopped carrots. Season with orange zest, salt and pepper to taste.  Fold the diced carrots into the seasoned carrot puree. Set aside.\"\n  ],\n  \"name\": \"fall-orecchiette-sausage-ragu\"\n},\n\"winter-braised-duck\": {\n  \"title\": \"Italian Red-Wine Braised Duck w/ Olive Gremolata\",\n  \"highlighted\": true,\n  \"excerpt\": \"A good braise always trumps a steak or a roast, both in terms of complex flavors and satisfaction\",\n  \"source\": {\n    \"name\": \"NY Times\",\n    \"url\": \"http://www.nytimes.com/recipes/1014424/italian-red-wine-braised-duck-with-olive-gremolata.html\"\n  },\n  \"cookTime\": \"2 hr 30 min\",\n  \"ingredients\": [\n    \"4 Muscovy duck legs (about 4 pounds), untrimmed\",\n    \"Salt and pepper\",\n    \"1/2 teaspoon coriander seed, toasted and coarsely ground\",\n    \"1/2 teaspoon fennel seed, toasted and coarsely ground\",\n    \"2 tablespoons olive oil\",\n    \"2 cups finely diced onion\",\n    \"3/4 cup finely diced carrot\",\n    \"3/4 cup finely diced celery\",\n    \"1 large thyme sprig\",\n    \"1 bay leaf\",\n    \"1 4-inch strip of orange peel, pith removed\",\n    \"4 garlic cloves, minced\",\n    \"2 tablespoons tomato paste\",\n    \"1 cup chopped canned or fresh tomatoes\",\n    \"1 cup dry red wine\",\n    \"3 cups chicken broth\",\n    \"Pinch cayenne or red pepper, optional\",\n    \"Olive gremolata for garnish\"\n  ],\n  \"directions\": [\n    \"Trim duck legs of extraneous fat with a sharp knife, leaving a thin layer on top. (It is best to do this straight from the fridge, while fat is still firm.) Save duck fat for rendering.\",\n    \"Season each leg generously with salt and pepper, then sprinkle with ground coriander and fennel. Massage seasoning into meat and leave at room temperature for 30 minutes, or wrap and refrigerate overnight.\"\n  ],\n  \"name\": \"winter-braised-duck\"\n},\n\"fall-chocolate-chai-cupcake\": {\n  \"title\": \"Chocolate Chai Spice Cupcake\",\n  \"excerpt\": \"The moist chocolatey goodness of the cake can live on its own\",\n  \"source\": {\n    \"name\": \"Cupcake Bakeshop\",\n    \"url\": \"http://cupcakeblog.com/?p=50\"\n  },\n  \"cookTime\": \"55 min\",\n  \"ingredients\": [\n    \"200 gram bar of Valrhona 61% cacao\",\n    \"3 sticks butter\",\n    \"2-1/4 cups sugar\",\n    \"8 eggs\",\n    \"1-1/4 cup flour\",\n    \"1/4 cup cocoa powder, unsweetened\",\n    \"1-1/2 teaspoons baking powder\",\n    \"3 teaspoons chai spice mix\",\n    \"pinch of salt\",\n    \"1 cup (2 sticks) butter\",\n    \"4-5 cups powdered sugar, sifted\",\n    \"1/4 cup milk\",\n    \"2 teaspoons chai spice mix\",\n    \"2 teaspoons minced fresh ginger\"\n  ],\n  \"directions\": [\n    \"With a small food processor, grind up the whole fennel and cloves.\",\n    \"Transfer to a small bowl and add remaining spices. Mix to combine.\"\n  ],\n  \"name\": \"fall-chocolate-chai-cupcake\"\n},\n\"fall-mexican-rice\": {\n  \"title\": \"Mexican Rice\",\n  \"excerpt\": \"\",\n  \"source\": {\n    \"name\": \"NY Times\",\n    \"url\": \"http://www.nytimes.com/recipes/1016674/mexican-rice.html\"\n  },\n  \"cookTime\": \"40 min\",\n  \"ingredients\": [\n    \"1 large clove garlic, roughly chopped\",\n    \"2 cups canned tomatoes (fresh tomatoes can be used)\",\n    \"1/2 cup green bell pepper, roughly chopped\",\n    \"1 medium onion, roughly chopped\",\n    \"1/2 medium jalapeño, seeds and veins removed\",\n    \"1 teaspoon salt\",\n    \"1/2 cup chicken stock or water\",\n    \"2 tablespoons vegetable oil\",\n    \"1 heaping cup long-grain white rice, rinsed\"\n  ],\n  \"directions\": [\n    \"Blend vegetables, salt and stock or water together into a mostly smooth purée (a few small pieces of onion and pepper are fine).\",\n    \"In a large skillet with a tightfitting lid, heat oil. Add rice and toast until it absorbs most of the oil and begins to smell nutty.\"\n  ],\n  \"name\": \"fall-mexican-rice\"\n},\n\"fall-whole-wheat-goldfish-crackers\": {\n  \"title\": \"Whole Wheat Goldfish Crackers\",\n  \"excerpt\": \"\",\n  \"source\": {\n    \"name\": \"Smitten Kitchen\",\n    \"url\": \"http://smittenkitchen.com/blog/2011/03/whole-wheat-goldfish-crackers/\"\n  },\n  \"cookTime\": \"1 hr 5 min\",\n  \"ingredients\": [\n    \"6 ounces (1 1/2 cups coarsely grated) sharp cheddar\",\n    \"4 tablespoons (2 ounces or 57 grams) butter\",\n    \"1/2 cup (2 1/2 ounces or 62 grams) whole wheat flour\",\n    \"1/4 cup (1 1/8 ounces or 31 grams) all-purpose flour\",\n    \"1/8 teaspoon onion powder\",\n    \"1/8 to 1/4 teaspoon table salt\"\n  ],\n  \"directions\": [\n    \"Preheat oven to 350°F. Combine all ingredients in a food processor, running the machine until the dough forms a ball, about two minutes.\",\n    \"If the dough feels warm or worrisome-ly soft, wrap it in waxed paper or plastic wrap and chill it in the fridge for 30 to 45 minutes. This also makes it easier to transfer shapes once they are rolled out.\"\n  ],\n  \"name\": \"fall-whole-wheat-goldfish-crackers\"\n},\n\"winter-world-peace-cookie\": {\n  \"title\": \"P.Hermé & D.Greenspan's World Peace Cookies\",\n  \"excerpt\": \"Shortbread cookie meets salted chocolate chip, and world peace feels within reach\",\n  \"source\": {\n    \"name\": \"Food52\",\n    \"url\": \"http://food52.com/recipes/25372-pierre-herme-dorie-greenspan-s-world-peace-cookies\"\n  },\n  \"cookTime\": \"35 min\",\n  \"ingredients\": [\n    \"1 1/4 cups all-purpose flour\",\n    \"1/3 cup unsweetened cocoa powder\",\n    \"1/2 teaspoon baking soda\",\n    \"1 stick plus 3 tablespoons (11 tablespoons) unsalted butter, room temperature\",\n    \"2/3 cups (packed) light brown sugar\",\n    \"1/4 cup granulated sugar\",\n    \"1/2 teaspoon fleur del sel or 1/4 teaspoon fine sea salt\",\n    \"1 teaspoon pure vanilla extract\",\n    \"5 ounces bittersweet chocolate, chopped into chips, or a generous 3/4 cup store-bought mini chocolate chips\"\n  ],\n  \"directions\": [\n    \"Sift the flour, cocoa and baking soda together.\",\n    \"Working with a stand mixer, preferably fitted with a paddle attachment, or with a hand mixer in a large bowl, beat the butter on medium speed until soft and creamy. Add both sugars, the salt and vanilla extract and beat for 2 minutes more.\"\n  ],\n  \"name\": \"winter-world-peace-cookie\"\n},\n\"winter-chocolate-tart\": {\n  \"title\": \"Chocolate Tart\",\n  \"highlighted\": true,\n  \"excerpt\": \"A good chocolate tart doesn’t need to be fancy, but it needs to be deep, dark, and yes, somewhat decadent.\",\n  \"source\": {\n    \"name\": \"David Lebovitz\",\n    \"url\": \"http://www.davidlebovitz.com/2011/10/chocolate-tart-recipe/\"\n  },\n  \"cookTime\": \"1 hr\",\n  \"ingredients\": [\n    \"1 1/4 cup (250 g) sugar\",\n    \"6 tablespoons (90 ml) warm coffee\",\n    \"4 ounces (115 g) unsalted butter, cubed, room temperature\",\n    \"pinch of sea salt\",\n    \"4 ounces (115 g) bittersweet or semisweet chocolate, chopped\",\n    \"2 ounces (55 g) unsweetened chocolate, chopped\",\n    \"2 large eggs\",\n    \"1/4 cup (35 g) flour\",\n    \"1 tablespoon dark rum or 1 teaspoon vanilla extract\",\n    \"One 9–10 inch prebaked tart shell\"\n  ],\n  \"directions\": [\n    \"Preheat oven to 350ºF (180ºC.)\",\n    \"Spread the sugar in an even layer in the bottom of a large, heavy-duty saucepan or Dutch oven. Cook the sugar over moderate heat until the edges liquefy and being to caramelize. Use a heatproof utensil to gently drag the liquefied sugar toward the center of the pan, encouraging the sugar to melt evenly.\"\n  ],\n  \"name\": \"winter-chocolate-tart\"\n},\n\"winter-braised-eggs-with-beef\": {\n  \"title\": \"Braised eggs w/ beef, smoked aubergine & tomato\",\n  \"excerpt\": \"\",\n  \"source\": {\n    \"name\": \"Ottolenghi\",\n    \"url\": \"http://www.ottolenghi.co.uk/recipes/meat/braised-eggs-with-beef-smoked-aubergine-and-tomato-shop\"\n  },\n  \"cookTime\": \"1 hr 5 min\",\n  \"ingredients\": [\n    \"4 aubergines (1.1kg gross)\",\n    \"1 tbsp olive oil, plus extra for drizzling\",\n    \"1 large onion, finely chopped (200g net)\",\n    \"6 garlic cloves, roughly chopped (20g net)\",\n    \"1/2 tsp chilli flakes\",\n    \"1/2 tsp ground cinnamon\",\n    \"1/2 tsp ground cumin\",\n    \"2 tsp tomato paste\",\n    \"300g minced beef\",\n    \"2 medium tomatoes, chopped (100g net)\",\n    \"2 tsp finely chopped preserved lemon (15g)\",\n    \"4 eggs\",\n    \"3/4 tsp sumac\",\n    \"1 tbsp chopped parsley\",\n    \"Salt and black pepper\",\n    \"40g tahini\",\n    \"2 tbsp lemon juice\",\n    \"1 garlic clove, crushed\"\n  ],\n  \"directions\": [\n    \"Pierce the aubergines with a sharp knife in a few places and place each directly over a naked flame on your stovetop. Cook on medium heat for 20 minutes, turning occasionally with metal tongs until the outside is totally burnt and the aubergine starts to collapse on itself. Alternatively, place the pierced aubergines on a tin foil lined tray under a hot grill in the oven for an hour, turning every 20 minutes. Remove from and place in a colander.\",\n    \"Cut a single slit in each aubergine, from top to bottom and allow the juices to strain. Once cool enough to handle, scoop out all the flesh, avoiding all black skin, and set aside. You should have about 370g aubergine flesh.\"\n  ],\n  \"name\": \"winter-braised-eggs-with-beef\"\n},\n\"winter-cashew-gateau\": {\n  \"title\": \"Cashew Gateau with Coffee Cardamom Mousse\",\n  \"excerpt\": \"The inspiration for the caramel stained \\\"glass\\\" panel comes from my grandmother\",\n  \"source\": {\n    \"name\": \"Tartelette\",\n    \"url\": \"http://www.tarteletteblog.com/2008/08/cashew-gateau-with-coffee-cardamom.html\"\n  },\n  \"cookTime\": \"1 hr 30 min\",\n  \"ingredients\": [\n    \"3/4 cups cashew, toasted/skinned\",\n    \"1/3 cup cake flour, unsifted\",\n    \"1 Tbsp. cornstarch\",\n    \"3 large egg yolks\",\n    \"1/2 cup sugar, divided (2Tb & 6 Tb)\",\n    \"1/2 tsp. vanilla extract\",\n    \"1/2 tsp. grated lemon rind\",\n    \"2 lg. egg whites\",\n    \"2 Tb melted butter, cooled\",\n    \"1/2 teaspoon ground cardamom\",\n    \"1/2 cup espresso or strong coffee\",\n    \"1/4 cup sugar\",\n    \"1 tsp powdered unflavored gelatin, softened in 1 tablespoon cold water\",\n    \"1 cup heavy cream, cold\",\n    \"1/2 cup heavy cream\",\n    \"3/4 cup chopped chocolate or chocolate chips (about 6 oz or 180 gr)\"\n  ],\n  \"directions\": [\n    \"Position rack in the lower 3rd of the oven and preheat to 350 degrees.\",\n    \"Grease and flour a 8” X 4” inch round springform pan.\"\n  ],\n  \"name\": \"winter-cashew-gateau\"\n}\n};","var feedSubscription;\nvar thisCurrentProduct ;\n// Handle for launch screen possibly dismissed from app-body.js\ndataReadyHold = null;\n\n// Global subscriptions\nif (Meteor.isClient) {\n  Meteor.subscribe('news');\n  Meteor.subscribe('bookmarkCounts');\n  Meteor.subscribe('images');\n  Meteor.subscribe('getSellers');\n  \n  // var resultsq = Meteor.subscribe('featuredProducts');\n \n  // Session.set('featuredProducts',resultsq);\n  feedSubscription = Meteor.subscribe('feed');\n}\n\nRouter.configure({\n  layoutTemplate: 'appBody',\n  notFoundTemplate: 'notFound'\n});\n\nif (Meteor.isClient) {\n  // Keep showing the launch screen on mobile devices until we have loaded\n  // the app's data\n  dataReadyHold = LaunchScreen.hold();\n}\n\n\n\nProductsController = RouteController.extend({\n  onBeforeAction: function () {\n \n    Meteor.subscribe('latestProducts', function () {\n      dataReadyHold.release();\n    });\n\n    Meteor.subscribe('getSellerProducts', function () {\n      dataReadyHold.release();\n    });\n  }\n});\n\nFeedController = RouteController.extend({\n  onBeforeAction: function () {\n    this.feedSubscription = feedSubscription;\n  }\n});\n\nRecipesController = RouteController.extend({\n  data: function () {\n    return _.values(RecipesData);\n  }\n});\n\nBookmarksController = RouteController.extend({\n  onBeforeAction: function () {\n    if (Meteor.user())\n      Meteor.subscribe('bookmarks');\n    else\n      Overlay.open('authOverlay');\n  },\n  data: function () {\n    if (Meteor.user())\n      return _.values(_.pick(RecipesData, Meteor.user().bookmarkedRecipeNames));\n  }\n});\n\nRecipeController = RouteController.extend({\n  onBeforeAction: function () {\n    Meteor.subscribe('recipe', this.params.name);\n  },\n  data: function () {\n    return RecipesData[this.params.name];\n  }\n});\n\n// addSellerController = RouteController.extend({\n//   onBeforeAction:function()\n//   {\n//     console.log('Seller Controller loaded');\n\n    \n//     if (Meteor.userId())\n//     {\n//       var currentSeller = Meteor.wrapAsync(getThisSeller(Meteor.userId()));     \n//     }\n//   }\n// });\n\n\n\n// function getThisSeller(id)\n// {\n//   console.log(\"Get Seller  : \" + id);\n//   var retProd = {};\n//   var returnProd=[];\n   \n//   var repro =   Meteor.apply('getProductSeller', [id],{wait: true}, function(err,data){\n//     if (!err)\n//     {\n      \n//       Session.set(\"currentSeller\",data);\n//       console.log(data);\n     \n \n//     }\n//     else\n//     {\n//       console.log(err);\n//     }\n    \n//   });\n// }\n \n \nProductController = RouteController.extend({\n  onBeforeAction : function()\n  {\n    if (this.params._id)\n    {\n      console.log(\"Product launch :\" + this.params._id);\n      sessionStorage.removeItem(\"currentProduct\");\n      Meteor.subscribe('product',Router.current().params._id);\n      var currentProduct = Meteor.wrapAsync(getThisProdData(this.params._id));\n      //var productImages = Meteor.wrapAsync(getProductImages(currentProduct.prodImg));\n      //currentProduct.prodImg = productImages;\n      dataReadyHold.release();\n\n    }\n    \n  }\n  \n  // ,\n  // data : function()\n  // {\n  //   currentProduct = Meteor.wrapAsync(getThisProdData(this.params._id));\n  // }\n  \n   \n});\n\nfunction getThisProdData(id)\n{\n  console.log(\"Get Single product publish Router Method : \" + id);\n  var retProd = {};\n  var returnProd=[];\n  var repro =   Meteor.apply('getProduct', [id],{wait: false}, function(err,data){\n    if (!err)\n    {\n      sessionStorage.removeItem(\"currentProduct\");\n      Session.set(\"currentProduct\",data);  \n    }\n    else\n    {\n      console.log(err);\n      sessionStorage.removeItem(\"currentProduct\");\n    }    \n  });  \n}\n\n\nSellerController = RouteController.extend({\n  onBeforeAction: function()\n  {\n    console.log('Seller Controller loaded');\n    if (Meteor.userId())\n    {\n      //loading.start();\n      //Meteor.subscribe('SellerDetailsImages',Meteor.userId());\n      Meteor.subscribe('getSeller',Meteor.userId());\n      Sellers.findOne({userId:Meteor.userId()});\n     \n      // Meteor.call('getSeller', [Meteor.userId()], function(error, success) { \n      //   if (error) { \n      //     console.log('error getting seller', error); \n      //     sessionStorage.removeItem(\"currentSeller\");\n      //   } \n      //   if (success) { \n      //     console.log(\"Client Router Seller : \" + success);\n      //     sessionStorage.removeItem(\"currentSeller\");\n      //     Session.set(\"currentSeller\",success);\n      //   } \n      // });\n      console.log('Seller Controller reference data');\n      Meteor.subscribe('referenceData', function () {\n        console.log(ReferenceData.find({}).count());\n        //loading.stop();\n        dataReadyHold.release();\n      });\n      \n       \n    }\n  }\n})\n\nEditProductController = RouteController.extend({\n  onBeforeAction:function(){\n    console.log(\"Edit Product\");\n    if (this.params._id)\n    {\n      console.log(\"Edit Product launch :\" + this.params._id);\n      sessionStorage.removeItem(\"currentProduct\");\n      Meteor.subscribe('product',Router.current().params._id);\n      var currentProduct = Meteor.wrapAsync(getThisProdData(this.params._id));\n      dataReadyHold.release();\n    }\n  }\n});\n\nAdminController = RouteController.extend({\n  onBeforeAction: function () {\n    Meteor.subscribe('news');\n  }\n});\n\nHomeController = RouteController.extend({\n  onBeforeAction:function(){\n      Meteor.subscribe('featuredProducts');\n    console.log(\"Home from router products \" );\n    dataReadyHold.release();\n  }\n});\n\nRouter.route('home', {\n  path: '/'\n});\n\n// Router.route('products', {\n//   path : '/products/:_searchTerm',\n//   // name: 'products',\n//   // template: 'products',\n//   });\n \nRouter.route('products');\n\nRouter.route('seller');\n\nRouter.route('feed');\n\n\n\nRouter.route('recipes');\n\nRouter.route('bookmarks');\n\nRouter.route('about');\n\nRouter.route('recipe', {\n  path: '/recipes/:name'\n});\n\nRouter.route('product', {\n  path : '/product/:_id',\n  name: 'productPage',\n  template: 'product',\n  });\n\n  Router.route('editproduct', {\n    path : '/editproduct/:_id',\n    name: 'productEditPage',\n    template: 'tmp_product_maintain',\n    layoutTemplate: null,\n    controller: EditProductController\n    });\n  \n\n  Router.route('login',{\n    path :'/login',\n    template :'authOverlay',\n    layoutTemplate: 'appBody'\n  });\n\n  Router.route('signup',{\n    path :'/signup',\n    template :'authOverlaySignup',\n    layoutTemplate: 'appBody'\n  })\n\n\nRouter.route('admin', {\n  layoutTemplate: null\n});\n\nRouter.onBeforeAction('dataNotFound', {\n  only: 'recipe'\n});\n\n"," \n\nSellers.allow({\n    insert: function(userId, doc) {\n      return doc.userId === userId;\n    },\n    update: function(userId,doc){\n      return doc.userId === userId;\n    },\n    remove: function(userId, doc) {\n        return doc.userId === userId;\n      }\n  });\n  \n \n  Meteor.methods({\n    'getSeller':function(id){\n      var result={};\n      try\n      {\n        //console.log(\" server find one : \" + id);\n        //loading.start();\n        var SellerResult = Meteor.apply('getProductSeller',[id],{returnStubValue: true});\n       \n         //console.log(\"Server seller \" );\n \n        if (SellerResult)\n        {\n          //console.log(\"has seller\");\n          result=SellerResult;\n        \n        }\n        else\n\n        {\n         // console.log(\"has no seller\");\n          result  = {\n            _id:\"\",\n             userId:Meteor.userId(),\n             businessname : \"\",\n             busTagLine: \"\",\n             busLogo: \"\",\n             busAvatar: \"\",\n             bustel: \"\",\n             buscel: \"\",\n             busemail: \"\",\n             cont1 : \"\",\n             cont2 : \"\",\n             add1: \"\",\n             add2: \"\",\n             add3: \"\",\n             add4: \"\",\n             add5: \"\",\n             website: \"\"\n  \n            }\n             \n        }\n        //loading.stop();\n      }\n      catch (exp)\n      {\n        //loading.halt();\n          throw exp;\n      }\n      //console.log(result);\n      return result;\n      \n    },\n   \n    'newSeller':function(sellerObj){\n     // var result = Products.find({_id:prodid});\n      \n     try {\n \n    \n\n      \n     var sellerResult = \n     Sellers.upsert({\n      // Selector\n      userId: sellerObj.userId \n        }, {\n      // Modifier\n      $set: {\n        businessname : sellerObj.businessname,\n        busTagLine: sellerObj.busTagLine,\n        busLogo : sellerObj.busLogo,\n        busAvatar : sellerObj.busAvatar,\n        bustel : sellerObj.bustel,\n        buscel : sellerObj.buscel,\n        busemail : sellerObj.busemail,\n        cont1 : sellerObj.cont1,\n        cont2 : sellerObj.cont2,\n        add1 : sellerObj.add1,\n        add2 : sellerObj.add2,\n        add3 : sellerObj.add3,\n        add4 : sellerObj.add4,\n        add5 : sellerObj.add5,\n        website : sellerObj.website\n      }\n      });\n       \n    //console.log(sellerResult);\n\n      //return Sellers.insert(sellerObj);\n      \n     } catch (error) {\n        \n       console.log(\"Server - Seller - \" + error);\n       throw error;\n     }\n     \n      \n    },\n    \n    'updateSeller':function(sellerObj){\n        // var result = Products.find({_id:prodid});\n         return Sellers.findOne({userId:prodid});\n    },\n    'deleteSeller':function(id){\n        // var result = Products.find({_id:prodid});\n         return Sellers.remove({userId:id});\n    }\n    \n  });\n\n    \n\n  Sellers.allSellers= function(){\n      return Sellers.find({});\n  }\n\n  Sellers.more = function(continuationValue){\n      //https://www.npmjs.com/package/mongo-cursor-pagination\n      return Sellers.find({}, {sort: {date: -1}});\n    \n  } \n\n   \n  /*\n  Meteor.methods({\n    createActivity: function(activity, tweet, loc) {\n      Meteor.userId(), String,\n      activity, {\n        recipeName: String,\n        text: String,\n        image: String\n      },\n      tweet, Boolean,\n      loc, Match.OneOf(Object, null),\n      \n      activity.userId = Meteor.userId(,\n      activity.userAvatar = Meteor.user().services.twitter.profile_image_url_https;\n      activity.userName = Meteor.user().profile.name;\n      activity.date = new Date;\n      \n      if (! this.isSimulation && loc)\n        activity.place = getLocationPlace(loc,\n      \n      var id = Activities.insert(activity,\n      \n      if (! this.isSimulation && tweet)\n        tweetActivity(activity,\n      \n      return id;\n    }\n  },\n  \n  if (Meteor.isServer) {\n    var twitterOauth = function(options) {\n      var config = Meteor.settings.twitter\n      var userConfig = Meteor.user().services.twitter;\n  \n      return {\n        consumer_key: config.consumerKey,\n        consumer_secret: config.secret,\n        token: userConfig.accessToken,\n        token_secret: userConfig.accessTokenSecret\n      };\n    }\n    \n    var tweetActivity = function(activity) {\n      // creates the tweet text, optionally truncating to fit the appended text\n      function appendTweet(text, append) {\n        var MAX = 117; // Max size of tweet with image attached\n        \n        if ((text + append).length > MAX)\n          return text.substring(0, (MAX - append.length - 3)) + '...' + append;\n        else\n          return text + append;\n      }\n      \n      // we need to strip the \"data:image/jpeg;base64,\" bit off the data url\n      var image = activity.image.replace(/^data.*base64,/, '',\n  \n      var response = HTTP.post(\n        'https://upload.twitter.com/1.1/media/upload.json', {\n          params: { media: image },\n          npmRequestOptions: { oauth: twitterOauth() }\n        }\n      ,\n      \n      if (response.statusCode !== 200)\n        throw new Meteor.Error(500, 'Unable to post image to twitter',\n  \n      if (! response.data)\n        throw new Meteor.Error(500, 'Did not receive attachment from twitter',\n  \n      var attachment = response.data;\n  \n      response = HTTP.post(\n        'https://api.twitter.com/1.1/statuses/update.json', {\n          params: {\n            status: appendTweet(activity.text, ' #localmarket'),\n            media_ids: attachment.media_id_string\n          },\n          npmRequestOptions: { oauth: twitterOauth() }\n        }\n      ,\n  \n      if (response.statusCode !== 200)\n        throw new Meteor.Error(500, 'Unable to create tweet',\n    }\n    \n    var getLocationPlace = function(loc) {\n      var url = 'https://api.twitter.com/1.1/geo/reverse_geocode.json'\n        + '?granularity=neighborhood'\n        + '&max_results=1'\n        + '&accuracy=' + loc.coords.accuracy\n        + '&lat=' + loc.coords.latitude\n        + '&long=' + loc.coords.longitude;\n      \n      var response = HTTP.get(url,\n                              {npmRequestOptions: { oauth: twitterOauth() } },\n  \n      if (response.statusCode === 200 && response.data) {\n        var place = _.find(response.data.result.places, function(place) {\n          return place.place_type === 'neighborhood';\n        },\n        \n        return place && place.full_name;\n      }\n    }\n  }\n   \n  */"]}}]