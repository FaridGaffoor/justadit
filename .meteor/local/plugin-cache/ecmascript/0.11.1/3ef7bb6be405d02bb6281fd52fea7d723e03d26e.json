{"metadata":{},"options":{"plugins":[{"key":"base$1$0","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"base$1$1","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"base$0$1","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$2","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"base$0$3","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"polyfill":false,"useBuiltIns":true}},{"key":"base$0$4","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$5","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"base$0$8","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"base$0$9","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"base$0$10","visitor":{"_exploded":{},"_verified":{},"PrivateName":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/farid/Documents/Projects/Meteor/justadit/server/publications.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining","pipelineOperator","throwExpressions","jsx",["flow",{}],["flow",{}],"objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties","classPrivateProperties"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"sourceFileName":"server/publications.js","filename":"/Users/farid/Documents/Projects/Meteor/justadit/server/publications.js","passPerPreset":false,"envName":"development","cwd":"/Users/farid/Documents/Projects/Meteor/justadit","root":"/Users/farid/Documents/Projects/Meteor/justadit","presets":[],"generatorOpts":{"filename":"/Users/farid/Documents/Projects/Meteor/justadit/server/publications.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"server/publications.js"}},"code":"Meteor.publish('bookmarkCounts', function () {\n  return BookmarkCounts.find();\n});\nMeteor.publish('news', function () {\n  return News.find({}, {\n    sort: {\n      date: -1\n    },\n    limit: 1\n  });\n});\nMeteor.publish('images', function () {\n  return Images.find({});\n});\nMeteor.publish('latestProducts', function () {\n  console.log(\"Publishing home view products :\" + Meteor.settings.featuredProductsLimit);\n  var returnProds;\n\n  try {\n    returnProds = Products.find({}, {\n      sort: {\n        createdAt: -1\n      }\n    });\n  } catch (exp) {\n    console.log(\"Server : latest Products - \" + exp);\n  }\n\n  console.log(\"Publishing Latest Product : \");\n  return returnProds;\n});\nMeteor.publish('latestActivity', function () {\n  console.log(\"Publishing Activities : \" + Activities.count);\n  return Activities.latest();\n});\nMeteor.publish('feed', function () {\n  return Activities.find({}, {\n    sort: {\n      date: -1\n    },\n    limit: 10\n  });\n});\nMeteor.publish('recipe', function (name) {\n  check(name, String);\n  return [BookmarkCounts.find({\n    recipeName: name\n  }), Activities.find({\n    recipeName: name\n  })];\n});\nMeteor.publish('referenceData', function () {\n  console.log(\"Publishing Activities : \" + ReferenceData.count);\n  return ReferenceData.find({});\n});\nMeteor.publish('allProducts', function () {//return Products.find({},{order:{createdAt:-1}});\n});\nMeteor.publish('featuredProducts', function () {\n  console.log(\"Publishing home view products :\" + Meteor.settings.featuredProductsLimit);\n  var returnProds;\n\n  try {\n    returnProds = Products.find({}, {\n      sort: {\n        createdAt: -1\n      }\n    }, {\n      limit: Meteor.settings.featuredProductsLimit\n    });\n  } catch (exp) {\n    console.log(\"Server : featuredProduct - \" + exp);\n  }\n\n  return returnProds;\n});\nMeteor.publish('product', function (id) {\n  check(id, String);\n  console.log(\"Get Single product publish : \" + id);\n  var returnProd = [];\n\n  try {\n    this.ready();\n    var Prods = Products.findOne({\n      _id: id\n    }); //console.log(Prods);\n\n    return Products.find({\n      _id: id\n    });\n  } catch (exp) {\n    this.ready();\n    console.log(\"Server : Product - \" + exp);\n  }\n});\nMeteor.publish('getSeller', function (id) {\n  check(id, String);\n  console.log(\"Getting Seller : \" + id);\n  var result = [];\n\n  try {\n    var sellers = Sellers.find({\n      userId: id\n    });\n    return sellers;\n  } catch (exp) {\n    console.log(\"Server Side : Error getting sellers - \" + exp);\n  }\n\n  return result;\n});\nMeteor.publish('getSellers', function () {\n  console.log(\"Getting Seller  Images\");\n  return Sellers.find({});\n});\nMeteor.publish('SellerDetailsImages', function (id) {\n  check(id, String);\n  console.log(\"Getting Seller Details Images\");\n  return Images.find({\n    ImageCat: 'SellerDetails',\n    SellerId: id\n  });\n});\nMeteor.publish('SellerProductImages', function (id) {\n  //check(id,String);\n  console.log(\"Getting Seller Product Images\");\n  return Images.find({\n    ImageCat: 'ProductDetails',\n    ImageId: id\n  });\n});\nMeteor.publish('SingleProductImage', function (id) {\n  //check(id, String);\n  //console.log(\"Get product single image publish : \" + id);\n  var returnImage = [];\n\n  try {\n    var img = Images.findOne({\n      ImageId: id\n    });\n    returnImage.push(img);\n  } catch (exp) {\n    console.log(\"Server - Product Image - \" + exp);\n  }\n\n  return Images.find({\n    ImageId: id\n  }, {\n    limit: 1\n  });\n});\nMeteor.publish('ProductImages', function (id) {\n  //check(id, String);\n  console.log(\"Get Seller products images publish : \" + id);\n  var returnImages = Images.find({\n    ImageId: id\n  });\n  console.log(returnImages.count());\n\n  try {\n    Images.find({\n      ImageId: id\n    }).forEach(element => {//console.log(element);\n    });\n  } catch (exp) {\n    console.log(\"Server - Product Images - \" + exp);\n  }\n\n  return returnImages;\n});\nMeteor.publish('SellerProducts', function (id) {\n  check(id, String);\n  console.log(\"Get Seller products publish : \" + id);\n\n  try {\n    var SellerProds = Products.find({\n      sellerId: id\n    });\n    return SellerProds;\n  } catch (error) {\n    throw error;\n  }\n});\nMeteor.publish('QSearch', function (options) {\n  console.log(\"Quick Search\");\n  var searchTerms = \"'/^.*\" + options + \".*$/i'\";\n  console.log(searchTerms); //$text: {$search: searchValue} },\n\n  var prods = Products.find({\n    \"producttitle\": {\n      $regex: searchTerms\n    }\n  });\n  console.log(prods.count());\n  var result = [];\n  prods.forEach(element => {\n    result.push(element);\n  }); //var result = Products.find({$text: {$search: searchTerms}}).fetch();\n  //({$text:{$search:\"tutorialspoint\"}})\n\n  console.log(result);\n  return result;\n}); // autopublish the user's bookmarks and admin status\n\nMeteor.publish(null, function () {\n  return Meteor.users.find(this.userId, {\n    fields: {\n      admin: 1,\n      bookmarkedRecipeNames: 1,\n      'services.twitter.profile_image_url_https': 1\n    }\n  });\n});","map":{"version":3,"sources":["server/publications.js"],"names":["Meteor","publish","BookmarkCounts","find","News","sort","date","limit","Images","console","log","settings","featuredProductsLimit","returnProds","Products","createdAt","exp","Activities","count","latest","name","check","String","recipeName","ReferenceData","id","returnProd","ready","Prods","findOne","_id","result","sellers","Sellers","userId","ImageCat","SellerId","ImageId","returnImage","img","push","returnImages","forEach","element","SellerProds","sellerId","error","options","searchTerms","prods","$regex","users","fields","admin","bookmarkedRecipeNames"],"mappings":"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","sourcesContent":["Meteor.publish('bookmarkCounts', function() {\n  return BookmarkCounts.find();\n});\n\nMeteor.publish('news', function() {\n  return News.find({}, {sort: {date: -1}, limit: 1});\n});\n\n\nMeteor.publish('images',function(){\n  return Images.find({});\n});\n\n \n\n\nMeteor.publish('latestProducts', function () {\n\n  console.log(\"Publishing home view products :\" + Meteor.settings.featuredProductsLimit );\n  var returnProds;\n  try\n  {\n     \n    returnProds = Products.find({},{sort:{createdAt:-1}} );\n \n  }\n  catch (exp)\n  {\n    console.log(\"Server : latest Products - \" + exp);\n  }\n  console.log(\"Publishing Latest Product : \" )\n  return returnProds;\n\n   \n  \n   \n});\n\nMeteor.publish('latestActivity', function () {\n  console.log(\"Publishing Activities : \" + Activities.count)\n  return Activities.latest();\n});\n\nMeteor.publish('feed', function() {\n  return Activities.find({}, {sort: {date: -1}, limit: 10});\n});\n\nMeteor.publish('recipe', function(name) {\n  check(name, String);\n  return [\n    BookmarkCounts.find({recipeName: name}),\n    Activities.find({recipeName: name})\n  ];\n});\n\nMeteor.publish('referenceData', function() {\n  console.log(\"Publishing Activities : \" + ReferenceData.count)\n  return ReferenceData.find({});\n});\n\nMeteor.publish('allProducts', function(){\n   //return Products.find({},{order:{createdAt:-1}});\n   \n});\n\nMeteor.publish('featuredProducts',function(){\n  console.log(\"Publishing home view products :\" + Meteor.settings.featuredProductsLimit );\n\nvar returnProds;\ntry\n{\n \n  returnProds = Products.find({},{sort:{createdAt:-1}},{limit: Meteor.settings.featuredProductsLimit});\n \n}\ncatch (exp)\n{\n  console.log(\"Server : featuredProduct - \" + exp);\n}\nreturn returnProds;\n  \n \n});\n\n\nMeteor.publish('product', function(id) {\n  check(id, String);\n  console.log(\"Get Single product publish : \" + id);\n  var returnProd=[];\n  try\n  {\n     \n    this.ready();\n    var Prods = Products.findOne({_id:id});\n    //console.log(Prods);\n    return Products.find({_id:id});\n     \n \n  }\n  catch (exp)\n  {\n    this.ready();\n    console.log(\"Server : Product - \" + exp);\n  }\n \n \n  \n   \n});\n\nMeteor.publish('getSeller',function(id){\n  check(id,String);\n  console.log(\"Getting Seller : \" + id);\n  var result = [];\n  try\n  {\n    var sellers = Sellers.find({userId:id});\n \n    return sellers;\n  }\n  catch(exp)\n  {\n    console.log(\"Server Side : Error getting sellers - \" + exp);\n  }\n  return result;\n\n});\n\nMeteor.publish('getSellers',function(){\n \n  console.log(\"Getting Seller  Images\");\n  return Sellers.find({});\n\n});\n\n  Meteor.publish('SellerDetailsImages',function(id){\n    check(id,String);\n    console.log(\"Getting Seller Details Images\");\n    return Images.find({ImageCat:'SellerDetails',SellerId:id});\n\n  });\n  Meteor.publish('SellerProductImages',function(id){\n    //check(id,String);\n    console.log(\"Getting Seller Product Images\");\n    return Images.find({ImageCat:'ProductDetails',ImageId:id});\n\n  });\n\n  Meteor.publish('SingleProductImage', function(id) {\n    //check(id, String);\n    //console.log(\"Get product single image publish : \" + id);\n    var returnImage = [];\n    try\n    {\n    var img = Images.findOne({ImageId:id});    \n    returnImage.push(img);\n    }\n    catch (exp)\n    {\n      console.log(\"Server - Product Image - \" + exp);\n    }  \n    return Images.find({ImageId:id},{limit:1});   \n     \n});\n  \n\n  Meteor.publish('ProductImages', function(id) {\n    //check(id, String);\n    console.log(\"Get Seller products images publish : \" + id);\n     var returnImages = Images.find({ImageId:id});\n     console.log(returnImages.count());\n    try\n    {\n      Images.find({ImageId:id}).forEach(element => {\n        //console.log(element);\n      });\n     \n    }\n    catch (exp)\n    {\n      console.log(\"Server - Product Images - \" + exp);\n    }\n\n    return returnImages;\n     \n});\n \n  Meteor.publish('SellerProducts', function(id) {\n    check(id, String);\n    console.log(\"Get Seller products publish : \" + id);\n    try {\n      var SellerProds = Products.find({sellerId:id});\n    return SellerProds;\n    } catch (error) {\n      throw error;\n    }\n    \n     \n});\n\nMeteor.publish('QSearch',function (options){\n console.log(\"Quick Search\");\n var searchTerms = \"'/^.*\" + options + \".*$/i'\";\n    console.log(searchTerms);\n    //$text: {$search: searchValue} },\n    var prods = Products.find({\"producttitle\":{$regex:searchTerms}});\n    console.log(prods.count());\n    var result = [];\n    prods.forEach(element => {\n      result.push(element);\n    });\n    //var result = Products.find({$text: {$search: searchTerms}}).fetch();\n    //({$text:{$search:\"tutorialspoint\"}})\n    \n    console.log(result);\n    return result;\n  \n});\n// autopublish the user's bookmarks and admin status\nMeteor.publish(null, function() {\n  return Meteor.users.find(this.userId, {\n    fields: {\n      admin: 1,\n      bookmarkedRecipeNames: 1,\n      'services.twitter.profile_image_url_https': 1\n    }\n  });\n});"]},"sourceType":"script","hash":"3ef7bb6be405d02bb6281fd52fea7d723e03d26e"}
